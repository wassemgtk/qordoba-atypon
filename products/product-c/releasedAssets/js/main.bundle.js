!function(){function menubar$1(e,t){this.$id=$("#"+e),this.$rootItems=this.$id.children("li"),this.$items=this.$id.find(".menu-item"),this.$parents=this.$id.find(".menu-parent"),this.$allItems=this.$parents.add(this.$items),this.$activeItem=null,this.vmenu=t,this.bChildOpen=!1,this.keys={tab:9,enter:13,esc:27,space:32,left:37,up:38,right:39,down:40},this.bindHandlers()}function loadInstitutionPage(e){var t=$(e).val();location.href=t}function setMinContentHeight(){$("main").css("min-height",$(window).height()-($("footer").height()+parseInt($("footer").css("margin-top"))))}window.UX={},UX.grid={screenXs:"532",screenSm:"768",screenMd:"992",screenLg:"1200",screenXlg:"1920",containerMobile:"500",containerXs:"",containerTablet:"736",containerSm:"",containerDesktop:"960",containerMd:"",containerLargeDesktop:"1080",containerLg:""},function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}(window,function(e,t){"use strict";function i(e,t){var i=(t=t||ee).createElement("script");i.text=e,t.head.appendChild(i).parentNode.removeChild(i)}function n(e){var t=!!e&&"length"in e&&e.length,i=ue.type(e);return"function"!==i&&!ue.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function s(e,t,i){return ue.isFunction(t)?ue.grep(e,function(e,n){return!!t.call(e,n,e)!==i}):t.nodeType?ue.grep(e,function(e){return e===t!==i}):"string"!=typeof t?ue.grep(e,function(e){return oe.call(t,e)>-1!==i}):we.test(t)?ue.filter(t,e,i):(t=ue.filter(t,e),ue.grep(e,function(e){return oe.call(t,e)>-1!==i&&1===e.nodeType}))}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function a(e){var t={};return ue.each(e.match(De)||[],function(e,i){t[i]=!0}),t}function r(e){return e}function l(e){throw e}function c(e,t,i){var n;try{e&&ue.isFunction(n=e.promise)?n.call(e).done(t).fail(i):e&&ue.isFunction(n=e.then)?n.call(e,t,i):t.call(void 0,e)}catch(e){i.call(void 0,e)}}function d(){ee.removeEventListener("DOMContentLoaded",d),e.removeEventListener("load",d),ue.ready()}function h(){this.expando=ue.expando+h.uid++}function u(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:je.test(e)?JSON.parse(e):e)}function p(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(Ne,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i=u(i)}catch(e){}Ae.set(e,t,i)}else i=void 0;return i}function f(e,t,i,n){var s,o=1,a=20,r=n?function(){return n.cur()}:function(){return ue.css(e,t,"")},l=r(),c=i&&i[3]||(ue.cssNumber[t]?"":"px"),d=(ue.cssNumber[t]||"px"!==c&&+l)&&Oe.exec(ue.css(e,t));if(d&&d[3]!==c){c=c||d[3],i=i||[],d=+l||1;do{d/=o=o||".5",ue.style(e,t,d+c)}while(o!==(o=r()/l)&&1!==o&&--a)}return i&&(d=+d||+l||0,s=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=d,n.end=s)),s}function m(e){var t,i=e.ownerDocument,n=e.nodeName,s=Be[n];return s||(t=i.body.appendChild(i.createElement(n)),s=ue.css(t,"display"),t.parentNode.removeChild(t),"none"===s&&(s="block"),Be[n]=s,s)}function g(e,t){for(var i,n,s=[],o=0,a=e.length;o<a;o++)(n=e[o]).style&&(i=n.style.display,t?("none"===i&&(s[o]=Me.get(n,"display")||null,s[o]||(n.style.display="")),""===n.style.display&&Fe(n)&&(s[o]=m(n))):"none"!==i&&(s[o]="none",Me.set(n,"display",i)));for(o=0;o<a;o++)null!=s[o]&&(e[o].style.display=s[o]);return e}function v(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&ue.nodeName(e,t)?ue.merge([e],i):i}function $(e,t){for(var i=0,n=e.length;i<n;i++)Me.set(e[i],"globalEval",!t||Me.get(t[i],"globalEval"))}function b(e,t,i,n,s){for(var o,a,r,l,c,d,h=t.createDocumentFragment(),u=[],p=0,f=e.length;p<f;p++)if((o=e[p])||0===o)if("object"===ue.type(o))ue.merge(u,o.nodeType?[o]:o);else if(Ve.test(o)){for(a=a||h.appendChild(t.createElement("div")),r=(Ue.exec(o)||["",""])[1].toLowerCase(),l=We[r]||We._default,a.innerHTML=l[1]+ue.htmlPrefilter(o)+l[2],d=l[0];d--;)a=a.lastChild;ue.merge(u,a.childNodes),(a=h.firstChild).textContent=""}else u.push(t.createTextNode(o));for(h.textContent="",p=0;o=u[p++];)if(n&&ue.inArray(o,n)>-1)s&&s.push(o);else if(c=ue.contains(o.ownerDocument,o),a=v(h.appendChild(o),"script"),c&&$(a),i)for(d=0;o=a[d++];)Xe.test(o.type||"")&&i.push(o);return h}function y(){return!0}function _(){return!1}function w(){try{return ee.activeElement}catch(e){}}function x(e,t,i,n,s,o){var a,r;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=void 0);for(r in t)x(e,r,i,n,t[r],o);return e}if(null==n&&null==s?(s=i,n=i=void 0):null==s&&("string"==typeof i?(s=n,n=void 0):(s=n,n=i,i=void 0)),!1===s)s=_;else if(!s)return e;return 1===o&&(a=s,(s=function(e){return ue().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=ue.guid++)),e.each(function(){ue.event.add(this,t,s,n,i)})}function C(e,t){return ue.nodeName(e,"table")&&ue.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function k(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function S(e){var t=et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function D(e,t){var i,n,s,o,a,r,l,c;if(1===t.nodeType){if(Me.hasData(e)&&(o=Me.access(e),a=Me.set(t,o),c=o.events)){delete a.handle,a.events={};for(s in c)for(i=0,n=c[s].length;i<n;i++)ue.event.add(t,s,c[s][i])}Ae.hasData(e)&&(r=Ae.access(e),l=ue.extend({},r),Ae.set(t,l))}}function T(e,t){var i=t.nodeName.toLowerCase();"input"===i&&ze.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function E(e,t,n,s){t=ne.apply([],t);var o,a,r,l,c,d,h=0,u=e.length,p=u-1,f=t[0],m=ue.isFunction(f);if(m||u>1&&"string"==typeof f&&!he.checkClone&&Ge.test(f))return e.each(function(i){var o=e.eq(i);m&&(t[0]=f.call(this,i,o.html())),E(o,t,n,s)});if(u&&(o=b(t,e[0].ownerDocument,!1,e,s),a=o.firstChild,1===o.childNodes.length&&(o=a),a||s)){for(l=(r=ue.map(v(o,"script"),k)).length;h<u;h++)c=o,h!==p&&(c=ue.clone(c,!0,!0),l&&ue.merge(r,v(c,"script"))),n.call(e[h],c,h);if(l)for(d=r[r.length-1].ownerDocument,ue.map(r,S),h=0;h<l;h++)c=r[h],Xe.test(c.type||"")&&!Me.access(c,"globalEval")&&ue.contains(d,c)&&(c.src?ue._evalUrl&&ue._evalUrl(c.src):i(c.textContent.replace(tt,""),d))}return e}function P(e,t,i){for(var n,s=t?ue.filter(t,e):e,o=0;null!=(n=s[o]);o++)i||1!==n.nodeType||ue.cleanData(v(n)),n.parentNode&&(i&&ue.contains(n.ownerDocument,n)&&$(v(n,"script")),n.parentNode.removeChild(n));return e}function I(e,t,i){var n,s,o,a,r=e.style;return(i=i||st(e))&&(""!==(a=i.getPropertyValue(t)||i[t])||ue.contains(e.ownerDocument,e)||(a=ue.style(e,t)),!he.pixelMarginRight()&&nt.test(a)&&it.test(t)&&(n=r.width,s=r.minWidth,o=r.maxWidth,r.minWidth=r.maxWidth=r.width=a,a=i.width,r.width=n,r.minWidth=s,r.maxWidth=o)),void 0!==a?a+"":a}function M(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function A(e){if(e in ct)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=lt.length;i--;)if((e=lt[i]+t)in ct)return e}function j(e,t,i){var n=Oe.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function N(e,t,i,n,s){var o,a=0;for(o=i===(n?"border":"content")?4:"width"===t?1:0;o<4;o+=2)"margin"===i&&(a+=ue.css(e,i+Re[o],!0,s)),n?("content"===i&&(a-=ue.css(e,"padding"+Re[o],!0,s)),"margin"!==i&&(a-=ue.css(e,"border"+Re[o]+"Width",!0,s))):(a+=ue.css(e,"padding"+Re[o],!0,s),"padding"!==i&&(a+=ue.css(e,"border"+Re[o]+"Width",!0,s)));return a}function H(e,t,i){var n,s=!0,o=st(e),a="border-box"===ue.css(e,"boxSizing",!1,o);if(e.getClientRects().length&&(n=e.getBoundingClientRect()[t]),n<=0||null==n){if(((n=I(e,t,o))<0||null==n)&&(n=e.style[t]),nt.test(n))return n;s=a&&(he.boxSizingReliable()||n===e.style[t]),n=parseFloat(n)||0}return n+N(e,t,i||(a?"border":"content"),s,o)+"px"}function O(e,t,i,n,s){return new O.prototype.init(e,t,i,n,s)}function R(){ht&&(e.requestAnimationFrame(R),ue.fx.tick())}function F(){return e.setTimeout(function(){dt=void 0}),dt=ue.now()}function L(e,t){var i,n=0,s={height:e};for(t=t?1:0;n<4;n+=2-t)s["margin"+(i=Re[n])]=s["padding"+i]=e;return t&&(s.opacity=s.width=e),s}function B(e,t,i){for(var n,s=(U.tweeners[t]||[]).concat(U.tweeners["*"]),o=0,a=s.length;o<a;o++)if(n=s[o].call(i,t,e))return n}function z(e,t){var i,n,s,o,a;for(i in e)if(n=ue.camelCase(i),s=t[n],o=e[i],ue.isArray(o)&&(s=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),(a=ue.cssHooks[n])&&"expand"in a){o=a.expand(o),delete e[n];for(i in o)i in e||(e[i]=o[i],t[i]=s)}else t[n]=s}function U(e,t,i){var n,s,o=0,a=U.prefilters.length,r=ue.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=dt||F(),i=Math.max(0,c.startTime+c.duration-t),n=1-(i/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(n);return r.notifyWith(e,[c,n,i]),n<1&&a?i:(r.resolveWith(e,[c]),!1)},c=r.promise({elem:e,props:ue.extend({},t),opts:ue.extend(!0,{specialEasing:{},easing:ue.easing._default},i),originalProperties:t,originalOptions:i,startTime:dt||F(),duration:i.duration,tweens:[],createTween:function(t,i){var n=ue.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(s)return this;for(s=!0;i<n;i++)c.tweens[i].run(1);return t?(r.notifyWith(e,[c,1,0]),r.resolveWith(e,[c,t])):r.rejectWith(e,[c,t]),this}}),d=c.props;for(z(d,c.opts.specialEasing);o<a;o++)if(n=U.prefilters[o].call(c,e,d,c.opts))return ue.isFunction(n.stop)&&(ue._queueHooks(c.elem,c.opts.queue).stop=ue.proxy(n.stop,n)),n;return ue.map(d,B,c),ue.isFunction(c.opts.start)&&c.opts.start.call(e,c),ue.fx.timer(ue.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function X(e){return(e.match(De)||[]).join(" ")}function W(e){return e.getAttribute&&e.getAttribute("class")||""}function V(e,t,i,n){var s;if(ue.isArray(t))ue.each(t,function(t,s){i||xt.test(e)?n(e,s):V(e+"["+("object"==typeof s&&null!=s?t:"")+"]",s,i,n)});else if(i||"object"!==ue.type(t))n(e,t);else for(s in t)V(e+"["+s+"]",t[s],i,n)}function q(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,s=0,o=t.toLowerCase().match(De)||[];if(ue.isFunction(i))for(;n=o[s++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Y(e,t,i,n){function s(r){var l;return o[r]=!0,ue.each(e[r]||[],function(e,r){var c=r(t,i,n);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)}),l}var o={},a=e===jt;return s(t.dataTypes[0])||!o["*"]&&s("*")}function K(e,t){var i,n,s=ue.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((s[i]?e:n||(n={}))[i]=t[i]);return n&&ue.extend(!0,e,n),e}function Q(e,t,i){for(var n,s,o,a,r=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(s in r)if(r[s]&&r[s].test(n)){l.unshift(s);break}if(l[0]in i)o=l[0];else{for(s in i){if(!l[0]||e.converters[s+" "+l[0]]){o=s;break}a||(a=s)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),i[o]}function Z(e,t,i,n){var s,o,a,r,l,c={},d=e.dataTypes.slice();if(d[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=d.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(s in c)if((r=s.split(" "))[1]===o&&(a=c[l+" "+r[0]]||c["* "+r[0]])){!0===a?a=c[s]:!0!==c[s]&&(o=r[0],d.unshift(r[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function J(e){return ue.isWindow(e)?e:9===e.nodeType&&e.defaultView}var G=[],ee=e.document,te=Object.getPrototypeOf,ie=G.slice,ne=G.concat,se=G.push,oe=G.indexOf,ae={},re=ae.toString,le=ae.hasOwnProperty,ce=le.toString,de=ce.call(Object),he={},ue=function(e,t){return new ue.fn.init(e,t)},pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,fe=/^-ms-/,me=/-([a-z])/g,ge=function(e,t){return t.toUpperCase()};ue.fn=ue.prototype={jquery:"3.1.1",constructor:ue,length:0,toArray:function(){return ie.call(this)},get:function(e){return null==e?ie.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ue.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ue.each(this,e)},map:function(e){return this.pushStack(ue.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(ie.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:se,sort:G.sort,splice:G.splice},ue.extend=ue.fn.extend=function(){var e,t,i,n,s,o,a=arguments[0]||{},r=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[r]||{},r++),"object"==typeof a||ue.isFunction(a)||(a={}),r===l&&(a=this,r--);r<l;r++)if(null!=(e=arguments[r]))for(t in e)i=a[t],a!==(n=e[t])&&(c&&n&&(ue.isPlainObject(n)||(s=ue.isArray(n)))?(s?(s=!1,o=i&&ue.isArray(i)?i:[]):o=i&&ue.isPlainObject(i)?i:{},a[t]=ue.extend(c,o,n)):void 0!==n&&(a[t]=n));return a},ue.extend({expando:"jQuery"+("3.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ue.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=ue.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==re.call(e))&&(!(t=te(e))||"function"==typeof(i=le.call(t,"constructor")&&t.constructor)&&ce.call(i)===de)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ae[re.call(e)]||"object":typeof e},globalEval:function(e){i(e)},camelCase:function(e){return e.replace(fe,"ms-").replace(me,ge)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,s=0;if(n(e))for(i=e.length;s<i&&!1!==t.call(e[s],s,e[s]);s++);else for(s in e)if(!1===t.call(e[s],s,e[s]))break;return e},trim:function(e){return null==e?"":(e+"").replace(pe,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?ue.merge(i,"string"==typeof e?[e]:e):se.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:oe.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,s=e.length;n<i;n++)e[s++]=t[n];return e.length=s,e},grep:function(e,t,i){for(var n=[],s=0,o=e.length,a=!i;s<o;s++)!t(e[s],s)!==a&&n.push(e[s]);return n},map:function(e,t,i){var s,o,a=0,r=[];if(n(e))for(s=e.length;a<s;a++)null!=(o=t(e[a],a,i))&&r.push(o);else for(a in e)null!=(o=t(e[a],a,i))&&r.push(o);return ne.apply([],r)},guid:1,proxy:function(e,t){var i,n,s;if("string"==typeof t&&(i=e[t],t=e,e=i),ue.isFunction(e))return n=ie.call(arguments,2),s=function(){return e.apply(t||this,n.concat(ie.call(arguments)))},s.guid=e.guid=e.guid||ue.guid++,s},now:Date.now,support:he}),"function"==typeof Symbol&&(ue.fn[Symbol.iterator]=G[Symbol.iterator]),ue.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ae["[object "+t+"]"]=t.toLowerCase()});var ve=function(e){function t(e,t,i,n){var s,o,a,r,l,d,u,p=t&&t.ownerDocument,f=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return i;if(!n&&((t?t.ownerDocument||t:F)!==I&&P(t),t=t||I,A)){if(11!==f&&(l=me.exec(e)))if(s=l[1]){if(9===f){if(!(a=t.getElementById(s)))return i;if(a.id===s)return i.push(a),i}else if(p&&(a=p.getElementById(s))&&O(t,a)&&a.id===s)return i.push(a),i}else{if(l[2])return Q.apply(i,t.getElementsByTagName(e)),i;if((s=l[3])&&y.getElementsByClassName&&t.getElementsByClassName)return Q.apply(i,t.getElementsByClassName(s)),i}if(y.qsa&&!X[e+" "]&&(!j||!j.test(e))){if(1!==f)p=t,u=e;else if("object"!==t.nodeName.toLowerCase()){for((r=t.getAttribute("id"))?r=r.replace(be,ye):t.setAttribute("id",r=R),o=(d=C(e)).length;o--;)d[o]="#"+r+" "+h(d[o]);u=d.join(","),p=ge.test(e)&&c(t.parentNode)||t}if(u)try{return Q.apply(i,p.querySelectorAll(u)),i}catch(e){}finally{r===R&&t.removeAttribute("id")}}}return S(e.replace(oe,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>_.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[R]=!0,e}function s(e){var t=I.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var i=e.split("|"),n=i.length;n--;)_.attrHandle[i[n]]=t}function a(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function r(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&we(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function l(e){return n(function(t){return t=+t,n(function(i,n){for(var s,o=e([],i.length,t),a=o.length;a--;)i[s=o[a]]&&(i[s]=!(n[s]=i[s]))})})}function c(e){return e&&void 0!==e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function u(e,t,i){var n=t.dir,s=t.next,o=s||n,a=i&&"parentNode"===o,r=B++;return t.first?function(t,i,s){for(;t=t[n];)if(1===t.nodeType||a)return e(t,i,s);return!1}:function(t,i,l){var c,d,h,u=[L,r];if(l){for(;t=t[n];)if((1===t.nodeType||a)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||a)if(h=t[R]||(t[R]={}),d=h[t.uniqueID]||(h[t.uniqueID]={}),s&&s===t.nodeName.toLowerCase())t=t[n]||t;else{if((c=d[o])&&c[0]===L&&c[1]===r)return u[2]=c[2];if(d[o]=u,u[2]=e(t,i,l))return!0}return!1}}function p(e){return e.length>1?function(t,i,n){for(var s=e.length;s--;)if(!e[s](t,i,n))return!1;return!0}:e[0]}function f(e,i,n){for(var s=0,o=i.length;s<o;s++)t(e,i[s],n);return n}function m(e,t,i,n,s){for(var o,a=[],r=0,l=e.length,c=null!=t;r<l;r++)(o=e[r])&&(i&&!i(o,n,s)||(a.push(o),c&&t.push(r)));return a}function g(e,t,i,s,o,a){return s&&!s[R]&&(s=g(s)),o&&!o[R]&&(o=g(o,a)),n(function(n,a,r,l){var c,d,h,u=[],p=[],g=a.length,v=n||f(t||"*",r.nodeType?[r]:r,[]),$=!e||!n&&t?v:m(v,u,e,r,l),b=i?o||(n?e:g||s)?[]:a:$;if(i&&i($,b,r,l),s)for(c=m(b,p),s(c,[],r,l),d=c.length;d--;)(h=c[d])&&(b[p[d]]=!($[p[d]]=h));if(n){if(o||e){if(o){for(c=[],d=b.length;d--;)(h=b[d])&&c.push($[d]=h);o(null,b=[],c,l)}for(d=b.length;d--;)(h=b[d])&&(c=o?J(n,h):u[d])>-1&&(n[c]=!(a[c]=h))}}else b=m(b===a?b.splice(g,b.length):b),o?o(null,a,b,l):Q.apply(a,b)})}function v(e){for(var t,i,n,s=e.length,o=_.relative[e[0].type],a=o||_.relative[" "],r=o?1:0,l=u(function(e){return e===t},a,!0),c=u(function(e){return J(t,e)>-1},a,!0),d=[function(e,i,n){var s=!o&&(n||i!==D)||((t=i).nodeType?l(e,i,n):c(e,i,n));return t=null,s}];r<s;r++)if(i=_.relative[e[r].type])d=[u(p(d),i)];else{if((i=_.filter[e[r].type].apply(null,e[r].matches))[R]){for(n=++r;n<s&&!_.relative[e[n].type];n++);return g(r>1&&p(d),r>1&&h(e.slice(0,r-1).concat({value:" "===e[r-2].type?"*":""})).replace(oe,"$1"),i,r<n&&v(e.slice(r,n)),n<s&&v(e=e.slice(n)),n<s&&h(e))}d.push(i)}return p(d)}function $(e,i){var s=i.length>0,o=e.length>0,a=function(n,a,r,l,c){var d,h,u,p=0,f="0",g=n&&[],v=[],$=D,b=n||o&&_.find.TAG("*",c),y=L+=null==$?1:Math.random()||.1,w=b.length;for(c&&(D=a===I||a||c);f!==w&&null!=(d=b[f]);f++){if(o&&d){for(h=0,a||d.ownerDocument===I||(P(d),r=!A);u=e[h++];)if(u(d,a||I,r)){l.push(d);break}c&&(L=y)}s&&((d=!u&&d)&&p--,n&&g.push(d))}if(p+=f,s&&f!==p){for(h=0;u=i[h++];)u(g,v,a,r);if(n){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=Y.call(l));v=m(v)}Q.apply(l,v),c&&!n&&v.length>0&&p+i.length>1&&t.uniqueSort(l)}return c&&(L=y,D=$),g};return s?n(a):a}var b,y,_,w,x,C,k,S,D,T,E,P,I,M,A,j,N,H,O,R="sizzle"+1*new Date,F=e.document,L=0,B=0,z=i(),U=i(),X=i(),W=function(e,t){return e===t&&(E=!0),0},V={}.hasOwnProperty,q=[],Y=q.pop,K=q.push,Q=q.push,Z=q.slice,J=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},G="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ie="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",ne=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",se=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),re=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ce=new RegExp(ne),de=new RegExp("^"+te+"$"),he={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+ne),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+G+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},ue=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,fe=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/[+~]/,ve=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),$e=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ye=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},_e=function(){P()},we=u(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{Q.apply(q=Z.call(F.childNodes),F.childNodes),q[F.childNodes.length].nodeType}catch(e){Q={apply:q.length?function(e,t){K.apply(e,Z.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}y=t.support={},x=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},P=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:F;return n!==I&&9===n.nodeType&&n.documentElement?(I=n,M=I.documentElement,A=!x(I),F!==I&&(i=I.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",_e,!1):i.attachEvent&&i.attachEvent("onunload",_e)),y.attributes=s(function(e){return e.className="i",!e.getAttribute("className")}),y.getElementsByTagName=s(function(e){return e.appendChild(I.createComment("")),!e.getElementsByTagName("*").length}),y.getElementsByClassName=fe.test(I.getElementsByClassName),y.getById=s(function(e){return M.appendChild(e).id=R,!I.getElementsByName||!I.getElementsByName(R).length}),y.getById?(_.filter.ID=function(e){var t=e.replace(ve,$e);return function(e){return e.getAttribute("id")===t}},_.find.ID=function(e,t){if(void 0!==t.getElementById&&A){var i=t.getElementById(e);return i?[i]:[]}}):(_.filter.ID=function(e){var t=e.replace(ve,$e);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},_.find.ID=function(e,t){if(void 0!==t.getElementById&&A){var i,n,s,o=t.getElementById(e);if(o){if((i=o.getAttributeNode("id"))&&i.value===e)return[o];for(s=t.getElementsByName(e),n=0;o=s[n++];)if((i=o.getAttributeNode("id"))&&i.value===e)return[o]}return[]}}),_.find.TAG=y.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):y.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],s=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[s++];)1===i.nodeType&&n.push(i);return n}return o},_.find.CLASS=y.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&A)return t.getElementsByClassName(e)},N=[],j=[],(y.qsa=fe.test(I.querySelectorAll))&&(s(function(e){M.appendChild(e).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||j.push("\\["+ee+"*(?:value|"+G+")"),e.querySelectorAll("[id~="+R+"-]").length||j.push("~="),e.querySelectorAll(":checked").length||j.push(":checked"),e.querySelectorAll("a#"+R+"+*").length||j.push(".#.+[+~]")}),s(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=I.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&j.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&j.push(":enabled",":disabled"),M.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&j.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),j.push(",.*:")})),(y.matchesSelector=fe.test(H=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&s(function(e){y.disconnectedMatch=H.call(e,"*"),H.call(e,"[s!='']:x"),N.push("!=",ne)}),j=j.length&&new RegExp(j.join("|")),N=N.length&&new RegExp(N.join("|")),t=fe.test(M.compareDocumentPosition),O=t||fe.test(M.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return E=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!y.sortDetached&&t.compareDocumentPosition(e)===i?e===I||e.ownerDocument===F&&O(F,e)?-1:t===I||t.ownerDocument===F&&O(F,t)?1:T?J(T,e)-J(T,t):0:4&i?-1:1)}:function(e,t){if(e===t)return E=!0,0;var i,n=0,s=e.parentNode,o=t.parentNode,r=[e],l=[t];if(!s||!o)return e===I?-1:t===I?1:s?-1:o?1:T?J(T,e)-J(T,t):0;if(s===o)return a(e,t);for(i=e;i=i.parentNode;)r.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;r[n]===l[n];)n++;return n?a(r[n],l[n]):r[n]===F?-1:l[n]===F?1:0},I):I},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==I&&P(e),i=i.replace(le,"='$1']"),y.matchesSelector&&A&&!X[i+" "]&&(!N||!N.test(i))&&(!j||!j.test(i)))try{var n=H.call(e,i);if(n||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return t(i,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&P(e),O(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&P(e);var i=_.attrHandle[t.toLowerCase()],n=i&&V.call(_.attrHandle,t.toLowerCase())?i(e,t,!A):void 0;return void 0!==n?n:y.attributes||!A?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.escape=function(e){return(e+"").replace(be,ye)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,s=0;if(E=!y.detectDuplicates,T=!y.sortStable&&e.slice(0),e.sort(W),E){for(;t=e[s++];)t===e[s]&&(n=i.push(s));for(;n--;)e.splice(i[n],1)}return T=null,e},w=t.getText=function(e){var t,i="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=w(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n++];)i+=w(t);return i},(_=t.selectors={cacheLength:50,createPseudo:n,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,$e),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,$e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ce.test(i)&&(t=C(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,$e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(s){var o=t.attr(s,e);return null==o?"!="===i:!i||(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(se," ")+" ").indexOf(n)>-1:"|="===i&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,s){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),r="of-type"===t;return 1===n&&0===s?function(e){return!!e.parentNode}:function(t,i,l){var c,d,h,u,p,f,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=r&&t.nodeName.toLowerCase(),$=!l&&!r,b=!1;if(g){if(o){for(;m;){for(u=t;u=u[m];)if(r?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&$){for(b=(p=(c=(d=(h=(u=g)[R]||(u[R]={}))[u.uniqueID]||(h[u.uniqueID]={}))[e]||[])[0]===L&&c[1])&&c[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(b=p=0)||f.pop();)if(1===u.nodeType&&++b&&u===t){d[e]=[L,p,b];break}}else if($&&(b=p=(c=(d=(h=(u=t)[R]||(u[R]={}))[u.uniqueID]||(h[u.uniqueID]={}))[e]||[])[0]===L&&c[1]),!1===b)for(;(u=++p&&u&&u[m]||(b=p=0)||f.pop())&&((r?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++b||($&&((d=(h=u[R]||(u[R]={}))[u.uniqueID]||(h[u.uniqueID]={}))[e]=[L,b]),u!==t)););return(b-=s)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,i){var s,o=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[R]?o(i):o.length>1?(s=[e,e,"",i],_.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,s=o(e,i),a=s.length;a--;)e[n=J(e,s[a])]=!(t[n]=s[a])}):function(e){return o(e,0,s)}):o}},pseudos:{not:n(function(e){var t=[],i=[],s=k(e.replace(oe,"$1"));return s[R]?n(function(e,t,i,n){for(var o,a=s(e,null,n,[]),r=e.length;r--;)(o=a[r])&&(e[r]=!(t[r]=o))}):function(e,n,o){return t[0]=e,s(t,null,o,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(ve,$e),function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),lang:n(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ve,$e).toLowerCase(),function(t){var i;do{if(i=A?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:r(!1),disabled:r(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return ue.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,i){return[i<0?i+t:i]}),even:l(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:l(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:l(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:l(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=_.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[b]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(b);for(b in{submit:!0,reset:!0})_.pseudos[b]=function(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}(b);return d.prototype=_.filters=_.pseudos,_.setFilters=new d,C=t.tokenize=function(e,i){var n,s,o,a,r,l,c,d=U[e+" "];if(d)return i?0:d.slice(0);for(r=e,l=[],c=_.preFilter;r;){n&&!(s=ae.exec(r))||(s&&(r=r.slice(s[0].length)||r),l.push(o=[])),n=!1,(s=re.exec(r))&&(n=s.shift(),o.push({value:n,type:s[0].replace(oe," ")}),r=r.slice(n.length));for(a in _.filter)!(s=he[a].exec(r))||c[a]&&!(s=c[a](s))||(n=s.shift(),o.push({value:n,type:a,matches:s}),r=r.slice(n.length));if(!n)break}return i?r.length:r?t.error(e):U(e,l).slice(0)},k=t.compile=function(e,t){var i,n=[],s=[],o=X[e+" "];if(!o){for(t||(t=C(e)),i=t.length;i--;)(o=v(t[i]))[R]?n.push(o):s.push(o);(o=X(e,$(s,n))).selector=e}return o},S=t.select=function(e,t,i,n){var s,o,a,r,l,d="function"==typeof e&&e,u=!n&&C(e=d.selector||e);if(i=i||[],1===u.length){if((o=u[0]=u[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&A&&_.relative[o[1].type]){if(!(t=(_.find.ID(a.matches[0].replace(ve,$e),t)||[])[0]))return i;d&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(s=he.needsContext.test(e)?0:o.length;s--&&(a=o[s],!_.relative[r=a.type]);)if((l=_.find[r])&&(n=l(a.matches[0].replace(ve,$e),ge.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(s,1),!(e=n.length&&h(o)))return Q.apply(i,n),i;break}}return(d||k(e,u))(n,t,!A,i,!t||ge.test(e)&&c(t.parentNode)||t),i},y.sortStable=R.split("").sort(W).join("")===R,y.detectDuplicates=!!E,P(),y.sortDetached=s(function(e){return 1&e.compareDocumentPosition(I.createElement("fieldset"))}),s(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),y.attributes&&s(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),s(function(e){return null==e.getAttribute("disabled")})||o(G,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);ue.find=ve,ue.expr=ve.selectors,ue.expr[":"]=ue.expr.pseudos,ue.uniqueSort=ue.unique=ve.uniqueSort,ue.text=ve.getText,ue.isXMLDoc=ve.isXML,ue.contains=ve.contains,ue.escapeSelector=ve.escape;var $e=function(e,t,i){for(var n=[],s=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(s&&ue(e).is(i))break;n.push(e)}return n},be=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},ye=ue.expr.match.needsContext,_e=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,we=/^.[^:#\[\.,]*$/;ue.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?ue.find.matchesSelector(n,e)?[n]:[]:ue.find.matches(e,ue.grep(t,function(e){return 1===e.nodeType}))},ue.fn.extend({find:function(e){var t,i,n=this.length,s=this;if("string"!=typeof e)return this.pushStack(ue(e).filter(function(){for(t=0;t<n;t++)if(ue.contains(s[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)ue.find(e,s[t],i);return n>1?ue.uniqueSort(i):i},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&ye.test(e)?ue(e):e||[],!1).length}});var xe,Ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ue.fn.init=function(e,t,i){var n,s;if(!e)return this;if(i=i||xe,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ce.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ue?t[0]:t,ue.merge(this,ue.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ee,!0)),_e.test(n[1])&&ue.isPlainObject(t))for(n in t)ue.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(s=ee.getElementById(n[2]))&&(this[0]=s,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):ue.isFunction(e)?void 0!==i.ready?i.ready(e):e(ue):ue.makeArray(e,this)}).prototype=ue.fn,xe=ue(ee);var ke=/^(?:parents|prev(?:Until|All))/,Se={children:!0,contents:!0,next:!0,prev:!0};ue.fn.extend({has:function(e){var t=ue(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(ue.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,s=this.length,o=[],a="string"!=typeof e&&ue(e);if(!ye.test(e))for(;n<s;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&ue.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?ue.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?oe.call(ue(e),this[0]):oe.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ue.uniqueSort(ue.merge(this.get(),ue(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ue.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return $e(e,"parentNode")},parentsUntil:function(e,t,i){return $e(e,"parentNode",i)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return $e(e,"nextSibling")},prevAll:function(e){return $e(e,"previousSibling")},nextUntil:function(e,t,i){return $e(e,"nextSibling",i)},prevUntil:function(e,t,i){return $e(e,"previousSibling",i)},siblings:function(e){return be((e.parentNode||{}).firstChild,e)},children:function(e){return be(e.firstChild)},contents:function(e){return e.contentDocument||ue.merge([],e.childNodes)}},function(e,t){ue.fn[e]=function(i,n){var s=ue.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=ue.filter(n,s)),this.length>1&&(Se[e]||ue.uniqueSort(s),ke.test(e)&&s.reverse()),this.pushStack(s)}});var De=/[^\x20\t\r\n\f]+/g;ue.Callbacks=function(e){e="string"==typeof e?a(e):ue.extend({},e);var t,i,n,s,o=[],r=[],l=-1,c=function(){for(s=e.once,n=t=!0;r.length;l=-1)for(i=r.shift();++l<o.length;)!1===o[l].apply(i[0],i[1])&&e.stopOnFalse&&(l=o.length,i=!1);e.memory||(i=!1),t=!1,s&&(o=i?[]:"")},d={add:function(){return o&&(i&&!t&&(l=o.length-1,r.push(i)),function t(i){ue.each(i,function(i,n){ue.isFunction(n)?e.unique&&d.has(n)||o.push(n):n&&n.length&&"string"!==ue.type(n)&&t(n)})}(arguments),i&&!t&&c()),this},remove:function(){return ue.each(arguments,function(e,t){for(var i;(i=ue.inArray(t,o,i))>-1;)o.splice(i,1),i<=l&&l--}),this},has:function(e){return e?ue.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return s=r=[],o=i="",this},disabled:function(){return!o},lock:function(){return s=r=[],i||t||(o=i=""),this},locked:function(){return!!s},fireWith:function(e,i){return s||(i=[e,(i=i||[]).slice?i.slice():i],r.push(i),t||c()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},ue.extend({Deferred:function(t){var i=[["notify","progress",ue.Callbacks("memory"),ue.Callbacks("memory"),2],["resolve","done",ue.Callbacks("once memory"),ue.Callbacks("once memory"),0,"resolved"],["reject","fail",ue.Callbacks("once memory"),ue.Callbacks("once memory"),1,"rejected"]],n="pending",s={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return s.then(null,e)},pipe:function(){var e=arguments;return ue.Deferred(function(t){ue.each(i,function(i,n){var s=ue.isFunction(e[n[4]])&&e[n[4]];o[n[1]](function(){var e=s&&s.apply(this,arguments);e&&ue.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,s?[e]:arguments)})}),e=null}).promise()},then:function(t,n,s){function o(t,i,n,s){return function(){var c=this,d=arguments,h=function(){var e,h;if(!(t<a)){if((e=n.apply(c,d))===i.promise())throw new TypeError("Thenable self-resolution");h=e&&("object"==typeof e||"function"==typeof e)&&e.then,ue.isFunction(h)?s?h.call(e,o(a,i,r,s),o(a,i,l,s)):(a++,h.call(e,o(a,i,r,s),o(a,i,l,s),o(a,i,r,i.notifyWith))):(n!==r&&(c=void 0,d=[e]),(s||i.resolveWith)(c,d))}},u=s?h:function(){try{h()}catch(e){ue.Deferred.exceptionHook&&ue.Deferred.exceptionHook(e,u.stackTrace),t+1>=a&&(n!==l&&(c=void 0,d=[e]),i.rejectWith(c,d))}};t?u():(ue.Deferred.getStackHook&&(u.stackTrace=ue.Deferred.getStackHook()),e.setTimeout(u))}}var a=0;return ue.Deferred(function(e){i[0][3].add(o(0,e,ue.isFunction(s)?s:r,e.notifyWith)),i[1][3].add(o(0,e,ue.isFunction(t)?t:r)),i[2][3].add(o(0,e,ue.isFunction(n)?n:l))}).promise()},promise:function(e){return null!=e?ue.extend(e,s):s}},o={};return ue.each(i,function(e,t){var a=t[2],r=t[5];s[t[1]]=a.add,r&&a.add(function(){n=r},i[3-e][2].disable,i[0][2].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),s.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,i=t,n=Array(i),s=ie.call(arguments),o=ue.Deferred(),a=function(e){return function(i){n[e]=this,s[e]=arguments.length>1?ie.call(arguments):i,--t||o.resolveWith(n,s)}};if(t<=1&&(c(e,o.done(a(i)).resolve,o.reject),"pending"===o.state()||ue.isFunction(s[i]&&s[i].then)))return o.then();for(;i--;)c(s[i],a(i),o.reject);return o.promise()}});var Te=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ue.Deferred.exceptionHook=function(t,i){e.console&&e.console.warn&&t&&Te.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},ue.readyException=function(t){e.setTimeout(function(){throw t})};var Ee=ue.Deferred();ue.fn.ready=function(e){return Ee.then(e).catch(function(e){ue.readyException(e)}),this},ue.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ue.readyWait++:ue.ready(!0)},ready:function(e){(!0===e?--ue.readyWait:ue.isReady)||(ue.isReady=!0,!0!==e&&--ue.readyWait>0||Ee.resolveWith(ee,[ue]))}}),ue.ready.then=Ee.then,"complete"===ee.readyState||"loading"!==ee.readyState&&!ee.documentElement.doScroll?e.setTimeout(ue.ready):(ee.addEventListener("DOMContentLoaded",d),e.addEventListener("load",d));var Pe=function(e,t,i,n,s,o,a){var r=0,l=e.length,c=null==i;if("object"===ue.type(i)){s=!0;for(r in i)Pe(e,t,r,i[r],!0,o,a)}else if(void 0!==n&&(s=!0,ue.isFunction(n)||(a=!0),c&&(a?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(ue(e),i)})),t))for(;r<l;r++)t(e[r],i,a?n:n.call(e[r],r,t(e[r],i)));return s?e:c?t.call(e):l?t(e[0],i):o},Ie=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};h.uid=1,h.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ie(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,s=this.cache(e);if("string"==typeof t)s[ue.camelCase(t)]=i;else for(n in t)s[ue.camelCase(n)]=t[n];return s},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ue.camelCase(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=ue.isArray(t)?t.map(ue.camelCase):(t=ue.camelCase(t))in n?[t]:t.match(De)||[]).length;for(;i--;)delete n[t[i]]}(void 0===t||ue.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ue.isEmptyObject(t)}};var Me=new h,Ae=new h,je=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ne=/[A-Z]/g;ue.extend({hasData:function(e){return Ae.hasData(e)||Me.hasData(e)},data:function(e,t,i){return Ae.access(e,t,i)},removeData:function(e,t){Ae.remove(e,t)},_data:function(e,t,i){return Me.access(e,t,i)},_removeData:function(e,t){Me.remove(e,t)}}),ue.fn.extend({data:function(e,t){var i,n,s,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(s=Ae.get(o),1===o.nodeType&&!Me.get(o,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&0===(n=a[i].name).indexOf("data-")&&(n=ue.camelCase(n.slice(5)),p(o,n,s[n]));Me.set(o,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each(function(){Ae.set(this,e)}):Pe(this,function(t){var i;if(o&&void 0===t){if(void 0!==(i=Ae.get(o,e)))return i;if(void 0!==(i=p(o,e)))return i}else this.each(function(){Ae.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ae.remove(this,e)})}}),ue.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=Me.get(e,t),i&&(!n||ue.isArray(i)?n=Me.access(e,t,ue.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=ue.queue(e,t),n=i.length,s=i.shift(),o=ue._queueHooks(e,t);"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===t&&i.unshift("inprogress"),delete o.stop,s.call(e,function(){ue.dequeue(e,t)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Me.get(e,i)||Me.access(e,i,{empty:ue.Callbacks("once memory").add(function(){Me.remove(e,[t+"queue",i])})})}}),ue.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?ue.queue(this[0],e):void 0===t?this:this.each(function(){var i=ue.queue(this,e,t);ue._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&ue.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ue.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,s=ue.Deferred(),o=this,a=this.length,r=function(){--n||s.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(i=Me.get(o[a],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(r));return r(),s.promise(t)}});var He=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Oe=new RegExp("^(?:([+-])=|)("+He+")([a-z%]*)$","i"),Re=["Top","Right","Bottom","Left"],Fe=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ue.contains(e.ownerDocument,e)&&"none"===ue.css(e,"display")},Le=function(e,t,i,n){var s,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];s=i.apply(e,n||[]);for(o in t)e.style[o]=a[o];return s},Be={};ue.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Fe(this)?ue(this).show():ue(this).hide()})}});var ze=/^(?:checkbox|radio)$/i,Ue=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Xe=/^$|\/(?:java|ecma)script/i,We={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};We.optgroup=We.option,We.tbody=We.tfoot=We.colgroup=We.caption=We.thead,We.th=We.td;var Ve=/<|&#?\w+;/;!function(){var e=ee.createDocumentFragment().appendChild(ee.createElement("div")),t=ee.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),he.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",he.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var qe=ee.documentElement,Ye=/^key/,Ke=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qe=/^([^.]*)(?:\.(.+)|)/;ue.event={global:{},add:function(e,t,i,n,s){var o,a,r,l,c,d,h,u,p,f,m,g=Me.get(e);if(g)for(i.handler&&(i=(o=i).handler,s=o.selector),s&&ue.find.matchesSelector(qe,s),i.guid||(i.guid=ue.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==ue&&ue.event.triggered!==t.type?ue.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(De)||[""]).length;c--;)p=m=(r=Qe.exec(t[c])||[])[1],f=(r[2]||"").split(".").sort(),p&&(h=ue.event.special[p]||{},p=(s?h.delegateType:h.bindType)||p,h=ue.event.special[p]||{},d=ue.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&ue.expr.match.needsContext.test(s),namespace:f.join(".")},o),(u=l[p])||((u=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,n,f,a)||e.addEventListener&&e.addEventListener(p,a)),h.add&&(h.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),s?u.splice(u.delegateCount++,0,d):u.push(d),ue.event.global[p]=!0)},remove:function(e,t,i,n,s){var o,a,r,l,c,d,h,u,p,f,m,g=Me.hasData(e)&&Me.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(De)||[""]).length;c--;)if(r=Qe.exec(t[c])||[],p=m=r[1],f=(r[2]||"").split(".").sort(),p){for(h=ue.event.special[p]||{},u=l[p=(n?h.delegateType:h.bindType)||p]||[],r=r[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=u.length;o--;)d=u[o],!s&&m!==d.origType||i&&i.guid!==d.guid||r&&!r.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(u.splice(o,1),d.selector&&u.delegateCount--,h.remove&&h.remove.call(e,d));a&&!u.length&&(h.teardown&&!1!==h.teardown.call(e,f,g.handle)||ue.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)ue.event.remove(e,p+t[c],i,n,!0);ue.isEmptyObject(l)&&Me.remove(e,"handle events")}},dispatch:function(e){var t,i,n,s,o,a,r=ue.event.fix(e),l=new Array(arguments.length),c=(Me.get(this,"events")||{})[r.type]||[],d=ue.event.special[r.type]||{};for(l[0]=r,t=1;t<arguments.length;t++)l[t]=arguments[t];if(r.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,r)){for(a=ue.event.handlers.call(this,r,c),t=0;(s=a[t++])&&!r.isPropagationStopped();)for(r.currentTarget=s.elem,i=0;(o=s.handlers[i++])&&!r.isImmediatePropagationStopped();)r.rnamespace&&!r.rnamespace.test(o.namespace)||(r.handleObj=o,r.data=o.data,void 0!==(n=((ue.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,l))&&!1===(r.result=n)&&(r.preventDefault(),r.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,r),r.result}},handlers:function(e,t){var i,n,s,o,a,r=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},i=0;i<l;i++)void 0===a[s=(n=t[i]).selector+" "]&&(a[s]=n.needsContext?ue(s,this).index(c)>-1:ue.find(s,this,null,[c]).length),a[s]&&o.push(n);o.length&&r.push({elem:c,handlers:o})}return c=this,l<t.length&&r.push({elem:c,handlers:t.slice(l)}),r},addProp:function(e,t){Object.defineProperty(ue.Event.prototype,e,{enumerable:!0,configurable:!0,get:ue.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[ue.expando]?e:new ue.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ue.nodeName(this,"input"))return this.click(),!1},_default:function(e){return ue.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ue.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},ue.Event=function(e,t){if(!(this instanceof ue.Event))return new ue.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?y:_,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ue.extend(this,t),this.timeStamp=e&&e.timeStamp||ue.now(),this[ue.expando]=!0},ue.Event.prototype={constructor:ue.Event,isDefaultPrevented:_,isPropagationStopped:_,isImmediatePropagationStopped:_,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=y,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=y,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=y,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ue.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ye.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ke.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},ue.event.addProp),ue.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ue.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,s=e.relatedTarget,o=e.handleObj;return s&&(s===n||ue.contains(n,s))||(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),ue.fn.extend({on:function(e,t,i,n){return x(this,e,t,i,n)},one:function(e,t,i,n){return x(this,e,t,i,n,1)},off:function(e,t,i){var n,s;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,ue(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=_),this.each(function(){ue.event.remove(this,e,i,t)})}});var Ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Je=/<script|<style|<link/i,Ge=/checked\s*(?:[^=]|=\s*.checked.)/i,et=/^true\/(.*)/,tt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ue.extend({htmlPrefilter:function(e){return e.replace(Ze,"<$1></$2>")},clone:function(e,t,i){var n,s,o,a,r=e.cloneNode(!0),l=ue.contains(e.ownerDocument,e);if(!(he.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ue.isXMLDoc(e)))for(a=v(r),n=0,s=(o=v(e)).length;n<s;n++)T(o[n],a[n]);if(t)if(i)for(o=o||v(e),a=a||v(r),n=0,s=o.length;n<s;n++)D(o[n],a[n]);else D(e,r);return(a=v(r,"script")).length>0&&$(a,!l&&v(e,"script")),r},cleanData:function(e){for(var t,i,n,s=ue.event.special,o=0;void 0!==(i=e[o]);o++)if(Ie(i)){if(t=i[Me.expando]){if(t.events)for(n in t.events)s[n]?ue.event.remove(i,n):ue.removeEvent(i,n,t.handle);i[Me.expando]=void 0}i[Ae.expando]&&(i[Ae.expando]=void 0)}}}),ue.fn.extend({detach:function(e){return P(this,e,!0)},remove:function(e){return P(this,e)},text:function(e){return Pe(this,function(e){return void 0===e?ue.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return E(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||C(this,e).appendChild(e)})},prepend:function(){return E(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=C(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return E(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return E(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ue.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ue.clone(this,e,t)})},html:function(e){return Pe(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Je.test(e)&&!We[(Ue.exec(e)||["",""])[1].toLowerCase()]){e=ue.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(ue.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return E(this,arguments,function(t){var i=this.parentNode;ue.inArray(this,e)<0&&(ue.cleanData(v(this)),i&&i.replaceChild(t,this))},e)}}),ue.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ue.fn[e]=function(e){for(var i,n=[],s=ue(e),o=s.length-1,a=0;a<=o;a++)i=a===o?this:this.clone(!0),ue(s[a])[t](i),se.apply(n,i.get());return this.pushStack(n)}});var it=/^margin/,nt=new RegExp("^("+He+")(?!px)[a-z%]+$","i"),st=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)};!function(){function t(){if(r){r.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",r.innerHTML="",qe.appendChild(a);var t=e.getComputedStyle(r);i="1%"!==t.top,o="2px"===t.marginLeft,n="4px"===t.width,r.style.marginRight="50%",s="4px"===t.marginRight,qe.removeChild(a),r=null}}var i,n,s,o,a=ee.createElement("div"),r=ee.createElement("div");r.style&&(r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",he.clearCloneStyle="content-box"===r.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(r),ue.extend(he,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return t(),n},pixelMarginRight:function(){return t(),s},reliableMarginLeft:function(){return t(),o}}))}();var ot=/^(none|table(?!-c[ea]).+)/,at={position:"absolute",visibility:"hidden",display:"block"},rt={letterSpacing:"0",fontWeight:"400"},lt=["Webkit","Moz","ms"],ct=ee.createElement("div").style;ue.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=I(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,a,r=ue.camelCase(t),l=e.style;if(t=ue.cssProps[r]||(ue.cssProps[r]=A(r)||r),a=ue.cssHooks[t]||ue.cssHooks[r],void 0===i)return a&&"get"in a&&void 0!==(s=a.get(e,!1,n))?s:l[t];"string"==(o=typeof i)&&(s=Oe.exec(i))&&s[1]&&(i=f(e,t,s),o="number"),null!=i&&i==i&&("number"===o&&(i+=s&&s[3]||(ue.cssNumber[r]?"":"px")),he.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(i=a.set(e,i,n))||(l[t]=i))}},css:function(e,t,i,n){var s,o,a,r=ue.camelCase(t);return t=ue.cssProps[r]||(ue.cssProps[r]=A(r)||r),(a=ue.cssHooks[t]||ue.cssHooks[r])&&"get"in a&&(s=a.get(e,!0,i)),void 0===s&&(s=I(e,t,n)),"normal"===s&&t in rt&&(s=rt[t]),""===i||i?(o=parseFloat(s),!0===i||isFinite(o)?o||0:s):s}}),ue.each(["height","width"],function(e,t){ue.cssHooks[t]={get:function(e,i,n){if(i)return!ot.test(ue.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?H(e,t,n):Le(e,at,function(){return H(e,t,n)})},set:function(e,i,n){var s,o=n&&st(e),a=n&&N(e,t,n,"border-box"===ue.css(e,"boxSizing",!1,o),o);return a&&(s=Oe.exec(i))&&"px"!==(s[3]||"px")&&(e.style[t]=i,i=ue.css(e,t)),j(0,i,a)}}}),ue.cssHooks.marginLeft=M(he.reliableMarginLeft,function(e,t){if(t)return(parseFloat(I(e,"marginLeft"))||e.getBoundingClientRect().left-Le(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ue.each({margin:"",padding:"",border:"Width"},function(e,t){ue.cssHooks[e+t]={expand:function(i){for(var n=0,s={},o="string"==typeof i?i.split(" "):[i];n<4;n++)s[e+Re[n]+t]=o[n]||o[n-2]||o[0];return s}},it.test(e)||(ue.cssHooks[e+t].set=j)}),ue.fn.extend({css:function(e,t){return Pe(this,function(e,t,i){var n,s,o={},a=0;if(ue.isArray(t)){for(n=st(e),s=t.length;a<s;a++)o[t[a]]=ue.css(e,t[a],!1,n);return o}return void 0!==i?ue.style(e,t,i):ue.css(e,t)},e,t,arguments.length>1)}}),ue.Tween=O,O.prototype={constructor:O,init:function(e,t,i,n,s,o){this.elem=e,this.prop=i,this.easing=s||ue.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(ue.cssNumber[i]?"":"px")},cur:function(){var e=O.propHooks[this.prop];return e&&e.get?e.get(this):O.propHooks._default.get(this)},run:function(e){var t,i=O.propHooks[this.prop];return this.options.duration?this.pos=t=ue.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ue.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){ue.fx.step[e.prop]?ue.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ue.cssProps[e.prop]]&&!ue.cssHooks[e.prop]?e.elem[e.prop]=e.now:ue.style(e.elem,e.prop,e.now+e.unit)}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ue.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ue.fx=O.prototype.init,ue.fx.step={};var dt,ht,ut=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;ue.Animation=ue.extend(U,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return f(i.elem,e,Oe.exec(t),i),i}]},tweener:function(e,t){ue.isFunction(e)?(t=e,e=["*"]):e=e.match(De);for(var i,n=0,s=e.length;n<s;n++)i=e[n],U.tweeners[i]=U.tweeners[i]||[],U.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,s,o,a,r,l,c,d,h="width"in t||"height"in t,u=this,p={},f=e.style,m=e.nodeType&&Fe(e),v=Me.get(e,"fxshow");i.queue||(null==(a=ue._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,r=a.empty.fire,a.empty.fire=function(){a.unqueued||r()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,ue.queue(e,"fx").length||a.empty.fire()})}));for(n in t)if(s=t[n],ut.test(s)){if(delete t[n],o=o||"toggle"===s,s===(m?"hide":"show")){if("show"!==s||!v||void 0===v[n])continue;m=!0}p[n]=v&&v[n]||ue.style(e,n)}if((l=!ue.isEmptyObject(t))||!ue.isEmptyObject(p)){h&&1===e.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=v&&v.display)&&(c=Me.get(e,"display")),"none"===(d=ue.css(e,"display"))&&(c?d=c:(g([e],!0),c=e.style.display||c,d=ue.css(e,"display"),g([e]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===ue.css(e,"float")&&(l||(u.done(function(){f.display=c}),null==c&&(d=f.display,c="none"===d?"":d)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",u.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=!1;for(n in p)l||(v?"hidden"in v&&(m=v.hidden):v=Me.access(e,"fxshow",{display:c}),o&&(v.hidden=!m),m&&g([e],!0),u.done(function(){m||g([e]),Me.remove(e,"fxshow");for(n in p)ue.style(e,n,p[n])})),l=B(m?v[n]:0,n,u),n in v||(v[n]=l.start,m&&(l.end=l.start,l.start=0))}}],prefilter:function(e,t){t?U.prefilters.unshift(e):U.prefilters.push(e)}}),ue.speed=function(e,t,i){var n=e&&"object"==typeof e?ue.extend({},e):{complete:i||!i&&t||ue.isFunction(e)&&e,duration:e,easing:i&&t||t&&!ue.isFunction(t)&&t};return ue.fx.off||ee.hidden?n.duration=0:"number"!=typeof n.duration&&(n.duration in ue.fx.speeds?n.duration=ue.fx.speeds[n.duration]:n.duration=ue.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){ue.isFunction(n.old)&&n.old.call(this),n.queue&&ue.dequeue(this,n.queue)},n},ue.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Fe).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var s=ue.isEmptyObject(e),o=ue.speed(t,i,n),a=function(){var t=U(this,ue.extend({},e),o);(s||Me.get(this,"finish"))&&t.stop(!0)};return a.finish=a,s||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,s=null!=e&&e+"queueHooks",o=ue.timers,a=Me.get(this);if(s)a[s]&&a[s].stop&&n(a[s]);else for(s in a)a[s]&&a[s].stop&&pt.test(s)&&n(a[s]);for(s=o.length;s--;)o[s].elem!==this||null!=e&&o[s].queue!==e||(o[s].anim.stop(i),t=!1,o.splice(s,1));!t&&i||ue.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=Me.get(this),n=i[e+"queue"],s=i[e+"queueHooks"],o=ue.timers,a=n?n.length:0;for(i.finish=!0,ue.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),ue.each(["toggle","show","hide"],function(e,t){var i=ue.fn[t];ue.fn[t]=function(e,n,s){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(L(t,!0),e,n,s)}}),ue.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ue.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),ue.timers=[],ue.fx.tick=function(){var e,t=0,i=ue.timers;for(dt=ue.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||ue.fx.stop(),dt=void 0},ue.fx.timer=function(e){ue.timers.push(e),e()?ue.fx.start():ue.timers.pop()},ue.fx.interval=13,ue.fx.start=function(){ht||(ht=e.requestAnimationFrame?e.requestAnimationFrame(R):e.setInterval(ue.fx.tick,ue.fx.interval))},ue.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(ht):e.clearInterval(ht),ht=null},ue.fx.speeds={slow:600,fast:200,_default:400},ue.fn.delay=function(t,i){return t=ue.fx?ue.fx.speeds[t]||t:t,i=i||"fx",this.queue(i,function(i,n){var s=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(s)}})},function(){var e=ee.createElement("input"),t=ee.createElement("select").appendChild(ee.createElement("option"));e.type="checkbox",he.checkOn=""!==e.value,he.optSelected=t.selected,(e=ee.createElement("input")).value="t",e.type="radio",he.radioValue="t"===e.value}();var ft,mt=ue.expr.attrHandle;ue.fn.extend({attr:function(e,t){return Pe(this,ue.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ue.removeAttr(this,e)})}}),ue.extend({attr:function(e,t,i){var n,s,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?ue.prop(e,t,i):(1===o&&ue.isXMLDoc(e)||(s=ue.attrHooks[t.toLowerCase()]||(ue.expr.match.bool.test(t)?ft:void 0)),void 0!==i?null===i?void ue.removeAttr(e,t):s&&"set"in s&&void 0!==(n=s.set(e,i,t))?n:(e.setAttribute(t,i+""),i):s&&"get"in s&&null!==(n=s.get(e,t))?n:null==(n=ue.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!he.radioValue&&"radio"===t&&ue.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,s=t&&t.match(De);if(s&&1===e.nodeType)for(;i=s[n++];)e.removeAttribute(i)}}),ft={set:function(e,t,i){return!1===t?ue.removeAttr(e,i):e.setAttribute(i,i),i}},ue.each(ue.expr.match.bool.source.match(/\w+/g),function(e,t){var i=mt[t]||ue.find.attr;mt[t]=function(e,t,n){var s,o,a=t.toLowerCase();return n||(o=mt[a],mt[a]=s,s=null!=i(e,t,n)?a:null,mt[a]=o),s}});var gt=/^(?:input|select|textarea|button)$/i,vt=/^(?:a|area)$/i;ue.fn.extend({prop:function(e,t){return Pe(this,ue.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ue.propFix[e]||e]})}}),ue.extend({prop:function(e,t,i){var n,s,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ue.isXMLDoc(e)||(t=ue.propFix[t]||t,s=ue.propHooks[t]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(e,i,t))?n:e[t]=i:s&&"get"in s&&null!==(n=s.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=ue.find.attr(e,"tabindex");return t?parseInt(t,10):gt.test(e.nodeName)||vt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),he.optSelected||(ue.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ue.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ue.propFix[this.toLowerCase()]=this}),ue.fn.extend({addClass:function(e){var t,i,n,s,o,a,r,l=0;if(ue.isFunction(e))return this.each(function(t){ue(this).addClass(e.call(this,t,W(this)))});if("string"==typeof e&&e)for(t=e.match(De)||[];i=this[l++];)if(s=W(i),n=1===i.nodeType&&" "+X(s)+" "){for(a=0;o=t[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");s!==(r=X(n))&&i.setAttribute("class",r)}return this},removeClass:function(e){var t,i,n,s,o,a,r,l=0;if(ue.isFunction(e))return this.each(function(t){ue(this).removeClass(e.call(this,t,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(De)||[];i=this[l++];)if(s=W(i),n=1===i.nodeType&&" "+X(s)+" "){for(a=0;o=t[a++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");s!==(r=X(n))&&i.setAttribute("class",r)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):ue.isFunction(e)?this.each(function(i){ue(this).toggleClass(e.call(this,i,W(this),t),t)}):this.each(function(){var t,n,s,o;if("string"===i)for(n=0,s=ue(this),o=e.match(De)||[];t=o[n++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else void 0!==e&&"boolean"!==i||((t=W(this))&&Me.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Me.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+X(W(i))+" ").indexOf(t)>-1)return!0;return!1}});var $t=/\r/g;ue.fn.extend({val:function(e){var t,i,n,s=this[0];{if(arguments.length)return n=ue.isFunction(e),this.each(function(i){var s;1===this.nodeType&&(null==(s=n?e.call(this,i,ue(this).val()):e)?s="":"number"==typeof s?s+="":ue.isArray(s)&&(s=ue.map(s,function(e){return null==e?"":e+""})),(t=ue.valHooks[this.type]||ue.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,s,"value")||(this.value=s))});if(s)return(t=ue.valHooks[s.type]||ue.valHooks[s.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(s,"value"))?i:"string"==typeof(i=s.value)?i.replace($t,""):null==i?"":i}}}),ue.extend({valHooks:{option:{get:function(e){var t=ue.find.attr(e,"value");return null!=t?t:X(ue.text(e))}},select:{get:function(e){var t,i,n,s=e.options,o=e.selectedIndex,a="select-one"===e.type,r=a?null:[],l=a?o+1:s.length;for(n=o<0?l:a?o:0;n<l;n++)if(((i=s[n]).selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!ue.nodeName(i.parentNode,"optgroup"))){if(t=ue(i).val(),a)return t;r.push(t)}return r},set:function(e,t){for(var i,n,s=e.options,o=ue.makeArray(t),a=s.length;a--;)((n=s[a]).selected=ue.inArray(ue.valHooks.option.get(n),o)>-1)&&(i=!0);return i||(e.selectedIndex=-1),o}}}}),ue.each(["radio","checkbox"],function(){ue.valHooks[this]={set:function(e,t){if(ue.isArray(t))return e.checked=ue.inArray(ue(e).val(),t)>-1}},he.checkOn||(ue.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var bt=/^(?:focusinfocus|focusoutblur)$/;ue.extend(ue.event,{trigger:function(t,i,n,s){var o,a,r,l,c,d,h,u=[n||ee],p=le.call(t,"type")?t.type:t,f=le.call(t,"namespace")?t.namespace.split("."):[];if(a=r=n=n||ee,3!==n.nodeType&&8!==n.nodeType&&!bt.test(p+ue.event.triggered)&&(p.indexOf(".")>-1&&(p=(f=p.split(".")).shift(),f.sort()),c=p.indexOf(":")<0&&"on"+p,t=t[ue.expando]?t:new ue.Event(p,"object"==typeof t&&t),t.isTrigger=s?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:ue.makeArray(i,[t]),h=ue.event.special[p]||{},s||!h.trigger||!1!==h.trigger.apply(n,i))){if(!s&&!h.noBubble&&!ue.isWindow(n)){for(l=h.delegateType||p,bt.test(l+p)||(a=a.parentNode);a;a=a.parentNode)u.push(a),r=a;r===(n.ownerDocument||ee)&&u.push(r.defaultView||r.parentWindow||e)}for(o=0;(a=u[o++])&&!t.isPropagationStopped();)t.type=o>1?l:h.bindType||p,(d=(Me.get(a,"events")||{})[t.type]&&Me.get(a,"handle"))&&d.apply(a,i),(d=c&&a[c])&&d.apply&&Ie(a)&&(t.result=d.apply(a,i),!1===t.result&&t.preventDefault());return t.type=p,s||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(u.pop(),i)||!Ie(n)||c&&ue.isFunction(n[p])&&!ue.isWindow(n)&&((r=n[c])&&(n[c]=null),ue.event.triggered=p,n[p](),ue.event.triggered=void 0,r&&(n[c]=r)),t.result}},simulate:function(e,t,i){var n=ue.extend(new ue.Event,i,{type:e,isSimulated:!0});ue.event.trigger(n,null,t)}}),ue.fn.extend({trigger:function(e,t){return this.each(function(){ue.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return ue.event.trigger(e,t,i,!0)}}),ue.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){ue.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),ue.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),he.focusin="onfocusin"in e,he.focusin||ue.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){ue.event.simulate(t,e.target,ue.event.fix(e))};ue.event.special[t]={setup:function(){var n=this.ownerDocument||this,s=Me.access(n,t);s||n.addEventListener(e,i,!0),Me.access(n,t,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this,s=Me.access(n,t)-1;s?Me.access(n,t,s):(n.removeEventListener(e,i,!0),Me.remove(n,t))}}});var yt=e.location,_t=ue.now(),wt=/\?/;ue.parseXML=function(t){var i;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||ue.error("Invalid XML: "+t),i};var xt=/\[\]$/,Ct=/\r?\n/g,kt=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;ue.param=function(e,t){var i,n=[],s=function(e,t){var i=ue.isFunction(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(ue.isArray(e)||e.jquery&&!ue.isPlainObject(e))ue.each(e,function(){s(this.name,this.value)});else for(i in e)V(i,e[i],t,s);return n.join("&")},ue.fn.extend({serialize:function(){return ue.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ue.prop(this,"elements");return e?ue.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ue(this).is(":disabled")&&St.test(this.nodeName)&&!kt.test(e)&&(this.checked||!ze.test(e))}).map(function(e,t){var i=ue(this).val();return null==i?null:ue.isArray(i)?ue.map(i,function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}}):{name:t.name,value:i.replace(Ct,"\r\n")}}).get()}});var Dt=/%20/g,Tt=/#.*$/,Et=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,It=/^(?:GET|HEAD)$/,Mt=/^\/\//,At={},jt={},Nt="*/".concat("*"),Ht=ee.createElement("a");Ht.href=yt.href,ue.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(yt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ue.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?K(K(e,ue.ajaxSettings),t):K(ue.ajaxSettings,e)},ajaxPrefilter:q(At),ajaxTransport:q(jt),ajax:function(t,i){function n(t,i,n,r){var c,u,p,y,_,w=i;d||(d=!0,l&&e.clearTimeout(l),s=void 0,a=r||"",x.readyState=t>0?4:0,c=t>=200&&t<300||304===t,n&&(y=Q(f,x,n)),y=Z(f,y,x,c),c?(f.ifModified&&((_=x.getResponseHeader("Last-Modified"))&&(ue.lastModified[o]=_),(_=x.getResponseHeader("etag"))&&(ue.etag[o]=_)),204===t||"HEAD"===f.type?w="nocontent":304===t?w="notmodified":(w=y.state,u=y.data,c=!(p=y.error))):(p=w,!t&&w||(w="error",t<0&&(t=0))),x.status=t,x.statusText=(i||w)+"",c?v.resolveWith(m,[u,w,x]):v.rejectWith(m,[x,w,p]),x.statusCode(b),b=void 0,h&&g.trigger(c?"ajaxSuccess":"ajaxError",[x,f,c?u:p]),$.fireWith(m,[x,w]),h&&(g.trigger("ajaxComplete",[x,f]),--ue.active||ue.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=void 0),i=i||{};var s,o,a,r,l,c,d,h,u,p,f=ue.ajaxSetup({},i),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?ue(m):ue.event,v=ue.Deferred(),$=ue.Callbacks("once memory"),b=f.statusCode||{},y={},_={},w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(d){if(!r)for(r={};t=Pt.exec(a);)r[t[1].toLowerCase()]=t[2];t=r[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return d?a:null},setRequestHeader:function(e,t){return null==d&&(e=_[e.toLowerCase()]=_[e.toLowerCase()]||e,y[e]=t),this},overrideMimeType:function(e){return null==d&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(d)x.always(e[x.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||w;return s&&s.abort(t),n(0,t),this}};if(v.promise(x),f.url=((t||f.url||yt.href)+"").replace(Mt,yt.protocol+"//"),f.type=i.method||i.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(De)||[""],null==f.crossDomain){c=ee.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Ht.protocol+"//"+Ht.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ue.param(f.data,f.traditional)),Y(At,f,i,x),d)return x;(h=ue.event&&f.global)&&0==ue.active++&&ue.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!It.test(f.type),o=f.url.replace(Tt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Dt,"+")):(p=f.url.slice(o.length),f.data&&(o+=(wt.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(o=o.replace(Et,"$1"),p=(wt.test(o)?"&":"?")+"_="+_t+++p),f.url=o+p),f.ifModified&&(ue.lastModified[o]&&x.setRequestHeader("If-Modified-Since",ue.lastModified[o]),ue.etag[o]&&x.setRequestHeader("If-None-Match",ue.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||i.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Nt+"; q=0.01":""):f.accepts["*"]);for(u in f.headers)x.setRequestHeader(u,f.headers[u]);if(f.beforeSend&&(!1===f.beforeSend.call(m,x,f)||d))return x.abort();if(w="abort",$.add(f.complete),x.done(f.success),x.fail(f.error),s=Y(jt,f,i,x)){if(x.readyState=1,h&&g.trigger("ajaxSend",[x,f]),d)return x;f.async&&f.timeout>0&&(l=e.setTimeout(function(){x.abort("timeout")},f.timeout));try{d=!1,s.send(y,n)}catch(e){if(d)throw e;n(-1,e)}}else n(-1,"No Transport");return x},getJSON:function(e,t,i){return ue.get(e,t,i,"json")},getScript:function(e,t){return ue.get(e,void 0,t,"script")}}),ue.each(["get","post"],function(e,t){ue[t]=function(e,i,n,s){return ue.isFunction(i)&&(s=s||n,n=i,i=void 0),ue.ajax(ue.extend({url:e,type:t,dataType:s,data:i,success:n},ue.isPlainObject(e)&&e))}}),ue._evalUrl=function(e){return ue.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ue.fn.extend({wrapAll:function(e){var t;return this[0]&&(ue.isFunction(e)&&(e=e.call(this[0])),t=ue(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ue.isFunction(e)?this.each(function(t){ue(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ue(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=ue.isFunction(e);return this.each(function(i){ue(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ue(this).replaceWith(this.childNodes)}),this}}),ue.expr.pseudos.hidden=function(e){return!ue.expr.pseudos.visible(e)},ue.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ue.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ot={0:200,1223:204},Rt=ue.ajaxSettings.xhr();he.cors=!!Rt&&"withCredentials"in Rt,he.ajax=Rt=!!Rt,ue.ajaxTransport(function(t){var i,n;if(he.cors||Rt&&!t.crossDomain)return{send:function(s,o){var a,r=t.xhr();if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)r[a]=t.xhrFields[a];t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");for(a in s)r.setRequestHeader(a,s[a]);i=function(e){return function(){i&&(i=n=r.onload=r.onerror=r.onabort=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?o(0,"error"):o(r.status,r.statusText):o(Ot[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=i(),n=r.onerror=i("error"),void 0!==r.onabort?r.onabort=n:r.onreadystatechange=function(){4===r.readyState&&e.setTimeout(function(){i&&n()})},i=i("abort");try{r.send(t.hasContent&&t.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}}),ue.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ue.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ue.globalEval(e),e}}}),ue.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ue.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(n,s){t=ue("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&s("error"===e.type?404:200,e.type)}),ee.head.appendChild(t[0])},abort:function(){i&&i()}}}});var Ft=[],Lt=/(=)\?(?=&|$)|\?\?/;ue.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ft.pop()||ue.expando+"_"+_t++;return this[e]=!0,e}}),ue.ajaxPrefilter("json jsonp",function(t,i,n){var s,o,a,r=!1!==t.jsonp&&(Lt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Lt.test(t.data)&&"data");if(r||"jsonp"===t.dataTypes[0])return s=t.jsonpCallback=ue.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,r?t[r]=t[r].replace(Lt,"$1"+s):!1!==t.jsonp&&(t.url+=(wt.test(t.url)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return a||ue.error(s+" was not called"),a[0]},t.dataTypes[0]="json",o=e[s],e[s]=function(){a=arguments},n.always(function(){void 0===o?ue(e).removeProp(s):e[s]=o,t[s]&&(t.jsonpCallback=i.jsonpCallback,Ft.push(s)),a&&ue.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),he.createHTMLDocument=function(){var e=ee.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),ue.parseHTML=function(e,t,i){if("string"!=typeof e)return[];"boolean"==typeof t&&(i=t,t=!1);var n,s,o;return t||(he.createHTMLDocument?((n=(t=ee.implementation.createHTMLDocument("")).createElement("base")).href=ee.location.href,t.head.appendChild(n)):t=ee),s=_e.exec(e),o=!i&&[],s?[t.createElement(s[1])]:(s=b([e],t,o),o&&o.length&&ue(o).remove(),ue.merge([],s.childNodes))},ue.fn.load=function(e,t,i){var n,s,o,a=this,r=e.indexOf(" ");return r>-1&&(n=X(e.slice(r)),e=e.slice(0,r)),ue.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(s="POST"),a.length>0&&ue.ajax({url:e,type:s||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(n?ue("<div>").append(ue.parseHTML(e)).find(n):e)}).always(i&&function(e,t){a.each(function(){i.apply(this,o||[e.responseText,t,e])})}),this},ue.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ue.fn[t]=function(e){return this.on(t,e)}}),ue.expr.pseudos.animated=function(e){return ue.grep(ue.timers,function(t){return e===t.elem}).length},ue.offset={setOffset:function(e,t,i){var n,s,o,a,r,l,c=ue.css(e,"position"),d=ue(e),h={};"static"===c&&(e.style.position="relative"),r=d.offset(),o=ue.css(e,"top"),l=ue.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(a=(n=d.position()).top,s=n.left):(a=parseFloat(o)||0,s=parseFloat(l)||0),ue.isFunction(t)&&(t=t.call(e,i,ue.extend({},r))),null!=t.top&&(h.top=t.top-r.top+a),null!=t.left&&(h.left=t.left-r.left+s),"using"in t?t.using.call(e,h):d.css(h)}},ue.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ue.offset.setOffset(this,e,t)});var t,i,n,s,o=this[0];if(o)return o.getClientRects().length?(n=o.getBoundingClientRect()).width||n.height?(s=o.ownerDocument,i=J(s),t=s.documentElement,{top:n.top+i.pageYOffset-t.clientTop,left:n.left+i.pageXOffset-t.clientLeft}):n:{top:0,left:0}},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===ue.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ue.nodeName(e[0],"html")||(n=e.offset()),n={top:n.top+ue.css(e[0],"borderTopWidth",!0),left:n.left+ue.css(e[0],"borderLeftWidth",!0)}),{top:t.top-n.top-ue.css(i,"marginTop",!0),left:t.left-n.left-ue.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ue.css(e,"position");)e=e.offsetParent;return e||qe})}}),ue.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;ue.fn[e]=function(n){return Pe(this,function(e,n,s){var o=J(e);if(void 0===s)return o?o[t]:e[n];o?o.scrollTo(i?o.pageXOffset:s,i?s:o.pageYOffset):e[n]=s},e,n,arguments.length)}}),ue.each(["top","left"],function(e,t){ue.cssHooks[t]=M(he.pixelPosition,function(e,i){if(i)return i=I(e,t),nt.test(i)?ue(e).position()[t]+"px":i})}),ue.each({Height:"height",Width:"width"},function(e,t){ue.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){ue.fn[n]=function(s,o){var a=arguments.length&&(i||"boolean"!=typeof s),r=i||(!0===s||!0===o?"margin":"border");return Pe(this,function(t,i,s){var o;return ue.isWindow(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===s?ue.css(t,i,r):ue.style(t,i,s,r)},t,a?s:void 0,a)}})}),ue.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),ue.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ue});var Bt=e.jQuery,zt=e.$;return ue.noConflict=function(t){return e.$===ue&&(e.$=zt),t&&e.jQuery===ue&&(e.jQuery=Bt),ue},t||(e.jQuery=e.$=ue),ue}),void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(e,t){"use strict";function i(i){var n=t.console;s[i]||(s[i]=!0,e.migrateWarnings.push(i),n&&n.warn&&!e.migrateMute&&(n.warn("JQMIGRATE: "+i),e.migrateTrace&&n.trace&&n.trace()))}function n(e,t,n,s){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return i(s),n}})}e.migrateVersion="3.0.0",function(){var i=t.console&&t.console.log&&function(){t.console.log.apply(t.console,arguments)};i&&(e&&!/^[12]\./.test(e.fn.jquery)||i("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),e.migrateWarnings&&i("JQMIGRATE: Migrate plugin loaded multiple times"),i("JQMIGRATE: Migrate is installed"+(e.migrateMute?"":" with logging active")+", version "+e.migrateVersion))}();var s={};e.migrateWarnings=[],void 0===e.migrateTrace&&(e.migrateTrace=!0),e.migrateReset=function(){s={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&i("jQuery is not compatible with Quirks Mode");var o=e.fn.init,a=e.isNumeric,r=e.find,l=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,c=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g;e.fn.init=function(e){var t=Array.prototype.slice.call(arguments);return"string"==typeof e&&"#"===e&&(i("jQuery( '#' ) is not a valid selector"),t[0]=[]),o.apply(this,t)},e.fn.init.prototype=e.fn,e.find=function(e){var t=Array.prototype.slice.call(arguments);if("string"==typeof e&&l.test(e))try{document.querySelector(e)}catch(n){e=e.replace(c,function(e,t,i,n){return"["+t+i+'"'+n+'"]'});try{document.querySelector(e),i("Attribute selector with '#' must be quoted: "+t[0]),t[0]=e}catch(e){i("Attribute selector with '#' was not fixed: "+t[0])}}return r.apply(this,t)};var d;for(d in r)Object.prototype.hasOwnProperty.call(r,d)&&(e.find[d]=r[d]);e.fn.size=function(){return i("jQuery.fn.size() is deprecated; use the .length property"),this.length},e.parseJSON=function(){return i("jQuery.parseJSON is deprecated; use JSON.parse"),JSON.parse.apply(null,arguments)},e.isNumeric=function(t){var n=a(t),s=function(t){var i=t&&t.toString();return!e.isArray(t)&&i-parseFloat(i)+1>=0}(t);return n!==s&&i("jQuery.isNumeric() should not be called on constructed objects"),s},n(e,"unique",e.uniqueSort,"jQuery.unique is deprecated, use jQuery.uniqueSort"),n(e.expr,"filters",e.expr.pseudos,"jQuery.expr.filters is now jQuery.expr.pseudos"),n(e.expr,":",e.expr.pseudos,'jQuery.expr[":"] is now jQuery.expr.pseudos');var h=e.ajax;e.ajax=function(){var e=h.apply(this,arguments);return e.promise&&(n(e,"success",e.done,"jQXHR.success is deprecated and removed"),n(e,"error",e.fail,"jQXHR.error is deprecated and removed"),n(e,"complete",e.always,"jQXHR.complete is deprecated and removed")),e};var u=e.fn.removeAttr,p=e.fn.toggleClass,f=/\S+/g;e.fn.removeAttr=function(t){var n=this;return e.each(t.match(f),function(t,s){e.expr.match.bool.test(s)&&(i("jQuery.fn.removeAttr no longer sets boolean properties: "+s),n.prop(s,!1))}),u.apply(this,arguments)},e.fn.toggleClass=function(t){return void 0!==t&&"boolean"!=typeof t?p.apply(this,arguments):(i("jQuery.fn.toggleClass( boolean ) is deprecated"),this.each(function(){var i=this.getAttribute&&this.getAttribute("class")||"";i&&e.data(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===t?"":e.data(this,"__className__")||"")}))};var m=!1;e.swap&&e.each(["height","width","reliableMarginRight"],function(t,i){var n=e.cssHooks[i]&&e.cssHooks[i].get;n&&(e.cssHooks[i].get=function(){var e;return m=!0,e=n.apply(this,arguments),m=!1,e})}),e.swap=function(e,t,n,s){var o,a,r={};m||i("jQuery.swap() is undocumented and deprecated");for(a in t)r[a]=e.style[a],e.style[a]=t[a];o=n.apply(e,s||[]);for(a in t)e.style[a]=r[a];return o};var g=e.data;e.data=function(t,n,s){var o;return n&&n!==e.camelCase(n)&&(o=e.hasData(t)&&g.call(this,t))&&n in o?(i("jQuery.data() always sets/gets camelCased names: "+n),arguments.length>2&&(o[n]=s),o[n]):g.apply(this,arguments)};var v=e.Tween.prototype.run;e.Tween.prototype.run=function(t){e.easing[this.easing].length>1&&(i('easing function "jQuery.easing.'+this.easing.toString()+'" should use only first argument'),e.easing[this.easing]=e.easing[this.easing].bind(e.easing,t,this.options.duration*t,0,1,this.options.duration)),v.apply(this,arguments)};var $=e.fn.load,b=e.event.fix;e.event.props=[],e.event.fixHooks={},e.event.fix=function(t){var n,s=t.type,o=this.fixHooks[s],a=e.event.props;if(a.length)for(i("jQuery.event.props are deprecated and removed: "+a.join());a.length;)e.event.addProp(a.pop());if(o&&!o._migrated_&&(o._migrated_=!0,i("jQuery.event.fixHooks are deprecated and removed: "+s),(a=o.props)&&a.length))for(;a.length;)e.event.addProp(a.pop());return n=b.call(this,t),o&&o.filter?o.filter(n,t):n},e.each(["load","unload","error"],function(t,n){e.fn[n]=function(){var e=Array.prototype.slice.call(arguments,0);return"load"===n&&"string"==typeof e[0]?$.apply(this,e):(i("jQuery.fn."+n+"() is deprecated"),e.splice(0,0,n),arguments.length?this.on.apply(this,e):(this.triggerHandler.apply(this,e),this))}}),e(function(){e(document).triggerHandler("ready")}),e.event.special.ready={setup:function(){this===document&&i("'ready' event is deprecated")}},e.fn.extend({bind:function(e,t,n){return i("jQuery.fn.bind() is deprecated"),this.on(e,null,t,n)},unbind:function(e,t){return i("jQuery.fn.unbind() is deprecated"),this.off(e,null,t)},delegate:function(e,t,n,s){return i("jQuery.fn.delegate() is deprecated"),this.on(t,e,n,s)},undelegate:function(e,t,n){return i("jQuery.fn.undelegate() is deprecated"),1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var y=e.fn.offset;e.fn.offset=function(){var t,n=this[0],s={top:0,left:0};return n&&n.nodeType?(t=(n.ownerDocument||document).documentElement,e.contains(t,n)?y.apply(this,arguments):(i("jQuery.fn.offset() requires an element connected to a document"),s)):(i("jQuery.fn.offset() requires a valid DOM element"),s)};var _=e.param;e.param=function(t,n){var s=e.ajaxSettings&&e.ajaxSettings.traditional;return void 0===n&&s&&(i("jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),n=s),_.call(this,t,n)};var w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),w.apply(this,arguments)};var x=e.Deferred,C=[["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory"),e.Callbacks("memory")]];e.Deferred=function(t){var n=x(),s=n.promise();return n.pipe=s.pipe=function(){var t=arguments;return i("deferred.pipe() is deprecated"),e.Deferred(function(i){e.each(C,function(o,a){var r=e.isFunction(t[o])&&t[o];n[a[1]](function(){var t=r&&r.apply(this,arguments);t&&e.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[a[0]+"With"](this===s?i.promise():this,r?[t]:arguments)})}),t=null}).promise()},t&&t.call(n,n),n}}(jQuery,window),function(e,t){"use strict";window.jcf=t(jQuery)}(0,function(e){"use strict";var t=[],i={optionsKey:"jcf",dataKey:"jcf-instance",rtlClass:"jcf-rtl",focusClass:"jcf-focus",pressedClass:"jcf-pressed",disabledClass:"jcf-disabled",hiddenClass:"jcf-hidden",resetAppearanceClass:"jcf-reset-appearance",unselectableClass:"jcf-unselectable"},n="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,s=/Windows Phone/.test(navigator.userAgent);i.isMobileDevice=!(!n&&!s);var o=function(){var t=e("<style>").appendTo("head"),n=t.prop("sheet")||t.prop("styleSheet"),s=function(e,t,i){i=i||0,n.insertRule?n.insertRule(e+"{"+t+"}",i):n.addRule(e,t,i)};s("."+i.hiddenClass,"position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none"),s("."+i.rtlClass+" ."+i.hiddenClass,"right:-9999px !important; left: auto !important"),s("."+i.unselectableClass,"-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0);"),s("."+i.resetAppearanceClass,"background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);");var o=e("html"),a=e("body");"rtl"!==o.css("direction")&&"rtl"!==a.css("direction")||o.addClass(i.rtlClass),o.on("reset",function(){setTimeout(function(){r.refreshAll()},0)}),i.styleSheetCreated=!0};!function(){var t,i=navigator.pointerEnabled||navigator.msPointerEnabled,n="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,s={};t=i?{pointerover:navigator.pointerEnabled?"pointerover":"MSPointerOver",pointerdown:navigator.pointerEnabled?"pointerdown":"MSPointerDown",pointermove:navigator.pointerEnabled?"pointermove":"MSPointerMove",pointerup:navigator.pointerEnabled?"pointerup":"MSPointerUp"}:{pointerover:"mouseover",pointerdown:"mousedown"+(n?" touchstart":""),pointermove:"mousemove"+(n?" touchmove":""),pointerup:"mouseup"+(n?" touchend":"")},e.each(t,function(t,i){e.each(i.split(" "),function(e,i){s[i]=t})}),e.each(t,function(t,i){i=i.split(" "),e.event.special["jcf-"+t]={setup:function(){var t=this;e.each(i,function(e,i){t.addEventListener?t.addEventListener(i,r,!1):t["on"+i]=r})},teardown:function(){var t=this;e.each(i,function(e,i){t.addEventListener?t.removeEventListener(i,r,!1):t["on"+i]=null})}}});var o=null,a=function(e){var t=Math.abs(e.pageX-o.x),i=Math.abs(e.pageY-o.y);if(t<=25&&i<=25)return!0},r=function(t){var i=t||window.event,n=null,r=s[i.type];if(t=e.event.fix(i),t.type="jcf-"+r,i.pointerType)switch(i.pointerType){case 2:t.pointerType="touch";break;case 3:t.pointerType="pen";break;case 4:t.pointerType="mouse";break;default:t.pointerType=i.pointerType}else t.pointerType=i.type.substr(0,5);return t.pageX||t.pageY||(n=i.changedTouches?i.changedTouches[0]:i,t.pageX=n.pageX,t.pageY=n.pageY),"touchend"===i.type&&(o={x:t.pageX,y:t.pageY}),"mouse"===t.pointerType&&o&&a(t)?void 0:(e.event.dispatch||e.event.handle).call(this,t)}}(),function(){var t=("onwheel"in document||document.documentMode>=9?"wheel":"mousewheel DOMMouseScroll").split(" ");e.event.special["jcf-mousewheel"]={setup:function(){var n=this;e.each(t,function(e,t){n.addEventListener?n.addEventListener(t,i,!1):n["on"+t]=i})},teardown:function(){var n=this;e.each(t,function(e,t){n.addEventListener?n.removeEventListener(t,i,!1):n["on"+t]=null})}};var i=function(t){var i=t||window.event;if(t=e.event.fix(i),t.type="jcf-mousewheel","detail"in i&&(t.deltaY=-i.detail),"wheelDelta"in i&&(t.deltaY=-i.wheelDelta),"wheelDeltaY"in i&&(t.deltaY=-i.wheelDeltaY),"wheelDeltaX"in i&&(t.deltaX=-i.wheelDeltaX),"deltaY"in i&&(t.deltaY=i.deltaY),"deltaX"in i&&(t.deltaX=i.deltaX),t.delta=t.deltaY||t.deltaX,1===i.deltaMode){t.delta*=16,t.deltaY*=16,t.deltaX*=16}return(e.event.dispatch||e.event.handle).call(this,t)}}();var a={fireNativeEvent:function(t,i){e(t).each(function(){var e,t=this;t.dispatchEvent?((e=document.createEvent("HTMLEvents")).initEvent(i,!0,!0),t.dispatchEvent(e)):document.createEventObject&&((e=document.createEventObject()).target=t,t.fireEvent("on"+i,e))})},bindHandlers:function(){var t=this;e.each(t,function(i,n){0===i.indexOf("on")&&e.isFunction(n)&&(t[i]=function(){return n.apply(t,arguments)})})}},r={version:"1.2.3",modules:{},getOptions:function(){return e.extend({},i)},setOptions:function(t,n){arguments.length>1?this.modules[t]&&e.extend(this.modules[t].prototype.options,n):e.extend(i,t)},addModule:function(n){e.isFunction(n)&&(n=n(e,window));var s=function(n){n.element.data(i.dataKey)||n.element.data(i.dataKey,this),t.push(this),this.options=e.extend({},i,this.options,o(n.element),n),this.bindHandlers(),this.init.apply(this,arguments)},o=function(t){var n=t.data(i.optionsKey),s=t.attr(i.optionsKey);if(n)return n;if(s)try{return e.parseJSON(s)}catch(e){}};s.prototype=n,e.extend(n,a),n.plugins&&e.each(n.plugins,function(t,i){e.extend(i.prototype,a)});var r=s.prototype.destroy;s.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var e=t.length-1;e>=0;e--)if(t[e]===this){t.splice(e,1);break}r&&r.apply(this,arguments)},this.modules[n.name]=s},getInstance:function(t){return e(t).data(i.dataKey)},replace:function(t,n,s){var a,r=this;return i.styleSheetCreated||o(),e(t).each(function(){var t,o=e(this);(a=o.data(i.dataKey))?a.refresh():(n||e.each(r.modules,function(e,t){if(t.prototype.matchElement.call(t.prototype,o))return n=e,!1}),n&&(t=e.extend({element:o},s),a=new r.modules[n](t)))}),a},refresh:function(t){e(t).each(function(){var t=e(this).data(i.dataKey);t&&t.refresh()})},destroy:function(t){e(t).each(function(){var t=e(this).data(i.dataKey);t&&t.destroy()})},replaceAll:function(t){var i=this;e.each(this.modules,function(n,s){e(s.prototype.selector,t).each(function(){this.className.indexOf("jcf-ignore")<0&&i.replace(this,n)})})},refreshAll:function(n){if(n)e.each(this.modules,function(t,s){e(s.prototype.selector,n).each(function(){var t=e(this).data(i.dataKey);t&&t.refresh()})});else for(var s=t.length-1;s>=0;s--)t[s].refresh()},destroyAll:function(n){if(n)e.each(this.modules,function(t,s){e(s.prototype.selector,n).each(function(t,n){var s=e(n).data(i.dataKey);s&&s.destroy()})});else for(;t.length;)t[0].destroy()}};return"function"==typeof define&&define.amd&&(window.jcf=r),r}),function(e){e.addModule(function(t,i){"use strict";function n(e){this.options=t.extend({wrapNative:!0,wrapNativeOnMobile:!0,fakeDropInBody:!0,useCustomScroll:!0,flipDropToFit:!0,maxVisibleItems:10,fakeAreaStructure:'<span class="jcf-select"><span class="jcf-select-text"></span><span class="jcf-select-opener"></span></span>',fakeDropStructure:'<div class="jcf-select-drop"><div class="jcf-select-drop-content"></div></div>',optionClassPrefix:"jcf-option-",selectClassPrefix:"jcf-select-",dropContentSelector:".jcf-select-drop-content",selectTextSelector:".jcf-select-text",dropActiveClass:"jcf-drop-active",flipDropClass:"jcf-drop-flipped"},e),this.init()}function s(e){this.options=t.extend({wrapNative:!0,useCustomScroll:!0,fakeStructure:'<span class="jcf-list-box"><span class="jcf-list-wrapper"></span></span>',selectClassPrefix:"jcf-select-",listHolder:".jcf-list-wrapper"},e),this.init()}function o(e){this.options=t.extend({holder:null,maxVisibleItems:10,selectOnClick:!0,useHoverClass:!1,useCustomScroll:!1,handleResize:!0,multipleSelectWithoutKey:!1,alwaysPreventMouseWheel:!1,indexAttribute:"data-index",cloneClassPrefix:"jcf-option-",containerStructure:'<span class="jcf-list"><span class="jcf-list-content"></span></span>',containerSelector:".jcf-list-content",captionClass:"jcf-optgroup-caption",disabledClass:"jcf-disabled",optionClass:"jcf-option",groupClass:"jcf-optgroup",hoverClass:"jcf-hover",selectedClass:"jcf-selected",scrollClass:"jcf-scroll-active"},e),this.init()}var a={name:"Select",selector:"select",options:{element:null,multipleCompactStyle:!1},plugins:{ListBox:s,ComboBox:n,SelectList:o},matchElement:function(e){return e.is("select")},init:function(){this.element=t(this.options.element),this.createInstance()},isListBox:function(){return this.element.is("[size]:not([jcf-size]), [multiple]")},createInstance:function(){this.instance&&this.instance.destroy(),this.isListBox()&&!this.options.multipleCompactStyle?this.instance=new s(this.options):this.instance=new n(this.options)},refresh:function(){this.isListBox()&&this.instance instanceof n||!this.isListBox()&&this.instance instanceof s?this.createInstance():this.instance.refresh()},destroy:function(){this.instance.destroy()}};t.extend(n.prototype,{init:function(){this.initStructure(),this.bindHandlers(),this.attachEvents(),this.refresh()},initStructure:function(){this.win=t(i),this.doc=t(document),this.realElement=t(this.options.element),this.fakeElement=t(this.options.fakeAreaStructure).insertAfter(this.realElement),this.selectTextContainer=this.fakeElement.find(this.options.selectTextSelector),this.selectText=t("<span></span>").appendTo(this.selectTextContainer),l(this.fakeElement),this.fakeElement.addClass(r(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.prop("multiple")&&this.fakeElement.addClass("jcf-compact-multiple"),this.options.isMobileDevice&&this.options.wrapNativeOnMobile&&!this.options.wrapNative&&(this.options.wrapNative=!0),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%"}).addClass(this.options.resetAppearanceClass):(this.realElement.addClass(this.options.hiddenClass),this.fakeElement.attr("title",this.realElement.attr("title")),this.fakeDropTarget=this.options.fakeDropInBody?t("body"):this.fakeElement)},attachEvents:function(){var e=this;this.delayedRefresh=function(){setTimeout(function(){e.refresh(),e.list&&(e.list.refresh(),e.list.scrollToActiveOption())},1)},this.options.wrapNative?this.realElement.on({focus:this.onFocus,change:this.onChange,click:this.onChange,keydown:this.delayedRefresh}):(this.realElement.on({focus:this.onFocus,change:this.onChange,keydown:this.onKeyDown}),this.fakeElement.on({"jcf-pointerdown":this.onSelectAreaPress}))},onKeyDown:function(e){13===e.which?this.toggleDropdown():this.dropActive&&this.delayedRefresh()},onChange:function(){this.refresh()},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.toggleListMode(!0),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.toggleListMode(!1),this.focusedFlag=!1)},onResize:function(){this.dropActive&&this.hideDropdown()},onSelectDropPress:function(){this.pressedFlag=!0},onSelectDropRelease:function(e,t){this.pressedFlag=!1,"mouse"===t.pointerType&&this.realElement.focus()},onSelectAreaPress:function(e){!this.options.fakeDropInBody&&t(e.target).closest(this.dropdown).length||e.button>1||this.realElement.is(":disabled")||(this.selectOpenedByEvent=e.pointerType,this.toggleDropdown(),this.focusedFlag||("mouse"===e.pointerType?this.realElement.focus():this.onFocus(e)),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onSelectAreaRelease))},onSelectAreaRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onSelectAreaRelease)},onOutsideClick:function(e){var i=t(e.target);i.closest(this.fakeElement).length||i.closest(this.dropdown).length||this.hideDropdown()},onSelect:function(){this.refresh(),this.realElement.prop("multiple")?this.repositionDropdown():this.hideDropdown(),this.fireNativeEvent(this.realElement,"change")},toggleListMode:function(e){this.options.wrapNative||(e?this.realElement.attr({size:4,"jcf-size":""}):this.options.wrapNative||this.realElement.removeAttr("size jcf-size"))},createDropdown:function(){this.dropdown&&(this.list.destroy(),this.dropdown.remove()),this.dropdown=t(this.options.fakeDropStructure).appendTo(this.fakeDropTarget),this.dropdown.addClass(r(this.realElement.prop("className"),this.options.selectClassPrefix)),l(this.dropdown),this.realElement.prop("multiple")&&this.dropdown.addClass("jcf-compact-multiple"),this.options.fakeDropInBody&&this.dropdown.css({position:"absolute",top:-9999}),this.list=new o({useHoverClass:!0,handleResize:!1,alwaysPreventMouseWheel:!0,maxVisibleItems:this.options.maxVisibleItems,useCustomScroll:this.options.useCustomScroll,holder:this.dropdown.find(this.options.dropContentSelector),multipleSelectWithoutKey:this.realElement.prop("multiple"),element:this.realElement}),t(this.list).on({select:this.onSelect,press:this.onSelectDropPress,release:this.onSelectDropRelease})},repositionDropdown:function(){var e,t,i,n=this.fakeElement.offset(),s=this.fakeElement[0].getBoundingClientRect(),o=s.width||s.right-s.left,a=this.fakeElement.outerHeight(),r=this.dropdown.css("width",o).outerHeight(),l=this.win.scrollTop(),c=this.win.height(),d=!1;n.top+a+r>l+c&&n.top-r>l&&(d=!0),this.options.fakeDropInBody&&(i="static"!==this.fakeDropTarget.css("position")?this.fakeDropTarget.offset().top:0,this.options.flipDropToFit&&d?(t=n.left,e=n.top-r-i):(t=n.left,e=n.top+a-i),this.dropdown.css({width:o,left:t,top:e})),this.dropdown.add(this.fakeElement).toggleClass(this.options.flipDropClass,this.options.flipDropToFit&&d)},showDropdown:function(){this.realElement.prop("options").length&&(this.dropdown||this.createDropdown(),this.dropActive=!0,this.dropdown.appendTo(this.fakeDropTarget),this.fakeElement.addClass(this.options.dropActiveClass),this.refreshSelectedText(),this.repositionDropdown(),this.list.setScrollTop(this.savedScrollTop),this.list.refresh(),this.win.on("resize",this.onResize),this.doc.on("jcf-pointerdown",this.onOutsideClick))},hideDropdown:function(){this.dropdown&&(this.savedScrollTop=this.list.getScrollTop(),this.fakeElement.removeClass(this.options.dropActiveClass+" "+this.options.flipDropClass),this.dropdown.removeClass(this.options.flipDropClass).detach(),this.doc.off("jcf-pointerdown",this.onOutsideClick),this.win.off("resize",this.onResize),this.dropActive=!1,"touch"===this.selectOpenedByEvent&&this.onBlur())},toggleDropdown:function(){this.dropActive?this.hideDropdown():this.showDropdown()},refreshSelectedText:function(){var e,i=this.realElement.prop("selectedIndex"),n=this.realElement.prop("options")[i],s=n?n.getAttribute("data-image"):null,o="",a=this;this.realElement.prop("multiple")?(t.each(this.realElement.prop("options"),function(e,t){t.selected&&(o+=(o?", ":"")+t.innerHTML)}),o||(o=a.realElement.attr("placeholder")||""),this.selectText.removeAttr("class").html(o)):n?this.currentSelectedText===n.innerHTML&&this.currentSelectedImage===s||(e=r(n.className,this.options.optionClassPrefix),this.selectText.attr("class",e).html(n.innerHTML),s?(this.selectImage||(this.selectImage=t("<img>").prependTo(this.selectTextContainer).hide()),this.selectImage.attr("src",s).show()):this.selectImage&&this.selectImage.hide(),this.currentSelectedText=n.innerHTML,this.currentSelectedImage=s):(this.selectImage&&this.selectImage.hide(),this.selectText.removeAttr("class").empty())},refresh:function(){"none"===this.realElement.prop("style").display?this.fakeElement.hide():this.fakeElement.show(),this.refreshSelectedText(),this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled"))},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",height:"",width:""}).removeClass(this.options.resetAppearanceClass):(this.realElement.removeClass(this.options.hiddenClass),this.realElement.is("[jcf-size]")&&this.realElement.removeAttr("size jcf-size")),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onSelectAreaRelease),this.realElement.off({focus:this.onFocus})}}),t.extend(s.prototype,{init:function(){this.bindHandlers(),this.initStructure(),this.attachEvents()},initStructure:function(){this.realElement=t(this.options.element),this.fakeElement=t(this.options.fakeStructure).insertAfter(this.realElement),this.listHolder=this.fakeElement.find(this.options.listHolder),l(this.fakeElement),this.fakeElement.addClass(r(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.addClass(this.options.hiddenClass),this.list=new o({useCustomScroll:this.options.useCustomScroll,holder:this.listHolder,selectOnClick:!1,element:this.realElement})},attachEvents:function(){var e=this;this.delayedRefresh=function(t){t&&(16===t.which||t.ctrlKey||t.metaKey||t.altKey)||(clearTimeout(e.refreshTimer),e.refreshTimer=setTimeout(function(){e.refresh(),e.list.scrollToActiveOption()},1))},this.realElement.on({focus:this.onFocus,click:this.delayedRefresh,keydown:this.delayedRefresh}),t(this.list).on({select:this.onSelect,press:this.onFakeOptionsPress,release:this.onFakeOptionsRelease})},onFakeOptionsPress:function(e,t){this.pressedFlag=!0,"mouse"===t.pointerType&&this.realElement.focus()},onFakeOptionsRelease:function(e,t){this.pressedFlag=!1,"mouse"===t.pointerType&&this.realElement.focus()},onSelect:function(){this.fireNativeEvent(this.realElement,"change"),this.fireNativeEvent(this.realElement,"click")},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.focusedFlag=!1)},refresh:function(){this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.list.refresh()},destroy:function(){this.list.destroy(),this.realElement.insertBefore(this.fakeElement).removeClass(this.options.hiddenClass),this.fakeElement.remove()}}),t.extend(o.prototype,{init:function(){this.initStructure(),this.refreshSelectedClass(),this.attachEvents()},initStructure:function(){this.element=t(this.options.element),this.indexSelector="["+this.options.indexAttribute+"]",this.container=t(this.options.containerStructure).appendTo(this.options.holder),this.listHolder=this.container.find(this.options.containerSelector),this.lastClickedIndex=this.element.prop("selectedIndex"),this.rebuildList(),this.element.prop("multiple")&&(this.previousSelection=this.getSelectedOptionsIndexes())},attachEvents:function(){this.bindHandlers(),this.listHolder.on("jcf-pointerdown",this.indexSelector,this.onItemPress),this.listHolder.on("jcf-pointerdown",this.onPress),this.options.useHoverClass&&this.listHolder.on("jcf-pointerover",this.indexSelector,this.onHoverItem)},onPress:function(e){t(this).trigger("press",e),this.listHolder.on("jcf-pointerup",this.onRelease)},onRelease:function(e){t(this).trigger("release",e),this.listHolder.off("jcf-pointerup",this.onRelease)},onHoverItem:function(e){var t=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute));this.fakeOptions.removeClass(this.options.hoverClass).eq(t).addClass(this.options.hoverClass)},onItemPress:function(e){"touch"===e.pointerType||this.options.selectOnClick?(this.tmpListOffsetTop=this.list.offset().top,this.listHolder.on("jcf-pointerup",this.indexSelector,this.onItemRelease)):this.onSelectItem(e)},onItemRelease:function(e){this.listHolder.off("jcf-pointerup",this.indexSelector,this.onItemRelease),this.tmpListOffsetTop===this.list.offset().top&&this.listHolder.on("click",this.indexSelector,{savedPointerType:e.pointerType},this.onSelectItem),delete this.tmpListOffsetTop},onSelectItem:function(e){var i,n=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute)),s=e.data&&e.data.savedPointerType||e.pointerType||"mouse";this.listHolder.off("click",this.indexSelector,this.onSelectItem),e.button>1||this.realOptions[n].disabled||(this.element.prop("multiple")?e.metaKey||e.ctrlKey||"touch"===s||this.options.multipleSelectWithoutKey?this.realOptions[n].selected=!this.realOptions[n].selected:e.shiftKey?(i=[this.lastClickedIndex,n].sort(function(e,t){return e-t}),this.realOptions.each(function(e,t){t.selected=e>=i[0]&&e<=i[1]})):this.element.prop("selectedIndex",n):this.element.prop("selectedIndex",n),e.shiftKey||(this.lastClickedIndex=n),this.refreshSelectedClass(),"mouse"===s&&this.scrollToActiveOption(),t(this).trigger("select"))},rebuildList:function(){var i=this,n=this.element[0];this.storedSelectHTML=n.innerHTML,this.optionIndex=0,this.list=t(this.createOptionsList(n)),this.listHolder.empty().append(this.list),this.realOptions=this.element.find("option"),this.fakeOptions=this.list.find(this.indexSelector),this.fakeListItems=this.list.find("."+this.options.captionClass+","+this.indexSelector),delete this.optionIndex;var s=this.options.maxVisibleItems,o=this.element.prop("size");o>1&&!this.element.is("[jcf-size]")&&(s=o);var a=this.fakeOptions.length>s;this.container.toggleClass(this.options.scrollClass,a),a&&(this.listHolder.css({maxHeight:this.getOverflowHeight(s),overflow:"auto"}),this.options.useCustomScroll&&e.modules.Scrollable)?e.replace(this.listHolder,"Scrollable",{handleResize:this.options.handleResize,alwaysPreventMouseWheel:this.options.alwaysPreventMouseWheel}):this.options.alwaysPreventMouseWheel&&(this.preventWheelHandler=function(e){var t=i.listHolder.scrollTop(),n=i.listHolder.prop("scrollHeight")-i.listHolder.innerHeight();(t<=0&&e.deltaY<0||t>=n&&e.deltaY>0)&&e.preventDefault()},this.listHolder.on("jcf-mousewheel",this.preventWheelHandler))},refreshSelectedClass:function(){var e,t=this,i=this.element.prop("multiple"),n=this.element.prop("selectedIndex");i?this.realOptions.each(function(e,i){t.fakeOptions.eq(e).toggleClass(t.options.selectedClass,!!i.selected)}):(this.fakeOptions.removeClass(this.options.selectedClass+" "+this.options.hoverClass),e=this.fakeOptions.eq(n).addClass(this.options.selectedClass),this.options.useHoverClass&&e.addClass(this.options.hoverClass))},scrollToActiveOption:function(){var e=this.getActiveOptionOffset();"number"==typeof e&&this.listHolder.prop("scrollTop",e)},getSelectedOptionsIndexes:function(){var e=[];return this.realOptions.each(function(t,i){i.selected&&e.push(t)}),e},getChangedSelectedIndex:function(){var e=this.element.prop("selectedIndex"),i=this,n=!1,s=null;return this.element.prop("multiple")?(this.currentSelection=this.getSelectedOptionsIndexes(),t.each(this.currentSelection,function(e,t){!n&&i.previousSelection.indexOf(t)<0&&(0===e&&(n=!0),s=t)}),this.previousSelection=this.currentSelection,s):e},getActiveOptionOffset:function(){var e=this.getChangedSelectedIndex();if(null!==e){var t=this.listHolder.height(),i=this.listHolder.prop("scrollTop"),n=this.fakeOptions.eq(e),s=n.offset().top-this.list.offset().top,o=n.innerHeight();return s+o>=i+t?s-t+o:s<i?s:void 0}},getOverflowHeight:function(e){var t=this.fakeListItems.eq(e-1),i=this.list.offset().top;return t.offset().top+t.innerHeight()-i},getScrollTop:function(){return this.listHolder.scrollTop()},setScrollTop:function(e){this.listHolder.scrollTop(e)},createOption:function(e){var t=document.createElement("span");t.className=this.options.optionClass,t.innerHTML=e.innerHTML,t.setAttribute(this.options.indexAttribute,this.optionIndex++);var i,n=e.getAttribute("data-image");return n&&((i=document.createElement("img")).src=n,t.insertBefore(i,t.childNodes[0])),e.disabled&&(t.className+=" "+this.options.disabledClass),e.className&&(t.className+=" "+r(e.className,this.options.cloneClassPrefix)),t},createOptGroup:function(e){var t,i,n=document.createElement("span"),s=e.getAttribute("label");return t=document.createElement("span"),t.className=this.options.captionClass,t.innerHTML=s,n.appendChild(t),e.children.length&&(i=this.createOptionsList(e),n.appendChild(i)),n.className=this.options.groupClass,n},createOptionContainer:function(){return document.createElement("li")},createOptionsList:function(e){var i=this,n=document.createElement("ul");return t.each(e.children,function(e,t){var s,o=i.createOptionContainer(t);switch(t.tagName.toLowerCase()){case"option":s=i.createOption(t);break;case"optgroup":s=i.createOptGroup(t)}n.appendChild(o).appendChild(s)}),n},refresh:function(){this.storedSelectHTML!==this.element.prop("innerHTML")&&this.rebuildList();var t=e.getInstance(this.listHolder);t&&t.refresh(),this.refreshSelectedClass()},destroy:function(){this.listHolder.off("jcf-mousewheel",this.preventWheelHandler),this.listHolder.off("jcf-pointerdown",this.indexSelector,this.onSelectItem),this.listHolder.off("jcf-pointerover",this.indexSelector,this.onHoverItem),this.listHolder.off("jcf-pointerdown",this.onPress)}});var r=function(e,t){return e?e.replace(/[\s]*([\S]+)+[\s]*/gi,t+"$1 "):""},l=function(){function t(e){e.preventDefault()}var i=e.getOptions().unselectableClass;return function(e){e.addClass(i).on("selectstart",t)}}();return a})}(jcf),function(e){e.addModule(function(e){"use strict";return{name:"File",selector:'input[type="file"]',options:{fakeStructure:'<span class="jcf-file"><span class="jcf-fake-input"></span><span class="jcf-upload-button"><span class="jcf-button-content"></span></span></span>',buttonText:"Choose file",placeholderText:"No file chosen",realElementClass:"jcf-real-element",extensionPrefixClass:"jcf-extension-",selectedFileBlock:".jcf-fake-input",buttonTextBlock:".jcf-button-content"},matchElement:function(e){return e.is('input[type="file"]')},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=e(document),this.realElement=e(this.options.element).addClass(this.options.realElementClass),this.fakeElement=e(this.options.fakeStructure).insertBefore(this.realElement),this.fileNameBlock=this.fakeElement.find(this.options.selectedFileBlock),this.buttonTextBlock=this.fakeElement.find(this.options.buttonTextBlock).text(this.options.buttonText),this.realElement.appendTo(this.fakeElement).css({position:"absolute",opacity:0})},attachEvents:function(){this.realElement.on({"jcf-pointerdown":this.onPress,change:this.onChange,focus:this.onFocus})},onChange:function(){this.refresh()},onFocus:function(){this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur)},onBlur:function(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur)},onPress:function(){this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(){this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getFileName:function(){var t="",i=this.realElement.prop("files");return i&&i.length?e.each(i,function(e,i){t+=(e>0?", ":"")+i.name}):t=this.realElement.val().replace(/^[\s\S]*(?:\\|\/)([\s\S^\\\/]*)$/g,"$1"),t},getFileExtension:function(){var e=this.realElement.val();return e.lastIndexOf(".")<0?"":e.substring(e.lastIndexOf(".")+1).toLowerCase()},updateExtensionClass:function(){var e=this.getFileExtension(),t=this.fakeElement.prop("className").replace(new RegExp("(\\s|^)"+this.options.extensionPrefixClass+"[^ ]+","gi"),"");this.fakeElement.prop("className",t),e&&this.fakeElement.addClass(this.options.extensionPrefixClass+e)},refresh:function(){var e=this.getFileName()||this.options.placeholderText;this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.fileNameBlock.text(e),this.updateExtensionClass()},destroy:function(){this.realElement.insertBefore(this.fakeElement).removeClass(this.options.realElementClass).css({position:"",opacity:""}),this.fakeElement.remove(),this.realElement.off({"jcf-pointerdown":this.onPress,change:this.onChange,focus:this.onFocus,blur:this.onBlur}),this.doc.off("jcf-pointerup",this.onRelease)}}})}(jcf),function(e){e.addModule(function(e){"use strict";return{name:"Button",selector:'button, input[type="button"], input[type="submit"], input[type="reset"]',options:{realElementClass:"jcf-real-element",fakeStructure:'<span class="jcf-button"><span class="jcf-button-content"></span></span>',buttonContent:".jcf-button-content"},matchElement:function(e){return e.is(this.selector)},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.page=e("html"),this.realElement=e(this.options.element).addClass(this.options.realElementClass),this.fakeElement=e(this.options.fakeStructure).insertBefore(this.realElement),this.buttonContent=this.fakeElement.find(this.options.buttonContent),this.fakeElement.css({position:"relative"}),this.realElement.prependTo(this.fakeElement).css({position:"absolute",opacity:0})},attachEvents:function(){this.realElement.on({focus:this.onFocus,"jcf-pointerdown":this.onPress})},onPress:function(){this.fakeElement.addClass(this.options.pressedClass),this.page.on("jcf-pointerup",this.onRelease)},onRelease:function(){this.fakeElement.removeClass(this.options.pressedClass),this.page.off("jcf-pointerup",this.onRelease)},onFocus:function(){this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur)},onBlur:function(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur)},refresh:function(){this.buttonContent.html(this.realElement.html()||this.realElement.val()),this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled"))},destroy:function(){this.realElement.removeClass(this.options.realElementClass).insertBefore(this.fakeElement),this.fakeElement.remove(),this.realElement.off({focus:this.onFocus,blur:this.onBlur,"jcf-pointerdown":this.onPress}),this.realElement.css({position:"",opacity:""})}}})}(jcf),function(e){e.addModule(function(e){"use strict";return{name:"Checkbox",selector:'input[type="checkbox"]',options:{wrapNative:!0,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-checkbox"><span></span></span>'},matchElement:function(e){return e.is(":checkbox")},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=e(document),this.realElement=e(this.options.element),this.fakeElement=e(this.options.fakeStructure).insertAfter(this.realElement),this.labelElement=this.getLabelFor(),this.options.wrapNative?this.realElement.appendTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%",opacity:0,margin:0}):this.realElement.addClass(this.options.hiddenClass)},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick}),this.fakeElement.on("click",this.onFakeClick),this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function(e){var t=this;this.savedEventObject=e,setTimeout(function(){t.refresh()},0)},onFakeClick:function(e){this.options.wrapNative&&this.realElement.is(e.target)||this.realElement.is(":disabled")||(delete this.savedEventObject,this.stateChecked=this.realElement.prop("checked"),this.realElement.prop("checked",!this.stateChecked),this.fireNativeEvent(this.realElement,"click"),this.savedEventObject&&this.savedEventObject.isDefaultPrevented()?this.realElement.prop("checked",this.stateChecked):this.fireNativeEvent(this.realElement,"change"),delete this.savedEventObject)},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.focusedFlag=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur))},onBlur:function(){this.pressedFlag||(this.focusedFlag=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur))},onPress:function(e){this.focusedFlag||"mouse"!==e.pointerType||this.realElement.focus(),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getLabelFor:function(){var t=this.realElement.closest("label"),i=this.realElement.prop("id");return!t.length&&i&&(t=e('label[for="'+i+'"]')),t.length?t:null},refresh:function(){var e=this.realElement.is(":checked"),t=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,e).toggleClass(this.options.uncheckedClass,!e).toggleClass(this.options.disabledClass,t),this.labelElement&&this.labelElement.toggleClass(this.options.labelActiveClass,e)},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""}):this.realElement.removeClass(this.options.hiddenClass),this.fakeElement.off("jcf-pointerdown",this.onPress),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onRelease),this.realElement.off({focus:this.onFocus,click:this.onRealClick})}}})}(jcf),function(e){e.addModule(function(e){"use strict";return{name:"Number",selector:'input[type="number"]',options:{realElementClass:"jcf-real-element",fakeStructure:'<span class="jcf-number"><span class="jcf-btn-inc"></span><span class="jcf-btn-dec"></span></span>',btnIncSelector:".jcf-btn-inc",btnDecSelector:".jcf-btn-dec",pressInterval:150},matchElement:function(e){return e.is(this.selector)},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.page=e("html"),this.realElement=e(this.options.element).addClass(this.options.realElementClass),this.fakeElement=e(this.options.fakeStructure).insertBefore(this.realElement).prepend(this.realElement),this.btnDec=this.fakeElement.find(this.options.btnDecSelector),this.btnInc=this.fakeElement.find(this.options.btnIncSelector),this.initialValue=parseFloat(this.realElement.val())||0,this.minValue=parseFloat(this.realElement.attr("min")),this.maxValue=parseFloat(this.realElement.attr("max")),this.stepValue=parseFloat(this.realElement.attr("step"))||1,this.minValue=isNaN(this.minValue)?-1/0:this.minValue,this.maxValue=isNaN(this.maxValue)?1/0:this.maxValue,isFinite(this.maxValue)&&(this.maxValue-=(this.maxValue-this.minValue)%this.stepValue)},attachEvents:function(){this.realElement.on({focus:this.onFocus}),this.btnDec.add(this.btnInc).on("jcf-pointerdown",this.onBtnPress)},onBtnPress:function(e){var t,i=this;this.realElement.is(":disabled")||(t=this.btnInc.is(e.currentTarget),i.step(t),clearInterval(this.stepTimer),this.stepTimer=setInterval(function(){i.step(t)},this.options.pressInterval),this.page.on("jcf-pointerup",this.onBtnRelease))},onBtnRelease:function(){clearInterval(this.stepTimer),this.page.off("jcf-pointerup",this.onBtnRelease)},onFocus:function(){this.fakeElement.addClass(this.options.focusClass),this.realElement.on({blur:this.onBlur,keydown:this.onKeyPress})},onBlur:function(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off({blur:this.onBlur,keydown:this.onKeyPress})},onKeyPress:function(e){38!==e.which&&40!==e.which||(e.preventDefault(),this.step(38===e.which))},step:function(e){var t=parseFloat(this.realElement.val()),i=t||0,n=this.stepValue*(e?1:-1),s=isFinite(this.minValue)?this.minValue:this.initialValue-Math.abs(i*this.stepValue),o=Math.abs(s-i)%this.stepValue;o?e?i+=n-o:i-=o:i+=n,i<this.minValue?i=this.minValue:i>this.maxValue&&(i=this.maxValue),i!==t&&(this.realElement.val(i).trigger("change"),this.refresh())},refresh:function(){var e=this.realElement.is(":disabled"),t=parseFloat(this.realElement.val());this.fakeElement.toggleClass(this.options.disabledClass,e),this.btnDec.toggleClass(this.options.disabledClass,t===this.minValue),this.btnInc.toggleClass(this.options.disabledClass,t===this.maxValue)},destroy:function(){this.realElement.removeClass(this.options.realElementClass).insertBefore(this.fakeElement),this.fakeElement.remove(),clearInterval(this.stepTimer),this.page.off("jcf-pointerup",this.onBtnRelease),this.realElement.off({keydown:this.onKeyPress,focus:this.onFocus,blur:this.onBlur})}}})}(jcf),function(e){e.addModule(function(t){"use strict";return{name:"Radio",selector:'input[type="radio"]',options:{wrapNative:!0,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-radio"><span></span></span>'},matchElement:function(e){return e.is(":radio")},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=t(document),this.realElement=t(this.options.element),this.fakeElement=t(this.options.fakeStructure).insertAfter(this.realElement),this.labelElement=this.getLabelFor(),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",opacity:0}):this.realElement.addClass(this.options.hiddenClass)},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick}),this.fakeElement.on("click",this.onFakeClick),this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function(e){var t=this;this.savedEventObject=e,setTimeout(function(){t.refreshRadioGroup()},0)},onFakeClick:function(e){this.options.wrapNative&&this.realElement.is(e.target)||this.realElement.is(":disabled")||(delete this.savedEventObject,this.currentActiveRadio=this.getCurrentActiveRadio(),this.stateChecked=this.realElement.prop("checked"),this.realElement.prop("checked",!0),this.fireNativeEvent(this.realElement,"click"),this.savedEventObject&&this.savedEventObject.isDefaultPrevented()?(this.realElement.prop("checked",this.stateChecked),this.currentActiveRadio.prop("checked",!0)):this.fireNativeEvent(this.realElement,"change"),delete this.savedEventObject)},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.focusedFlag=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur))},onBlur:function(){this.pressedFlag||(this.focusedFlag=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur))},onPress:function(e){this.focusedFlag||"mouse"!==e.pointerType||this.realElement.focus(),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getCurrentActiveRadio:function(){return this.getRadioGroup(this.realElement).filter(":checked")},getRadioGroup:function(e){var i=e.attr("name"),n=e.parents("form");return i?n.length?n.find('input[name="'+i+'"]'):t('input[name="'+i+'"]:not(form input)'):e},getLabelFor:function(){var e=this.realElement.closest("label"),i=this.realElement.prop("id");return!e.length&&i&&(e=t('label[for="'+i+'"]')),e.length?e:null},refreshRadioGroup:function(){this.getRadioGroup(this.realElement).each(function(){e.refresh(this)})},refresh:function(){var e=this.realElement.is(":checked"),t=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,e).toggleClass(this.options.uncheckedClass,!e).toggleClass(this.options.disabledClass,t),this.labelElement&&this.labelElement.toggleClass(this.options.labelActiveClass,e)},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""}):this.realElement.removeClass(this.options.hiddenClass),this.fakeElement.off("jcf-pointerdown",this.onPress),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onRelease),this.realElement.off({blur:this.onBlur,focus:this.onFocus,click:this.onRealClick})}}})}(jcf),function(e){e.addModule(function(e){"use strict";return{name:"Range",selector:'input[type="range"]',options:{realElementClass:"jcf-real-element",fakeStructure:'<span class="jcf-range"><span class="jcf-range-wrapper"><span class="jcf-range-track"><span class="jcf-range-handle"></span></span></span></span>',dataListMark:'<span class="jcf-range-mark"></span>',rangeDisplayWrapper:'<span class="jcf-range-display-wrapper"></span>',rangeDisplay:'<span class="jcf-range-display"></span>',handleSelector:".jcf-range-handle",trackSelector:".jcf-range-track",activeHandleClass:"jcf-active-handle",verticalClass:"jcf-vertical",orientation:"horizontal",range:!1,dragHandleCenter:!0,snapToMarks:!0,snapRadius:5,minRange:0},matchElement:function(e){return e.is(this.selector)},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){for(this.page=e("html"),this.realElement=e(this.options.element).addClass(this.options.hiddenClass),this.fakeElement=e(this.options.fakeStructure).insertBefore(this.realElement).prepend(this.realElement),this.track=this.fakeElement.find(this.options.trackSelector),this.trackHolder=this.track.parent(),this.handle=this.fakeElement.find(this.options.handleSelector),this.createdHandleCount=0,this.activeDragHandleIndex=0,this.isMultiple=this.realElement.prop("multiple")||"string"==typeof this.realElement.attr("multiple"),this.values=this.isMultiple?this.realElement.attr("value").split(","):[this.realElement.val()],this.handleCount=this.isMultiple?this.values.length:1,this.rangeDisplayWrapper=e(this.options.rangeDisplayWrapper).insertBefore(this.track),"min"!==this.options.range&&"all"!==this.options.range||(this.rangeMin=e(this.options.rangeDisplay).addClass("jcf-range-min").prependTo(this.rangeDisplayWrapper)),"max"!==this.options.range&&"all"!==this.options.range||(this.rangeMax=e(this.options.rangeDisplay).addClass("jcf-range-max").prependTo(this.rangeDisplayWrapper));this.createdHandleCount<this.handleCount;)this.createdHandleCount++,this.handle.clone().addClass("jcf-index-"+this.createdHandleCount).insertBefore(this.handle),this.createdHandleCount>1&&(this.rangeMid||(this.rangeMid=e()),this.rangeMid=this.rangeMid.add(e(this.options.rangeDisplay).addClass("jcf-range-mid").prependTo(this.rangeDisplayWrapper)));this.handle.detach(),this.handle=null,this.handles=this.fakeElement.find(this.options.handleSelector),this.handles.eq(0).addClass(this.options.activeHandleClass),this.isVertical="vertical"===this.options.orientation,this.directionProperty=this.isVertical?"top":"left",this.offsetProperty=this.isVertical?"bottom":"left",this.eventProperty=this.isVertical?"pageY":"pageX",this.sizeProperty=this.isVertical?"height":"width",this.sizeMethod=this.isVertical?"innerHeight":"innerWidth",this.fakeElement.css("touchAction",this.isVertical?"pan-x":"pan-y"),this.isVertical&&this.fakeElement.addClass(this.options.verticalClass),this.minValue=parseFloat(this.realElement.attr("min")),this.maxValue=parseFloat(this.realElement.attr("max")),this.stepValue=parseFloat(this.realElement.attr("step"))||1,this.minValue=isNaN(this.minValue)?0:this.minValue,this.maxValue=isNaN(this.maxValue)?100:this.maxValue,1!==this.stepValue&&(this.maxValue-=(this.maxValue-this.minValue)%this.stepValue),this.stepsCount=(this.maxValue-this.minValue)/this.stepValue,this.createDataList()},attachEvents:function(){this.realElement.on({focus:this.onFocus}),this.trackHolder.on("jcf-pointerdown",this.onTrackPress),this.handles.on("jcf-pointerdown",this.onHandlePress)},createDataList:function(){var t=this,i=[],n=this.realElement.attr("list");n&&(e("#"+n).find("option").each(function(){var n,s=parseFloat(this.value||this.innerHTML);isNaN(s)||(n=t.valueToOffset(s),i.push({value:s,offset:n}),e(t.options.dataListMark).text(s).attr({"data-mark-value":s}).css(t.offsetProperty,n+"%").appendTo(t.track))}),i.length&&(t.dataValues=i))},getDragHandleRange:function(e){var t=-1/0,i=1/0;return e>0&&(t=this.valueToStepIndex(parseFloat(this.values[e-1])+this.options.minRange)),e<this.handleCount-1&&(i=this.valueToStepIndex(parseFloat(this.values[e+1])-this.options.minRange)),{minStepIndex:t,maxStepIndex:i}},getNearestHandle:function(t){this.isVertical&&(t=1-t);var i=this.handles.eq(0),n=1/0,s=this;return this.handleCount>1&&this.handles.each(function(){var o=parseFloat(this.style[s.offsetProperty])/100,a=Math.abs(o-t);a<n&&(n=a,i=e(this))}),i},onTrackPress:function(e){var t,i,n;e.preventDefault(),this.realElement.is(":disabled")||this.activeDragHandle||(t=this.track[this.sizeMethod](),i=this.track.offset()[this.directionProperty],this.activeDragHandle=this.getNearestHandle((e[this.eventProperty]-i)/this.trackHolder[this.sizeMethod]()),this.activeDragHandleIndex=this.handles.index(this.activeDragHandle),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass),n=this.activeDragHandle[this.sizeMethod]()/2,this.dragData={trackSize:t,innerOffset:n,trackOffset:i,min:i,max:i+t},this.page.on({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),"mouse"===e.pointerType&&this.realElement.focus(),this.onHandleMove(e))},onHandlePress:function(t){var i,n,s;t.preventDefault(),this.realElement.is(":disabled")||this.activeDragHandle||(this.activeDragHandle=e(t.currentTarget),this.activeDragHandleIndex=this.handles.index(this.activeDragHandle),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass),i=this.track[this.sizeMethod](),n=this.track.offset()[this.directionProperty],s=this.options.dragHandleCenter?this.activeDragHandle[this.sizeMethod]()/2:t[this.eventProperty]-this.handle.offset()[this.directionProperty],this.dragData={trackSize:i,innerOffset:s,trackOffset:n,min:n,max:n+i},this.page.on({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),"mouse"===t.pointerType&&this.realElement.focus())},onHandleMove:function(t){var i,n,s,o,a,r=this;if((i=this.isVertical?this.dragData.max+(this.dragData.min-t[this.eventProperty])-this.dragData.innerOffset:t[this.eventProperty]-this.dragData.innerOffset)<this.dragData.min?i=this.dragData.min:i>this.dragData.max&&(i=this.dragData.max),t.preventDefault(),this.options.snapToMarks&&this.dataValues){var l=i-this.dragData.trackOffset;n=(i-this.dragData.trackOffset)/this.dragData.trackSize*100,e.each(this.dataValues,function(e,t){var i=t.offset/100*r.dragData.trackSize,s=i-r.options.snapRadius,o=i+r.options.snapRadius;if(l>=s&&l<=o)return n=t.offset,!1})}else n=(i-this.dragData.trackOffset)/this.dragData.trackSize*100;s=Math.round(n*this.stepsCount/100),this.handleCount>1&&(s<(a=this.getDragHandleRange(this.activeDragHandleIndex)).minStepIndex?s=Math.max(a.minStepIndex,s):s>a.maxStepIndex&&(s=Math.min(a.maxStepIndex,s))),o=s*(100/this.stepsCount),this.dragData.stepIndex!==s&&(this.dragData.stepIndex=s,this.dragData.offset=o,this.activeDragHandle.css(this.offsetProperty,this.dragData.offset+"%"),this.values[this.activeDragHandleIndex]=""+this.stepIndexToValue(s),this.updateValues(),this.realElement.trigger("input"))},onHandleRelease:function(){var e;"number"==typeof this.dragData.offset&&(e=this.stepIndexToValue(this.dragData.stepIndex),this.realElement.val(e).trigger("change")),this.page.off({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),delete this.activeDragHandle,delete this.dragData},onFocus:function(){this.fakeElement.hasClass(this.options.focusClass)||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on({blur:this.onBlur,keydown:this.onKeyPress}))},onBlur:function(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off({blur:this.onBlur,keydown:this.onKeyPress})},onKeyPress:function(e){var t=38===e.which||39===e.which,i=37===e.which||40===e.which;if(9===e.which&&this.handleCount>1){if(e.shiftKey&&this.activeDragHandleIndex>0)this.activeDragHandleIndex--;else{if(e.shiftKey||!(this.activeDragHandleIndex<this.handleCount-1))return;this.activeDragHandleIndex++}e.preventDefault(),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass)}(i||t)&&(e.preventDefault(),this.step(t?this.stepValue:-this.stepValue))},updateValues:function(){var e=this.values.join(",");this.values.length>1?(this.realElement.prop("valueLow",this.values[0]),this.realElement.prop("valueHigh",this.values[this.values.length-1]),this.realElement.val(e),this.realElement.val()!==e&&this.realElement.val(this.values[this.values.length-1])):this.realElement.val(e),this.updateRanges()},updateRanges:function(){var e,t=this;this.rangeMin&&(e=this.handles[0],this.rangeMin.css(this.offsetProperty,0).css(this.sizeProperty,e.style[this.offsetProperty])),this.rangeMax&&(e=this.handles[this.handles.length-1],this.rangeMax.css(this.offsetProperty,e.style[this.offsetProperty]).css(this.sizeProperty,100-parseFloat(e.style[this.offsetProperty])+"%")),this.rangeMid&&this.handles.each(function(e,i){var n,s;e>0&&(n=t.handles[e-1],(s=t.rangeMid[e-1]).style[t.offsetProperty]=n.style[t.offsetProperty],s.style[t.sizeProperty]=parseFloat(i.style[t.offsetProperty])-parseFloat(n.style[t.offsetProperty])+"%")})},step:function(e){var t=parseFloat(this.values[this.activeDragHandleIndex||0]),i=t,n=this.minValue,s=this.maxValue;isNaN(t)&&(i=0),i+=e,this.handleCount>1&&(this.activeDragHandleIndex>0&&(n=parseFloat(this.values[this.activeDragHandleIndex-1])+this.options.minRange),this.activeDragHandleIndex<this.handleCount-1&&(s=parseFloat(this.values[this.activeDragHandleIndex+1])-this.options.minRange)),i>s?i=s:i<n&&(i=n),i!==t&&(this.values[this.activeDragHandleIndex||0]=""+i,this.updateValues(),this.realElement.trigger("input").trigger("change"),this.setSliderValue(this.values))},valueToStepIndex:function(e){return(e-this.minValue)/this.stepValue},stepIndexToValue:function(e){return this.minValue+this.stepValue*e},valueToOffset:function(e){var t=this.maxValue-this.minValue;return 100*((e-this.minValue)/t)},getSliderValue:function(){return e.map(this.values,function(e){return parseFloat(e)||0})},setSliderValue:function(e){var t=this;this.handles.each(function(i,n){n.style[t.offsetProperty]=t.valueToOffset(e[i])+"%"})},refresh:function(){var e=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.disabledClass,e),this.setSliderValue(this.getSliderValue()),this.updateRanges()},destroy:function(){this.realElement.removeClass(this.options.hiddenClass).insertBefore(this.fakeElement),this.fakeElement.remove(),this.realElement.off({keydown:this.onKeyPress,focus:this.onFocus,blur:this.onBlur})}}})}(jcf),function(e){e.addModule(function(e,t){"use strict";function i(t){this.options=e.extend({holder:null,vertical:!0,inactiveClass:"jcf-inactive",verticalClass:"jcf-scrollbar-vertical",horizontalClass:"jcf-scrollbar-horizontal",scrollbarStructure:'<div class="jcf-scrollbar"><div class="jcf-scrollbar-dec"></div><div class="jcf-scrollbar-slider"><div class="jcf-scrollbar-handle"></div></div><div class="jcf-scrollbar-inc"></div></div>',btnDecSelector:".jcf-scrollbar-dec",btnIncSelector:".jcf-scrollbar-inc",sliderSelector:".jcf-scrollbar-slider",handleSelector:".jcf-scrollbar-handle",scrollInterval:300,scrollStep:400},t),this.init()}var n={name:"Scrollable",selector:".jcf-scrollable",plugins:{ScrollBar:i},options:{mouseWheelStep:150,handleResize:!0,alwaysShowScrollbars:!1,alwaysPreventMouseWheel:!1,scrollAreaStructure:'<div class="jcf-scrollable-wrapper"></div>'},matchElement:function(e){return e.is(".jcf-scrollable")},init:function(){this.initStructure(),this.attachEvents(),this.rebuildScrollbars()},initStructure:function(){this.doc=e(document),this.win=e(t),this.realElement=e(this.options.element),this.scrollWrapper=e(this.options.scrollAreaStructure).insertAfter(this.realElement),this.scrollWrapper.css("position","relative"),this.realElement.css("overflow","hidden"),this.vBarEdge=0},attachEvents:function(){var e=this;this.vBar=new i({holder:this.scrollWrapper,vertical:!0,onScroll:function(t){e.realElement.scrollTop(t)}}),this.hBar=new i({holder:this.scrollWrapper,vertical:!1,onScroll:function(t){e.realElement.scrollLeft(t)}}),this.realElement.on("scroll",this.onScroll),this.options.handleResize&&this.win.on("resize orientationchange load",this.onResize),this.realElement.on("jcf-mousewheel",this.onMouseWheel),this.realElement.on("jcf-pointerdown",this.onTouchBody)},onScroll:function(){this.redrawScrollbars()},onResize:function(){e(document.activeElement).is(":input")||this.rebuildScrollbars()},onTouchBody:function(e){"touch"===e.pointerType&&(this.touchData={scrollTop:this.realElement.scrollTop(),scrollLeft:this.realElement.scrollLeft(),left:e.pageX,top:e.pageY},this.doc.on({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}))},onMoveBody:function(e){var t,i,n=this.verticalScrollActive,s=this.horizontalScrollActive;"touch"===e.pointerType&&(t=this.touchData.scrollTop-e.pageY+this.touchData.top,i=this.touchData.scrollLeft-e.pageX+this.touchData.left,this.verticalScrollActive&&(t<0||t>this.vBar.maxValue)&&(n=!1),this.horizontalScrollActive&&(i<0||i>this.hBar.maxValue)&&(s=!1),this.realElement.scrollTop(t),this.realElement.scrollLeft(i),n||s?e.preventDefault():this.onReleaseBody(e))},onReleaseBody:function(e){"touch"===e.pointerType&&(delete this.touchData,this.doc.off({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}))},onMouseWheel:function(e){var t,i,n,s=this.realElement.scrollTop(),o=this.realElement.scrollLeft(),a=this.realElement.prop("scrollHeight")-this.embeddedDimensions.innerHeight,r=this.realElement.prop("scrollWidth")-this.embeddedDimensions.innerWidth;(this.options.alwaysPreventMouseWheel||(this.verticalScrollActive&&e.deltaY&&(s<=0&&e.deltaY<0||s>=a&&e.deltaY>0||(n=!0)),this.horizontalScrollActive&&e.deltaX&&(o<=0&&e.deltaX<0||o>=r&&e.deltaX>0||(n=!0)),this.verticalScrollActive||this.horizontalScrollActive))&&(n||this.options.alwaysPreventMouseWheel)&&(e.preventDefault(),t=e.deltaX/100*this.options.mouseWheelStep,i=e.deltaY/100*this.options.mouseWheelStep,this.realElement.scrollTop(s+i),this.realElement.scrollLeft(o+t))},setScrollBarEdge:function(e){this.vBarEdge=e||0,this.redrawScrollbars()},saveElementDimensions:function(){return this.savedDimensions={top:this.realElement.width(),left:this.realElement.height()},this},restoreElementDimensions:function(){return this.savedDimensions&&this.realElement.css({width:this.savedDimensions.width,height:this.savedDimensions.height}),this},saveScrollOffsets:function(){return this.savedOffsets={top:this.realElement.scrollTop(),left:this.realElement.scrollLeft()},this},restoreScrollOffsets:function(){return this.savedOffsets&&(this.realElement.scrollTop(this.savedOffsets.top),this.realElement.scrollLeft(this.savedOffsets.left)),this},getContainerDimensions:function(){var e,t,i,n;return this.isModifiedStyles?e={width:this.realElement.innerWidth()+this.vBar.getThickness(),height:this.realElement.innerHeight()+this.hBar.getThickness()}:(this.saveElementDimensions().saveScrollOffsets(),this.realElement.insertAfter(this.scrollWrapper),this.scrollWrapper.detach(),t=this.realElement.prop("style"),n=parseFloat(t.width),i=parseFloat(t.height),this.embeddedDimensions&&n&&i&&(this.isModifiedStyles|=n!==this.embeddedDimensions.width||i!==this.embeddedDimensions.height,this.realElement.css({overflow:"",width:"",height:""})),e={width:this.realElement.outerWidth(),height:this.realElement.outerHeight()},this.scrollWrapper.insertAfter(this.realElement),this.realElement.css("overflow","hidden").prependTo(this.scrollWrapper),this.restoreElementDimensions().restoreScrollOffsets()),e},getEmbeddedDimensions:function(t){var i,n=this.vBar.getThickness(),s=this.hBar.getThickness(),o=this.realElement.outerWidth()-this.realElement.width(),a=this.realElement.outerHeight()-this.realElement.height();return this.options.alwaysShowScrollbars?(this.verticalScrollActive=!0,this.horizontalScrollActive=!0,i={innerWidth:t.width-n,innerHeight:t.height-s}):(this.saveElementDimensions(),this.verticalScrollActive=!1,this.horizontalScrollActive=!1,this.realElement.css({width:t.width-o,height:t.height-a}),this.horizontalScrollActive=this.realElement.prop("scrollWidth")>this.containerDimensions.width,this.verticalScrollActive=this.realElement.prop("scrollHeight")>this.containerDimensions.height,this.restoreElementDimensions(),i={innerWidth:t.width-(this.verticalScrollActive?n:0),innerHeight:t.height-(this.horizontalScrollActive?s:0)}),e.extend(i,{width:i.innerWidth-o,height:i.innerHeight-a}),i},rebuildScrollbars:function(){this.containerDimensions=this.getContainerDimensions(),this.embeddedDimensions=this.getEmbeddedDimensions(this.containerDimensions),this.scrollWrapper.css({width:this.containerDimensions.width,height:this.containerDimensions.height}),this.realElement.css({overflow:"hidden",width:this.embeddedDimensions.width,height:this.embeddedDimensions.height}),this.redrawScrollbars()},redrawScrollbars:function(){var e,t;this.verticalScrollActive?(e=this.vBarEdge?this.containerDimensions.height-this.vBarEdge:this.embeddedDimensions.innerHeight,t=Math.max(this.realElement.prop("offsetHeight"),this.realElement.prop("scrollHeight"))-this.vBarEdge,this.vBar.show().setMaxValue(t-e).setRatio(e/t).setSize(e),this.vBar.setValue(this.realElement.scrollTop())):this.vBar.hide(),this.horizontalScrollActive?(e=this.embeddedDimensions.innerWidth,(t=this.realElement.prop("scrollWidth"))===e&&(this.horizontalScrollActive=!1),this.hBar.show().setMaxValue(t-e).setRatio(e/t).setSize(e),this.hBar.setValue(this.realElement.scrollLeft())):this.hBar.hide();var i="";this.verticalScrollActive&&this.horizontalScrollActive?i="none":this.verticalScrollActive?i="pan-x":this.horizontalScrollActive&&(i="pan-y"),this.realElement.css("touchAction",i)},refresh:function(){this.rebuildScrollbars()},destroy:function(){this.win.off("resize orientationchange load",this.onResize),this.realElement.off({"jcf-mousewheel":this.onMouseWheel,"jcf-pointerdown":this.onTouchBody}),this.doc.off({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}),this.saveScrollOffsets(),this.vBar.destroy(),this.hBar.destroy(),this.realElement.insertAfter(this.scrollWrapper).css({touchAction:"",overflow:"",width:"",height:""}),this.scrollWrapper.remove(),this.restoreScrollOffsets()}};return e.extend(i.prototype,{init:function(){this.initStructure(),this.attachEvents()},initStructure:function(){this.doc=e(document),this.isVertical=!!this.options.vertical,this.sizeProperty=this.isVertical?"height":"width",this.fullSizeProperty=this.isVertical?"outerHeight":"outerWidth",this.invertedSizeProperty=this.isVertical?"width":"height",this.thicknessMeasureMethod="outer"+this.invertedSizeProperty.charAt(0).toUpperCase()+this.invertedSizeProperty.substr(1),this.offsetProperty=this.isVertical?"top":"left",this.offsetEventProperty=this.isVertical?"pageY":"pageX",this.value=this.options.value||0,this.maxValue=this.options.maxValue||0,this.currentSliderSize=0,this.handleSize=0,this.holder=e(this.options.holder),this.scrollbar=e(this.options.scrollbarStructure).appendTo(this.holder),this.btnDec=this.scrollbar.find(this.options.btnDecSelector),this.btnInc=this.scrollbar.find(this.options.btnIncSelector),this.slider=this.scrollbar.find(this.options.sliderSelector),this.handle=this.slider.find(this.options.handleSelector),this.scrollbar.addClass(this.isVertical?this.options.verticalClass:this.options.horizontalClass).css({touchAction:this.isVertical?"pan-x":"pan-y",position:"absolute"}),this.slider.css({position:"relative"}),this.handle.css({touchAction:"none",position:"absolute"})},attachEvents:function(){this.bindHandlers(),this.handle.on("jcf-pointerdown",this.onHandlePress),this.slider.add(this.btnDec).add(this.btnInc).on("jcf-pointerdown",this.onButtonPress)},onHandlePress:function(e){"mouse"===e.pointerType&&e.button>1||(e.preventDefault(),this.handleDragActive=!0,this.sliderOffset=this.slider.offset()[this.offsetProperty],this.innerHandleOffset=e[this.offsetEventProperty]-this.handle.offset()[this.offsetProperty],this.doc.on("jcf-pointermove",this.onHandleDrag),this.doc.on("jcf-pointerup",this.onHandleRelease))},onHandleDrag:function(e){e.preventDefault(),this.calcOffset=e[this.offsetEventProperty]-this.sliderOffset-this.innerHandleOffset,this.setValue(this.calcOffset/(this.currentSliderSize-this.handleSize)*this.maxValue),this.triggerScrollEvent(this.value)},onHandleRelease:function(){this.handleDragActive=!1,this.doc.off("jcf-pointermove",this.onHandleDrag),this.doc.off("jcf-pointerup",this.onHandleRelease)},onButtonPress:function(e){var t,i;"mouse"===e.pointerType&&e.button>1||(e.preventDefault(),this.handleDragActive||(this.slider.is(e.currentTarget)?(t=this.handle.offset()[this.offsetProperty]>e[this.offsetEventProperty]?-1:1,i=e[this.offsetEventProperty]-this.slider.offset()[this.offsetProperty],this.startPageScrolling(t,i)):(t=this.btnDec.is(e.currentTarget)?-1:1,this.startSmoothScrolling(t)),this.doc.on("jcf-pointerup",this.onButtonRelease)))},onButtonRelease:function(){this.stopPageScrolling(),this.stopSmoothScrolling(),this.doc.off("jcf-pointerup",this.onButtonRelease)},startPageScrolling:function(e,t){var i=this,n=e*i.currentSize,s=function(){var n=i.value/i.maxValue*(i.currentSliderSize-i.handleSize);return e>0?n+i.handleSize>=t:n<=t},o=function(){i.value+=n,i.setValue(i.value),i.triggerScrollEvent(i.value),s()&&clearInterval(i.pageScrollTimer)};this.pageScrollTimer=setInterval(o,this.options.scrollInterval),o()},stopPageScrolling:function(){clearInterval(this.pageScrollTimer)},startSmoothScrolling:function(e){var i,n=this;this.stopSmoothScrolling();var s=t.requestAnimationFrame||function(e){setTimeout(e,16)},o=function(){return Date.now?Date.now():(new Date).getTime()},a=function(){return e>0?n.value>=n.maxValue:n.value<=0},r=function(){var t=(o()-i)/1e3*n.options.scrollStep;n.smoothScrollActive&&(n.value+=t*e,n.setValue(n.value),n.triggerScrollEvent(n.value),a()||(i=o(),s(r)))};n.smoothScrollActive=!0,i=o(),s(r)},stopSmoothScrolling:function(){this.smoothScrollActive=!1},triggerScrollEvent:function(e){this.options.onScroll&&this.options.onScroll(e)},getThickness:function(){return this.scrollbar[this.thicknessMeasureMethod]()},setSize:function(e){var t=this.btnDec[this.fullSizeProperty](),i=this.btnInc[this.fullSizeProperty]();return this.currentSize=e,this.currentSliderSize=e-t-i,this.scrollbar.css(this.sizeProperty,e),this.slider.css(this.sizeProperty,this.currentSliderSize),this.currentSliderSize=this.slider[this.sizeProperty](),this.handleSize=Math.round(this.currentSliderSize*this.ratio),this.handle.css(this.sizeProperty,this.handleSize),this.handleSize=this.handle[this.fullSizeProperty](),this},setRatio:function(e){return this.ratio=e,this},setMaxValue:function(e){return this.maxValue=e,this.setValue(Math.min(this.value,this.maxValue)),this},setValue:function(e){this.value=e,this.value<0?this.value=0:this.value>this.maxValue&&(this.value=this.maxValue),this.refresh()},setPosition:function(e){return this.scrollbar.css(e),this},hide:function(){return this.scrollbar.detach(),this},show:function(){return this.scrollbar.appendTo(this.holder),this},refresh:function(){0===this.value||0===this.maxValue?this.calcOffset=0:this.calcOffset=this.value/this.maxValue*(this.currentSliderSize-this.handleSize),this.handle.css(this.offsetProperty,this.calcOffset),this.btnDec.toggleClass(this.options.inactiveClass,0===this.value),this.btnInc.toggleClass(this.options.inactiveClass,this.value===this.maxValue),this.scrollbar.toggleClass(this.options.inactiveClass,0===this.maxValue)},destroy:function(){this.btnDec.add(this.btnInc).off("jcf-pointerdown",this.onButtonPress),this.handle.off("jcf-pointerdown",this.onHandlePress),this.doc.off("jcf-pointermove",this.onHandleDrag),this.doc.off("jcf-pointerup",this.onHandleRelease),this.doc.off("jcf-pointerup",this.onButtonRelease),this.stopSmoothScrolling(),this.stopPageScrolling(),this.scrollbar.remove()}}),n})}(jcf),function(e){e.addModule(function(t){"use strict";return{name:"Textarea",selector:"textarea",options:{resize:!0,resizerStructure:'<span class="jcf-resize"></span>',fakeStructure:'<span class="jcf-textarea"></span>'},matchElement:function(e){return e.is("textarea")},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=t(document),this.realElement=t(this.options.element),this.fakeElement=t(this.options.fakeStructure).insertAfter(this.realElement),this.resizer=t(this.options.resizerStructure).appendTo(this.fakeElement),e.modules.Scrollable&&(this.realElement.prependTo(this.fakeElement).addClass().css({overflow:"hidden",resize:"none"}),this.scrollable=new e.modules.Scrollable({element:this.realElement,alwaysShowScrollbars:!0}),this.scrollable.setScrollBarEdge(this.resizer.outerHeight()))},attachEvents:function(){this.realElement.on({focus:this.onFocus,keyup:this.onChange,change:this.onChange}),this.resizer.on("jcf-pointerdown",this.onResizePress)},onResizePress:function(e){var t=this.resizer.offset(),i=this.fakeElement.offset();e.preventDefault(),this.dragData={areaOffset:i,innerOffsetLeft:e.pageX-t.left,innerOffsetTop:e.pageY-t.top},this.doc.on({"jcf-pointermove":this.onResizeMove,"jcf-pointerup":this.onResizeRelease}),this.isFocused&&(this.focusedDrag=!0,this.realElement.focus())},onResizeMove:function(e){var t=e.pageX+this.dragData.innerOffsetLeft-this.dragData.areaOffset.left,i=e.pageY+this.dragData.innerOffsetTop-this.dragData.areaOffset.top,n=this.fakeElement.innerWidth()-this.realElement.innerWidth();e.preventDefault(),this.realElement.innerWidth(t-n).innerHeight(i),this.scrollable&&this.scrollable.rebuildScrollbars(),this.focusedDrag&&this.realElement.focus()},onResizeRelease:function(){this.doc.off({"jcf-pointermove":this.onResizeMove,"jcf-pointerup":this.onResizeRelease}),delete this.focusedDrag},onFocus:function(){this.isFocused=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur)},onBlur:function(){this.isFocused=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur)},onChange:function(){this.refreshCustomScrollbars()},refreshCustomScrollbars:function(){this.scrollable&&(this.isFocused?this.scrollable.redrawScrollbars():this.scrollable.rebuildScrollbars())},refresh:function(){var e=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.disabledClass,e),this.refreshCustomScrollbars()},destroy:function(){this.scrollable.destroy(),this.realElement.css({overflow:"",resize:""}).insertBefore(this.fakeElement).off({focus:this.onFocus,blur:this.onBlur}),this.fakeElement.remove()}}})}(jcf),$(document).ready(function(){jcf.setOptions("Select",{wrapNative:!1,wrapNativeOnMobile:!1,maxVisibleItems:5,multipleCompactStyle:!0}),$(".jcf").not(".Taxonomy__select,.primary__subject").each(function(){jcf.replace($(this))}),jcf.setOptions("Select",{maxVisibleItems:12}),jcf.replace(".Taxonomy__select"),jcf.setOptions("Select",{maxVisibleItems:10}),jcf.replace(".primary__subject")}),function(e,t){t(e,e.jQuery)}(window,function(e,t){"use strict";function i(e,t){for(var i=e.length;--i;)if(Math.round(+e[i])!==Math.round(+t[i]))return!1;return!0}function n(e){var i={range:!0,animate:!0};return"boolean"==typeof e?i.animate=e:t.extend(i,e),i}function s(e,i,n,s,o,a,r,l,c){"array"===t.type(e)?this.elements=[+e[0],+e[2],+e[4],+e[1],+e[3],+e[5],0,0,1]:this.elements=[e,i,n,s,o,a,r||0,l||0,c||1]}function o(e,t,i){this.elements=[e,t,i]}function a(e,i){if(!(this instanceof a))return new a(e,i);1!==e.nodeType&&t.error("Panzoom called on non-Element node"),t.contains(r,e)||t.error("Panzoom element must be attached to the document");var n=t.data(e,l);if(n)return n;this.options=i=t.extend({},a.defaults,i),this.elem=e;var s=this.$elem=t(e);this.$set=i.$set&&i.$set.length?i.$set:s,this.$doc=t(e.ownerDocument||r),this.$parent=s.parent(),this.parent=this.$parent[0],this.isSVG=p.test(e.namespaceURI)&&"svg"!==e.nodeName.toLowerCase(),this.panning=!1,this._buildTransform(),this._transform=t.cssProps.transform.replace(u,"-$1").toLowerCase(),this._buildTransition(),this.resetDimensions();var o=t(),c=this;t.each(["$zoomIn","$zoomOut","$zoomRange","$reset"],function(e,t){c[t]=i[t]||o}),this.enable(),this.scale=this.getMatrix()[0],this._checkPanWhenZoomed(),t.data(e,l,this)}var r=e.document,l="__pz__",c=Array.prototype.slice,d=/trident\/7./i,h=function(){if(d.test(navigator.userAgent))return!1;var e=r.createElement("input");return e.setAttribute("oninput","return"),"function"==typeof e.oninput}(),u=/([A-Z])/g,p=/^http:[\w\.\/]+svg$/,f="(\\-?\\d[\\d\\.e-]*)",m=new RegExp("^matrix\\("+f+"\\,?\\s*"+f+"\\,?\\s*"+f+"\\,?\\s*"+f+"\\,?\\s*"+f+"\\,?\\s*"+f+"\\)$");return s.prototype={x:function(e){var t=e instanceof o,i=this.elements,n=e.elements;return t&&3===n.length?new o(i[0]*n[0]+i[1]*n[1]+i[2]*n[2],i[3]*n[0]+i[4]*n[1]+i[5]*n[2],i[6]*n[0]+i[7]*n[1]+i[8]*n[2]):n.length===i.length&&new s(i[0]*n[0]+i[1]*n[3]+i[2]*n[6],i[0]*n[1]+i[1]*n[4]+i[2]*n[7],i[0]*n[2]+i[1]*n[5]+i[2]*n[8],i[3]*n[0]+i[4]*n[3]+i[5]*n[6],i[3]*n[1]+i[4]*n[4]+i[5]*n[7],i[3]*n[2]+i[4]*n[5]+i[5]*n[8],i[6]*n[0]+i[7]*n[3]+i[8]*n[6],i[6]*n[1]+i[7]*n[4]+i[8]*n[7],i[6]*n[2]+i[7]*n[5]+i[8]*n[8])},inverse:function(){var e=1/this.determinant(),t=this.elements;return new s(e*(t[8]*t[4]-t[7]*t[5]),e*-(t[8]*t[1]-t[7]*t[2]),e*(t[5]*t[1]-t[4]*t[2]),e*-(t[8]*t[3]-t[6]*t[5]),e*(t[8]*t[0]-t[6]*t[2]),e*-(t[5]*t[0]-t[3]*t[2]),e*(t[7]*t[3]-t[6]*t[4]),e*-(t[7]*t[0]-t[6]*t[1]),e*(t[4]*t[0]-t[3]*t[1]))},determinant:function(){var e=this.elements;return e[0]*(e[8]*e[4]-e[7]*e[5])-e[3]*(e[8]*e[1]-e[7]*e[2])+e[6]*(e[5]*e[1]-e[4]*e[2])}},o.prototype.e=s.prototype.e=function(e){return this.elements[e]},a.rmatrix=m,a.defaults={eventNamespace:".panzoom",transition:!0,cursor:"move",disablePan:!1,disableZoom:!1,disableXAxis:!1,disableYAxis:!1,which:1,increment:.3,exponential:!0,panOnlyWhenZoomed:!1,minScale:.3,maxScale:6,rangeStep:.05,duration:200,easing:"ease-in-out",contain:!1},a.prototype={constructor:a,instance:function(){return this},enable:function(){this._initStyle(),this._bind(),this.disabled=!1},disable:function(){this.disabled=!0,this._resetStyle(),this._unbind()},isDisabled:function(){return this.disabled},destroy:function(){this.disable(),t.removeData(this.elem,l)},resetDimensions:function(){this.container=this.parent.getBoundingClientRect();var e=this.elem,i=e.getBoundingClientRect(),n=Math.abs(this.scale);this.dimensions={width:i.width,height:i.height,left:t.css(e,"left",!0)||0,top:t.css(e,"top",!0)||0,border:{top:t.css(e,"borderTopWidth",!0)*n||0,bottom:t.css(e,"borderBottomWidth",!0)*n||0,left:t.css(e,"borderLeftWidth",!0)*n||0,right:t.css(e,"borderRightWidth",!0)*n||0},margin:{top:t.css(e,"marginTop",!0)*n||0,left:t.css(e,"marginLeft",!0)*n||0}}},reset:function(e){e=n(e);var t=this.setMatrix(this._origTransform,e);e.silent||this._trigger("reset",t)},resetZoom:function(e){e=n(e);var t=this.getMatrix(this._origTransform);e.dValue=t[3],this.zoom(t[0],e)},resetPan:function(e){var t=this.getMatrix(this._origTransform);this.pan(t[4],t[5],n(e))},setTransform:function(e){for(var i=this.$set,n=i.length;n--;)t.style(i[n],"transform",e),this.isSVG&&i[n].setAttribute("transform",e)},getTransform:function(e){var i=this.$set[0];return e?this.setTransform(e):(e=t.style(i,"transform"),!this.isSVG||e&&"none"!==e||(e=t.attr(i,"transform")||"none")),"none"===e||m.test(e)||this.setTransform(e=t.css(i,"transform")),e||"none"},getMatrix:function(e){var t=m.exec(e||this.getTransform());return t&&t.shift(),t||[1,0,0,1,0,0]},setMatrix:function(e,i){if(!this.disabled){i||(i={}),"string"==typeof e&&(e=this.getMatrix(e));var n=+e[0],s=void 0!==i.contain?i.contain:this.options.contain;if(s){var o=i.dims;o||(this.resetDimensions(),o=this.dimensions);var a,r,l,c=this.container,d=o.width,h=o.height,u=c.width,p=c.height,f=u/d,m=p/h;"center"!==this.$parent.css("textAlign")||"inline"!==t.css(this.elem,"display")?(a=(l=(d-this.elem.offsetWidth)/2)-o.border.left,r=d-u-l+o.border.right):a=r=(d-u)/2;var g=(h-p)/2+o.border.top,v=(h-p)/2-o.border.top-o.border.bottom;e[4]="invert"===s||"automatic"===s&&f<1.01?Math.max(Math.min(e[4],a-o.border.left),-r):Math.min(Math.max(e[4],a),-r),e[5]="invert"===s||"automatic"===s&&m<1.01?Math.max(Math.min(e[5],g-o.border.top),-v):Math.min(Math.max(e[5],g),-v)}if("skip"!==i.animate&&this.transition(!i.animate),i.range&&this.$zoomRange.val(n),this.options.disableXAxis||this.options.disableYAxis){var $=this.getMatrix();this.options.disableXAxis&&(e[4]=$[4]),this.options.disableYAxis&&(e[5]=$[5])}return this.setTransform("matrix("+e.join(",")+")"),this.scale=n,this._checkPanWhenZoomed(n),i.silent||this._trigger("change",e),e}},isPanning:function(){return this.panning},transition:function(e){if(this._transition)for(var i=e||!this.options.transition?"none":this._transition,n=this.$set,s=n.length;s--;)t.style(n[s],"transition")!==i&&t.style(n[s],"transition",i)},pan:function(e,t,i){if(!this.options.disablePan){i||(i={});var n=i.matrix;n||(n=this.getMatrix()),i.relative&&(e+=+n[4],t+=+n[5]),n[4]=e,n[5]=t,this.setMatrix(n,i),i.silent||this._trigger("pan",n[4],n[5])}},zoom:function(e,i){"object"==typeof e?(i=e,e=null):i||(i={});var n=t.extend({},this.options,i);if(!n.disableZoom){var a=!1,r=n.matrix||this.getMatrix(),l=+r[0];"number"!=typeof e&&(e=n.exponential&&l-n.increment>=1?Math[e?"sqrt":"pow"](l,2):l+n.increment*(e?-1:1),a=!0),e>n.maxScale?e=n.maxScale:e<n.minScale&&(e=n.minScale);var c=n.focal;if(c&&!n.disablePan){this.resetDimensions();var d=n.dims=this.dimensions,h=c.clientX,u=c.clientY;this.isSVG||(h-=d.width/l/2,u-=d.height/l/2);var p=new o(h,u,1),f=new s(r),m=this.parentOffset||this.$parent.offset(),g=new s(1,0,m.left-this.$doc.scrollLeft(),0,1,m.top-this.$doc.scrollTop()),v=f.inverse().x(g.inverse().x(p)),$=e/r[0];f=f.x(new s([$,0,0,$,0,0])),p=g.x(f.x(v)),r[4]=+r[4]+(h-p.e(0)),r[5]=+r[5]+(u-p.e(1))}r[0]=e,r[3]="number"==typeof n.dValue?n.dValue:e,this.setMatrix(r,{animate:void 0!==n.animate?n.animate:a,range:!n.noSetRange}),n.silent||this._trigger("zoom",r[0],n)}},option:function(e,i){var n;if(!e)return t.extend({},this.options);if("string"==typeof e){if(1===arguments.length)return void 0!==this.options[e]?this.options[e]:null;(n={})[e]=i}else n=e;this._setOptions(n)},_setOptions:function(e){t.each(e,t.proxy(function(e,i){switch(e){case"disablePan":this._resetStyle();case"$zoomIn":case"$zoomOut":case"$zoomRange":case"$reset":case"disableZoom":case"onStart":case"onChange":case"onZoom":case"onPan":case"onEnd":case"onReset":case"eventNamespace":this._unbind()}switch(this.options[e]=i,e){case"disablePan":this._initStyle();case"$zoomIn":case"$zoomOut":case"$zoomRange":case"$reset":this[e]=i;case"disableZoom":case"onStart":case"onChange":case"onZoom":case"onPan":case"onEnd":case"onReset":case"eventNamespace":this._bind();break;case"cursor":t.style(this.elem,"cursor",i);break;case"minScale":this.$zoomRange.attr("min",i);break;case"maxScale":this.$zoomRange.attr("max",i);break;case"rangeStep":this.$zoomRange.attr("step",i);break;case"startTransform":this._buildTransform();break;case"duration":case"easing":this._buildTransition();case"transition":this.transition();break;case"panOnlyWhenZoomed":this._checkPanWhenZoomed();break;case"$set":i instanceof t&&i.length&&(this.$set=i,this._initStyle(),this._buildTransform())}},this))},_checkPanWhenZoomed:function(e){var t=this.options;if(t.panOnlyWhenZoomed){e||(e=this.getMatrix()[0]);var i=e<=t.minScale;t.disablePan!==i&&this.option("disablePan",i)}},_initStyle:function(){var e={"transform-origin":this.isSVG?"0 0":"50% 50%"};this.options.disablePan||(e.cursor=this.options.cursor),this.$set.css(e);var i=this.$parent;i.length&&!t.nodeName(this.parent,"body")&&(e={overflow:"hidden"},"static"===i.css("position")&&(e.position="relative"),i.css(e))},_resetStyle:function(){this.$elem.css({cursor:"",transition:""}),this.$parent.css({overflow:"",position:""})},_bind:function(){var e=this,i=this.options,n=i.eventNamespace,s="mousedown"+n+" pointerdown"+n+" MSPointerDown"+n,o="touchstart"+n+" "+s,r="touchend"+n+" click"+n+" pointerup"+n+" MSPointerUp"+n,l={},c=this.$reset,d=this.$zoomRange;if(t.each(["Start","Change","Zoom","Pan","End","Reset"],function(){var e=i["on"+this];t.isFunction(e)&&(l["panzoom"+this.toLowerCase()+n]=e)}),i.disablePan&&i.disableZoom||(l[o]=function(t){var n;("touchstart"===t.type?!(n=t.touches||t.originalEvent.touches)||(1!==n.length||i.disablePan)&&2!==n.length:i.disablePan||(t.which||t.originalEvent.which)!==i.which)||(t.preventDefault(),t.stopPropagation(),e._startMove(t,n))},3===i.which&&(l.contextmenu=!1)),this.$elem.on(l),c.length&&c.on(r,function(t){t.preventDefault(),e.reset()}),d.length&&d.attr({step:i.rangeStep===a.defaults.rangeStep&&d.attr("step")||i.rangeStep,min:i.minScale,max:i.maxScale}).prop({value:this.getMatrix()[0]}),!i.disableZoom){var u=this.$zoomIn,p=this.$zoomOut;u.length&&p.length&&(u.on(r,function(t){t.preventDefault(),e.zoom()}),p.on(r,function(t){t.preventDefault(),e.zoom(!0)})),d.length&&((l={})[s]=function(){e.transition(!0)},l[(h?"input":"change")+n]=function(){e.zoom(+this.value,{noSetRange:!0})},d.on(l))}},_unbind:function(){this.$elem.add(this.$zoomIn).add(this.$zoomOut).add(this.$reset).off(this.options.eventNamespace)},_buildTransform:function(){return this._origTransform=this.getTransform(this.options.startTransform)},_buildTransition:function(){if(this._transform){var e=this.options;this._transition=this._transform+" "+e.duration+"ms "+e.easing}},_getDistance:function(e){var t=e[0],i=e[1];return Math.sqrt(Math.pow(Math.abs(i.clientX-t.clientX),2)+Math.pow(Math.abs(i.clientY-t.clientY),2))},_getMiddle:function(e){var t=e[0],i=e[1];return{clientX:(i.clientX-t.clientX)/2+t.clientX,clientY:(i.clientY-t.clientY)/2+t.clientY}},_trigger:function(e){"string"==typeof e&&(e="panzoom"+e),this.$elem.triggerHandler(e,[this].concat(c.call(arguments,1)))},_startMove:function(e,n){if(!this.panning){var s,o,a,l,c,d,h,u,p=this,f=this.options,m=f.eventNamespace,g=this.getMatrix(),v=g.slice(0),$=+v[4],b=+v[5],y={matrix:g,animate:"skip"},_=e.type;"pointerdown"===_?(s="pointermove",o="pointerup"):"touchstart"===_?(s="touchmove",o="touchend"):"MSPointerDown"===_?(s="MSPointerMove",o="MSPointerUp"):(s="mousemove",o="mouseup"),s+=m,o+=m,this.transition(!0),this.panning=!0,this._trigger("start",e,n);var w=function(e,t){if(t){if(2===t.length){if(null!=a)return;return a=p._getDistance(t),l=+g[0],void(c=p._getMiddle(t))}if(null!=d)return;(u=t[0])&&(d=u.pageX,h=u.pageY)}null==d&&(d=e.pageX,h=e.pageY)};w(e,n);t(r).off(m).on(s,function(e){var t;if(e.preventDefault(),n=e.touches||e.originalEvent.touches,w(e,n),n){if(2===n.length){var i=p._getMiddle(n),s=p._getDistance(n)-a;return p.zoom(s*(f.increment/100)+l,{focal:i,matrix:g,animate:"skip"}),p.pan(+g[4]+i.clientX-c.clientX,+g[5]+i.clientY-c.clientY,y),void(c=i)}t=n[0]||{pageX:0,pageY:0}}t||(t=e),p.pan($+t.pageX-d,b+t.pageY-h,y)}).on(o,function(e){e.preventDefault(),t(this).off(m),p.panning=!1,e.type="panzoomend",p._trigger(e,g,!i(g,v))})}}},t.Panzoom=a,t.fn.panzoom=function(e){var i,n,s,o;return"string"==typeof e?(o=[],n=c.call(arguments,1),this.each(function(){(i=t.data(this,l))?"_"!==e.charAt(0)&&"function"==typeof(s=i[e])&&void 0!==(s=s.apply(i,n))&&o.push(s):o.push(void 0)}),o.length?1===o.length?o[0]:o:this):this.each(function(){new a(this,e)})},a}),function(e){e(jQuery)}(function(e){function t(e){for(var t,i;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",i,function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,s)}function s(){e.datepicker._isDisabledDatepicker(c.inline?c.dpDiv.parent()[0]:c.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function o(t,i){e.extend(t,i);for(var n in i)null==i[n]&&(t[n]=i[n]);return t}e.ui=e.ui||{};e.ui.version="1.12.1";var a=0,r=Array.prototype.slice;e.cleanData=function(t){return function(i){var n,s,o;for(o=0;null!=(s=i[o]);o++)try{(n=e._data(s,"events"))&&n.remove&&e(s).triggerHandler("remove")}catch(e){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var s,o,a,r={},l=t.split(".")[0],c=l+"-"+(t=t.split(".")[1]);return n||(n=i,i=e.Widget),e.isArray(n)&&(n=e.extend.apply(null,[{}].concat(n))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},s=e[l][t],o=e[l][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,n){e.isFunction(n)?r[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function s(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=s,t=n.apply(this,arguments),this._super=i,this._superApply=o,t}}():r[t]=n}),o.prototype=e.widget.extend(a,{widgetEventPrefix:s?a.widgetEventPrefix||t:t},r,{constructor:o,namespace:l,widgetName:t,widgetFullName:c}),s?(e.each(s._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete s._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,n,s=r.call(arguments,1),o=0,a=s.length;o<a;o++)for(i in s[o])n=s[o][i],s[o].hasOwnProperty(i)&&void 0!==n&&(e.isPlainObject(n)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],n):e.widget.extend({},n):t[i]=n);return t},e.widget.bridge=function(t,i){var n=i.prototype.widgetFullName||t;e.fn[t]=function(s){var o="string"==typeof s,a=r.call(arguments,1),l=this;return o?this.length||"instance"!==s?this.each(function(){var i,o=e.data(this,n);return"instance"===s?(l=o,!1):o?e.isFunction(o[s])&&"_"!==s.charAt(0)?(i=o[s].apply(o,a))!==o&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:e.error("no such method '"+s+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+s+"'")}):l=void 0:(a.length&&(s=e.widget.extend.apply(null,[s].concat(a))),this.each(function(){var t=e.data(this,n);t?(t.option(s||{}),t._init&&t._init()):e.data(this,n,new i(s,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,i){t._removeClass(i,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,s,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},n=t.split("."),t=n.shift(),n.length){for(s=a[t]=e.widget.extend({},this.options[t]),o=0;o<n.length-1;o++)s[n[o]]=s[n[o]]||{},s=s[n[o]];if(t=n.pop(),1===arguments.length)return void 0===s[t]?null:s[t];s[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=i}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,n,s;for(i in t)s=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&s&&s.length&&(n=e(s.get()),this._removeClass(s,i),n.addClass(this._classes({element:n,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function i(i,o){var a,r;for(r=0;r<i.length;r++)a=s.classesElementLookup[i[r]]||e(),a=e(t.add?e.unique(a.get().concat(t.element.get())):a.not(t.element).get()),s.classesElementLookup[i[r]]=a,n.push(i[r]),o&&t.classes[i[r]]&&n.push(t.classes[i[r]])}var n=[],s=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&i(t.keys.match(/\S+/g)||[],!0),t.extra&&i(t.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,function(n,s){-1!==e.inArray(t.target,s)&&(i.classesElementLookup[n]=e(s.not(t.target).get()))})},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,n){n="boolean"==typeof n?n:i;var s="string"==typeof e||null===e,o={extra:s?t:i,keys:s?e:t,element:s?this.element:e,add:n};return o.element.toggleClass(this._classes(o),n),this},_on:function(t,i,n){var s,o=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=s=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),e.each(n,function(n,a){function r(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,d=l[2];d?s.on(c,d,r):i.on(c,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var i=this;return setTimeout(function(){return("string"==typeof e?i[e]:e).apply(i,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,n){var s,o,a=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(e.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,s,o){"string"==typeof s&&(s={effect:s});var a,r=s?!0===s||"number"==typeof s?i:s.effect||i:t;"number"==typeof(s=s||{})&&(s={duration:s}),a=!e.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),a&&e.effects&&e.effects.effect[r]?n[t](s):r!==t&&n[r]?n[r](s.duration,s.easing,o):n.queue(function(i){e(this)[t](),o&&o.call(n[0]),i()})}});e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])}});"1.7"===e.fn.jquery.substring(0,3)&&(e.each(["Width","Height"],function(t,i){function n(t,i,n,o){return e.each(s,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var s="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?a["inner"+i].call(this):this.each(function(){e(this).css(o,n(this,t)+"px")})},e.fn["outer"+i]=function(t,s){return"number"!=typeof t?a["outer"+i].call(this,t):this.each(function(){e(this).css(o,n(this,t,!0,s)+"px")})}}),e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))});e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},e.fn.scrollParent=function(t){var i=this.css("position"),n="absolute"===i,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return(!n||"static"!==t.css("position"))&&s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:e(this[0].ownerDocument||document)},e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var l=!1;e(document).on("mouseup",function(){l=!1});e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!l){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,n=1===t.which,s=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(n&&!s&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),l=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,l=!1,t.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var n=null,s=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,o.widgetName+"-item")===o)return n=e(this),!1}),e.data(t.target,o.widgetName+"-item")===o&&(n=e(t.target)),!!n&&(!(this.options.handle&&!i&&(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(s=!0)}),!s))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,i,n){var s,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,s,o,a=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),t.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),!1!==r&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],s=n.item[0],(o=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(s===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===s||e.contains(this.placeholder[0],s)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],s))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,s=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new e.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,o=e.left,a=o+e.width,r=e.top,l=r+e.height,c=this.offset.click.top,d=this.offset.click.left,h="x"===this.options.axis||n+c>r&&n+c<l,u="y"===this.options.axis||t+d>o&&t+d<a,p=h&&u;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:o<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&r<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,i,n="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),s="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!n||!s)&&(t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&i||"left"===s&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,n,s,o,a=[],r=[],l=this._connectWith();if(l&&t)for(i=l.length-1;i>=0;i--)for(n=(s=e(l[i],this.document[0])).length-1;n>=0;n--)(o=e.data(s[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&r.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(r.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=r.length-1;i>=0;i--)r[i][0].each(function(){a.push(this)});return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,s,o,a,r,l,c,d=this.items,h=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],u=this._connectWith();if(u&&this.ready)for(i=u.length-1;i>=0;i--)for(n=(s=e(u[i],this.document[0])).length-1;n>=0;n--)(o=e.data(s[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&(h.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(i=h.length-1;i>=0;i--)for(a=h[i][1],n=0,c=(r=h[i][0]).length;n<c;n++)(l=e(r[n])).data(this.widgetName+"-item",a),d.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,s,o;for(i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=s.outerWidth(),n.height=s.outerHeight()),o=s.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i,n=(t=t||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),s=e("<"+n+">",t.document[0]);return t._addClass(s,"ui-sortable-placeholder",i||t.currentItem[0].className)._removeClass(s,"ui-sortable-helper"),"tbody"===n?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(s)):"tr"===n?t._createTrPlaceholder(t.currentItem,s):"img"===n&&s.attr("src",t.currentItem.attr("src")),i||s.css("visibility","hidden"),s},update:function(e,s){i&&!n.forcePlaceholderSize||(s.height()||s.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var n=this;t.children().each(function(){e("<td>&#160;</td>",n.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,n,s,o,a,r,l,c,d,h,u=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(u&&e.contains(this.containers[i].element[0],u.element[0]))continue;u=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(u)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(s=1e4,o=null,a=(d=u.floating||this._isFloating(this.currentItem))?"left":"top",r=d?"width":"height",h=d?"pageX":"pageY",n=this.items.length-1;n>=0;n--)e.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[a],c=!1,t[h]-l>this.items[n][r]/2&&(c=!0),Math.abs(t[h]-l)<s&&(s=Math.abs(t[h]-l),o=this.items[n],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),"document"!==s.containment&&"window"!==s.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===s.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===s.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(t=e(s.containment)[0],i=e(s.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*n}},_generatePosition:function(t){var i,n,s=this.options,o=t.pageX,a=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/s.grid[1])*s.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/s.grid[0])*s.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function i(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}this.reverting=!1;var n,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&s.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||s.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(s.push(function(e){this._trigger("remove",e,this._uiHash())}),s.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||s.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(s.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<s.length;n++)s[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}});e.extend(e.ui,{datepicker:{version:"1.12.1"}});var c;e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return o(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,s,o;s="div"===(n=t.nodeName.toLowerCase())||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(o=this._newInst(e(t),s)).settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,o):s&&this._inlineDatepicker(t,o)},_newInst:function(t,i){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var n=e(t);i.append=e([]),i.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,s,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=e("<span class='"+this._appendClass+"'>"+a+"</span>"),t[r?"before":"after"](i.append)),t.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),"focus"!==(n=this._get(i,"showOn"))&&"both"!==n||t.on("focus",this._showDatepicker),"button"!==n&&"both"!==n||(s=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:s,title:s}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:s,title:s}):s)),t[r?"before":"after"](i.trigger),i.trigger.on("click",function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,s,o=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(i=0,n=0,s=0;s<e.length;s++)e[s].length>i&&(i=e[s].length,n=s);return n},o.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,i){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,n,s,a){var r,l,c,d,h,u=this._dialogInst;return u||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),e("body").append(this._dialogInput),(u=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],"datepicker",u)),o(u.settings,s||{}),i=i&&i.constructor===Date?this._formatDate(u,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+d,c/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),u.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",u),this},_destroyDatepicker:function(t){var i,n=e(t),s=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(s.append.remove(),s.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||n.removeClass(this.markerClassName).empty(),c===s&&(c=null))},_enableDatepicker:function(t){var i,n,s=e(t),o=e.data(t,"datepicker");s.hasClass(this.markerClassName)&&("input"===(i=t.nodeName.toLowerCase())?(t.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||((n=s.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,n,s=e(t),o=e.data(t,"datepicker");s.hasClass(this.markerClassName)&&("input"===(i=t.nodeName.toLowerCase())?(t.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||((n=s.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,n){var s,a,r,l,c=this._getInst(t);if(2===arguments.length&&"string"==typeof i)return"defaults"===i?e.extend({},e.datepicker._defaults):c?"all"===i?e.extend({},c.settings):this._get(c,i):null;s=i||{},"string"==typeof i&&((s={})[i]=n),c&&(this._curInst===c&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),r=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),o(c.settings,s),null!==r&&void 0!==s.dateFormat&&void 0===s.minDate&&(c.settings.minDate=this._formatDate(c,r)),null!==l&&void 0!==s.dateFormat&&void 0===s.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in s&&(s.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),c),this._autoSize(c),this._setDate(c,a),this._updateAlternate(c),this._updateDatepicker(c))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,s,o=e.datepicker._getInst(t.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return(s=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv))[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,s[0]),(i=e.datepicker._get(o,"onSelect"))?(n=e.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[n,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,s=e.datepicker._getInst(t.target);if(e.datepicker._get(s,"constrainInput"))return i=e.datepicker._possibleChars(e.datepicker._get(s,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||n<" "||!i||i.indexOf(n)>-1},_doKeyUp:function(t){var i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i))&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(e){}return!0},_showDatepicker:function(i){if("input"!==(i=i.target||i).nodeName.toLowerCase()&&(i=e("input",i.parentNode)[0]),!e.datepicker._isDisabledDatepicker(i)&&e.datepicker._lastInput!==i){var n,s,a,r,l,c,d;n=e.datepicker._getInst(i),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(a=(s=e.datepicker._get(n,"beforeShow"))?s.apply(i,[i,n]):{})&&(o(n.settings,a),n.lastVal=null,e.datepicker._lastInput=i,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(i.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(i),e.datepicker._pos[1]+=i.offsetHeight),r=!1,e(i).parents().each(function(){return!(r|="fixed"===e(this).css("position"))}),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),l=e.datepicker._checkOffset(n,l,r),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":r?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),n.inline||(c=e.datepicker._get(n,"showAnim"),d=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",t(e(i))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[c]?n.dpDiv.show(c,e.datepicker._get(n,"showOptions"),d):n.dpDiv[c||"show"](c?d:null),e.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),e.datepicker._curInst=n))}},_updateDatepicker:function(t){this.maxRows=4,c=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,n=this._getNumberOfMonths(t),o=n[1],a=t.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&s.apply(a.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&t.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",17*o+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,n){var s=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?s-a:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+r?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>l&&l>s?Math.abs(i.left+s-l):0),i.top-=Math.min(i.top,i.top+o>c&&c>o?Math.abs(o+r):0),i},_findPos:function(t){for(var i,n=this._getInst(t),s=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[s?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,n,s,o,a=this._curInst;!a||t&&a!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),n=this._get(a,"duration"),s=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[i]||e.effects[i])?a.dpDiv.hide(i,e.datepicker._get(a,"showOptions"),n,s):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,s),i||s(),this._datepickerShowing=!1,(o=this._get(a,"onClose"))&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id===e.datepicker._mainDivId||0!==i.parents("#"+e.datepicker._mainDivId).length||i.hasClass(e.datepicker.markerClassName)||i.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!i.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===n)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var s=e(t),o=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(o,i+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(t){var i,n=e(t),s=this._getInst(n[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var s=e(t),o=this._getInst(s[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(s)},_selectDay:function(t,i,n,s){var o,a=e(t);e(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||((o=this._getInst(a[0])).selectedDay=o.currentDay=e("a",s).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=n,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,s=e(t),o=this._getInst(s[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),(n=this._get(o,"onSelect"))?n.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var i,n,s,o=this._get(t,"altField");o&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),s=this.formatDate(i,n,this._getFormatConfig(t)),e(o).val(s))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?i.toString():i+""))return null;var s,o,a,r,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),h=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,u=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,$=-1,b=!1,y=function(e){var i=s+1<t.length&&t.charAt(s+1)===e;return i&&s++,i},_=function(e){var t=y(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,s="y"===e?n:1,o=new RegExp("^\\d{"+s+","+n+"}"),a=i.substring(l).match(o);if(!a)throw"Missing number at position "+l;return l+=a[0].length,parseInt(a[0],10)},w=function(t,n,s){var o=-1,a=e.map(y(t)?s:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(a,function(e,t){var n=t[1];if(i.substr(l,n.length).toLowerCase()===n.toLowerCase())return o=t[0],l+=n.length,!1}),-1!==o)return o+1;throw"Unknown name at position "+l},x=function(){if(i.charAt(l)!==t.charAt(s))throw"Unexpected literal at position "+l;l++};for(s=0;s<t.length;s++)if(b)"'"!==t.charAt(s)||y("'")?x():b=!1;else switch(t.charAt(s)){case"d":v=_("d");break;case"D":w("D",h,u);break;case"o":$=_("o");break;case"m":g=_("m");break;case"M":g=w("M",p,f);break;case"y":m=_("y");break;case"@":m=(r=new Date(_("@"))).getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":m=(r=new Date((_("!")-this._ticksTo1970)/1e4)).getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":y("'")?x():b=!0;break;default:x()}if(l<i.length&&(a=i.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=d?0:-100)),$>-1)for(g=1,v=$;;){if(o=this._getDaysInMonth(m,g-1),v<=o)break;g++,v-=o}if((r=this._daylightSavingAdjust(new Date(m,g-1,v))).getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var n,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},c=function(e,t,i){var n=""+t;if(l(e))for(;n.length<i;)n="0"+n;return n},d=function(e,t,i,n){return l(e)?n[t]:i[t]},h="",u=!1;if(t)for(n=0;n<e.length;n++)if(u)"'"!==e.charAt(n)||l("'")?h+=e.charAt(n):u=!1;else switch(e.charAt(n)){case"d":h+=c("d",t.getDate(),2);break;case"D":h+=d("D",t.getDay(),s,o);break;case"o":h+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=c("m",t.getMonth()+1,2);break;case"M":h+=d("M",t.getMonth(),a,r);break;case"y":h+=l("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":h+=t.getTime();break;case"!":h+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":u=!0;break;default:h+=e.charAt(n)}return h},_possibleChars:function(e){var t,i="",n=!1,s=function(i){var n=t+1<e.length&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;t<e.length;t++)if(n)"'"!==e.charAt(t)||s("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":s("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),o=s,a=this._getFormatConfig(e);try{o=this.parseDate(i,n,a)||s}catch(e){n=t?"":n}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=n?o.getDate():0,e.currentMonth=n?o.getMonth():0,e.currentYear=n?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var s=null==i||""===i?n:"string"==typeof i?function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(e){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=n.getFullYear(),o=n.getMonth(),a=n.getDate(),r=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=r.exec(i);l;){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(s,o));break;case"y":case"Y":s+=parseInt(l[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(s,o))}l=r.exec(i)}return new Date(s,o,a)}(i):"number"==typeof i?isNaN(i)?n:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(i):new Date(i.getTime());return(s=s&&"Invalid Date"===s.toString()?n:s)&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,s=e.selectedMonth,o=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),s===e.selectedMonth&&o===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(n,-i,"M")},next:function(){e.datepicker._adjustDate(n,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,s,o,a,r,l,c,d,h,u,p,f,m,g,v,$,b,y,_,w,x,C,k,S,D,T,E,P,I,M,A,j,N,H,O,R,F,L=new Date,B=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),z=this._get(e,"isRTL"),U=this._get(e,"showButtonPanel"),X=this._get(e,"hideIfNoPrevNext"),W=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),q=this._get(e,"showCurrentAtPos"),Y=this._get(e,"stepMonths"),K=1!==V[0]||1!==V[1],Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),G=e.drawMonth-q,ee=e.drawYear;if(G<0&&(G+=12,ee--),J)for(t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-V[0]*V[1]+1,J.getDate())),t=Z&&t<Z?Z:t;this._daylightSavingAdjust(new Date(ee,G,1))>t;)--G<0&&(G=11,ee--);for(e.drawMonth=G,e.drawYear=ee,i=this._get(e,"prevText"),i=W?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,G-Y,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,ee,G)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+i+"</span></a>":X?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+i+"</span></a>",s=this._get(e,"nextText"),s=W?this.formatDate(s,this._daylightSavingAdjust(new Date(ee,G+Y,1)),this._getFormatConfig(e)):s,o=this._canAdjustMonth(e,1,ee,G)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+s+"</span></a>":X?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+s+"</span></a>",a=this._get(e,"currentText"),r=this._get(e,"gotoCurrent")&&e.currentDay?Q:B,a=W?this.formatDate(a,r,this._getFormatConfig(e)):a,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=U?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(z?l:"")+(this._isInRange(e,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(z?"":l)+"</div>":"",d=parseInt(this._get(e,"firstDay"),10),d=isNaN(d)?0:d,h=this._get(e,"showWeek"),u=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),$=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),y="",w=0;w<V[0];w++){for(x="",this.maxRows=4,C=0;C<V[1];C++){if(k=this._daylightSavingAdjust(new Date(ee,G,e.selectedDay)),S=" ui-corner-all",D="",K){if(D+="<div class='ui-datepicker-group",V[1]>1)switch(C){case 0:D+=" ui-datepicker-group-first",S=" ui-corner-"+(z?"right":"left");break;case V[1]-1:D+=" ui-datepicker-group-last",S=" ui-corner-"+(z?"left":"right");break;default:D+=" ui-datepicker-group-middle",S=""}D+="'>"}for(D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===w?z?o:n:"")+(/all|right/.test(S)&&0===w?z?n:o:"")+this._generateMonthYearHeader(e,G,ee,Z,J,w>0||C>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=h?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",_=0;_<7;_++)E=(_+d)%7,T+="<th scope='col'"+((_+d+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+u[E]+"'>"+p[E]+"</span></th>";for(D+=T+"</tr></thead><tbody>",P=this._getDaysInMonth(ee,G),ee===e.selectedYear&&G===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,P)),I=(this._getFirstDayOfMonth(ee,G)-d+7)%7,M=Math.ceil((I+P)/7),A=K&&this.maxRows>M?this.maxRows:M,this.maxRows=A,j=this._daylightSavingAdjust(new Date(ee,G,1-I)),N=0;N<A;N++){for(D+="<tr>",H=h?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(j)+"</td>":"",_=0;_<7;_++)O=g?g.apply(e.input?e.input[0]:null,[j]):[!0,""],F=(R=j.getMonth()!==G)&&!$||!O[0]||Z&&j<Z||J&&j>J,H+="<td class='"+((_+d+6)%7>=5?" ui-datepicker-week-end":"")+(R?" ui-datepicker-other-month":"")+(j.getTime()===k.getTime()&&G===e.selectedMonth&&e._keyEvent||b.getTime()===j.getTime()&&b.getTime()===k.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(R&&!v?"":" "+O[1]+(j.getTime()===Q.getTime()?" "+this._currentClass:"")+(j.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(R&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+j.getMonth()+"' data-year='"+j.getFullYear()+"'")+">"+(R&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+j.getDate()+"</span>":"<a class='ui-state-default"+(j.getTime()===B.getTime()?" ui-state-highlight":"")+(j.getTime()===Q.getTime()?" ui-state-active":"")+(R?" ui-priority-secondary":"")+"' href='#'>"+j.getDate()+"</a>")+"</td>",j.setDate(j.getDate()+1),j=this._daylightSavingAdjust(j);D+=H+"</tr>"}++G>11&&(G=0,ee++),x+=D+="</tbody></table>"+(K?"</div>"+(V[0]>0&&C===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}y+=x}return y+=c,e._keyEvent=!1,y},_generateMonthYearHeader:function(e,t,i,n,s,o,a,r){var l,c,d,h,u,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),$=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!g)y+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(l=n&&n.getFullYear()===i,c=s&&s.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",d=0;d<12;d++)(!l||d>=n.getMonth())&&(!c||d<=s.getMonth())&&(y+="<option value='"+d+"'"+(d===t?" selected='selected'":"")+">"+r[d]+"</option>");y+="</select>"}if($||(b+=y+(!o&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(h=this._get(e,"yearRange").split(":"),u=(new Date).getFullYear(),f=(p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?u+parseInt(e,10):parseInt(e,10);return isNaN(t)?u:t})(h[0]),m=Math.max(f,p(h[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=s?Math.min(m,s.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=m;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),$&&(b+=(!o&&g&&v?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(e,t,i){var n=e.selectedYear+("Y"===i?t:0),s=e.selectedMonth+("M"===i?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(n,s))+("D"===i?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,s,o)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),s=i&&t<i?i:t;return n&&s>n?n:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var s=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(i,n+(t<0?t:s[0]*s[1]),1));return t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var i,n,s=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),a=null,r=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=n),i[1].match(/[+\-].*/)&&(r+=n)),(!s||t.getTime()>=s.getTime())&&(!o||t.getTime()<=o.getTime())&&(!a||t.getFullYear()>=a)&&(!r||t.getFullYear()<=r)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on("mousedown",e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.12.1"}),function(e){e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(e){"use strict";function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=c),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var n=e(this),s=n.data(D);s||(s=new i(this,t),n.data(D,s))})}function i(t,i){function T(t){if(!(ce()||e(t.target).closest(i.excludedElements,We).length>0)){var n=t.originalEvent?t.originalEvent:t;if(!n.pointerType||"mouse"!=n.pointerType||0!=i.fallbackToMouseEvents){var s,o=n.touches,a=o?o[0]:n;return Ve=y,o?qe=o.length:!1!==i.preventDefaultEvents&&t.preventDefault(),Ne=0,He=null,Oe=null,Ue=null,Re=0,Fe=0,Le=0,Be=1,ze=0,Xe=ge(),re(),he(0,a),!o||qe===i.fingers||i.fingers===$||U()?(Ke=ke(),2==qe&&(he(1,o[1]),Fe=Le=be(Ye[0].start,Ye[1].start)),(i.swipeStatus||i.pinchStatus)&&(s=N(n,Ve))):s=!1,!1===s?(Ve=x,N(n,Ve),s):(i.hold&&(tt=setTimeout(e.proxy(function(){We.trigger("hold",[n.target]),i.hold&&(s=i.hold.call(We,n,n.target))},this),i.longTapThreshold)),de(!0),null)}}}function E(e){var t=e.originalEvent?e.originalEvent:e;if(Ve!==w&&Ve!==x&&!le()){var n,s=t.touches,o=ue(s?s[0]:t);if(Qe=ke(),s&&(qe=s.length),i.hold&&clearTimeout(tt),Ve=_,2==qe&&(0==Fe?(he(1,s[1]),Fe=Le=be(Ye[0].start,Ye[1].start)):(ue(s[1]),Le=be(Ye[0].end,Ye[1].end),Ue=_e(Ye[0].end,Ye[1].end)),Be=ye(Fe,Le),ze=Math.abs(Fe-Le)),qe===i.fingers||i.fingers===$||!s||U()){if(He=Ce(o.start,o.end),Oe=Ce(o.last,o.end),B(e,Oe),Ne=we(o.start,o.end),Re=$e(),fe(He,Ne),n=N(t,Ve),!i.triggerOnTouchEnd||i.triggerOnTouchLeave){var a=!0;if(i.triggerOnTouchLeave){var r=Se(this);a=De(o.end,r)}!i.triggerOnTouchEnd&&a?Ve=j(_):i.triggerOnTouchLeave&&!a&&(Ve=j(w)),Ve!=x&&Ve!=w||N(t,Ve)}}else N(t,Ve=x);!1===n&&N(t,Ve=x)}}function P(e){var t=e.originalEvent?e.originalEvent:e,n=t.touches;if(n){if(n.length&&!le())return ae(t),!0;if(n.length&&le())return!0}return le()&&(qe=Je),Qe=ke(),Re=$e(),R()||!O()?N(t,Ve=x):i.triggerOnTouchEnd||!1===i.triggerOnTouchEnd&&Ve===_?(!1!==i.preventDefaultEvents&&e.preventDefault(),N(t,Ve=w)):!i.triggerOnTouchEnd&&Q()?H(t,Ve=w,p):Ve===_&&N(t,Ve=x),de(!1),null}function I(){qe=0,Qe=0,Ke=0,Fe=0,Le=0,Be=1,re(),de(!1)}function M(e){var t=e.originalEvent?e.originalEvent:e;i.triggerOnTouchLeave&&N(t,Ve=j(w))}function A(){We.unbind(Pe,T),We.unbind(je,I),We.unbind(Ie,E),We.unbind(Me,P),Ae&&We.unbind(Ae,M),de(!1)}function j(e){var t=e,n=L(),s=O(),o=R();return!n||o?t=x:!s||e!=_||i.triggerOnTouchEnd&&!i.triggerOnTouchLeave?!s&&e==w&&i.triggerOnTouchLeave&&(t=x):t=w,t}function N(e,t){var i,n=e.touches;return(q()||V())&&(i=H(e,t,h)),(X()||U())&&!1!==i&&(i=H(e,t,u)),se()&&!1!==i?i=H(e,t,f):oe()&&!1!==i?i=H(e,t,m):ne()&&!1!==i&&(i=H(e,t,p)),t===x&&I(e),t===w&&(n?n.length||I(e):I(e)),i}function H(t,c,d){var g;if(d==h){if(We.trigger("swipeStatus",[c,He||null,Ne||0,Re||0,qe,Ye,Oe]),i.swipeStatus&&!1===(g=i.swipeStatus.call(We,t,c,He||null,Ne||0,Re||0,qe,Ye,Oe)))return!1;if(c==w&&W()){if(clearTimeout(et),clearTimeout(tt),We.trigger("swipe",[He,Ne,Re,qe,Ye,Oe]),i.swipe&&!1===(g=i.swipe.call(We,t,He,Ne,Re,qe,Ye,Oe)))return!1;switch(He){case n:We.trigger("swipeLeft",[He,Ne,Re,qe,Ye,Oe]),i.swipeLeft&&(g=i.swipeLeft.call(We,t,He,Ne,Re,qe,Ye,Oe));break;case s:We.trigger("swipeRight",[He,Ne,Re,qe,Ye,Oe]),i.swipeRight&&(g=i.swipeRight.call(We,t,He,Ne,Re,qe,Ye,Oe));break;case o:We.trigger("swipeUp",[He,Ne,Re,qe,Ye,Oe]),i.swipeUp&&(g=i.swipeUp.call(We,t,He,Ne,Re,qe,Ye,Oe));break;case a:We.trigger("swipeDown",[He,Ne,Re,qe,Ye,Oe]),i.swipeDown&&(g=i.swipeDown.call(We,t,He,Ne,Re,qe,Ye,Oe))}}}if(d==u){if(We.trigger("pinchStatus",[c,Ue||null,ze||0,Re||0,qe,Be,Ye]),i.pinchStatus&&!1===(g=i.pinchStatus.call(We,t,c,Ue||null,ze||0,Re||0,qe,Be,Ye)))return!1;if(c==w&&z())switch(Ue){case r:We.trigger("pinchIn",[Ue||null,ze||0,Re||0,qe,Be,Ye]),i.pinchIn&&(g=i.pinchIn.call(We,t,Ue||null,ze||0,Re||0,qe,Be,Ye));break;case l:We.trigger("pinchOut",[Ue||null,ze||0,Re||0,qe,Be,Ye]),i.pinchOut&&(g=i.pinchOut.call(We,t,Ue||null,ze||0,Re||0,qe,Be,Ye))}}return d==p?c!==x&&c!==w||(clearTimeout(et),clearTimeout(tt),Z()&&!ee()?(Ge=ke(),et=setTimeout(e.proxy(function(){Ge=null,We.trigger("tap",[t.target]),i.tap&&(g=i.tap.call(We,t,t.target))},this),i.doubleTapThreshold)):(Ge=null,We.trigger("tap",[t.target]),i.tap&&(g=i.tap.call(We,t,t.target)))):d==f?c!==x&&c!==w||(clearTimeout(et),clearTimeout(tt),Ge=null,We.trigger("doubletap",[t.target]),i.doubleTap&&(g=i.doubleTap.call(We,t,t.target))):d==m&&(c!==x&&c!==w||(clearTimeout(et),Ge=null,We.trigger("longtap",[t.target]),i.longTap&&(g=i.longTap.call(We,t,t.target)))),g}function O(){var e=!0;return null!==i.threshold&&(e=Ne>=i.threshold),e}function R(){var e=!1;return null!==i.cancelThreshold&&null!==He&&(e=me(He)-Ne>=i.cancelThreshold),e}function F(){return null===i.pinchThreshold||ze>=i.pinchThreshold}function L(){return!i.maxTimeThreshold||!(Re>=i.maxTimeThreshold)}function B(e,t){if(!1!==i.preventDefaultEvents)if(i.allowPageScroll===c)e.preventDefault();else{var r=i.allowPageScroll===d;switch(t){case n:(i.swipeLeft&&r||!r&&i.allowPageScroll!=g)&&e.preventDefault();break;case s:(i.swipeRight&&r||!r&&i.allowPageScroll!=g)&&e.preventDefault();break;case o:(i.swipeUp&&r||!r&&i.allowPageScroll!=v)&&e.preventDefault();break;case a:(i.swipeDown&&r||!r&&i.allowPageScroll!=v)&&e.preventDefault()}}}function z(){var e=Y(),t=K(),i=F();return e&&t&&i}function U(){return!!(i.pinchStatus||i.pinchIn||i.pinchOut)}function X(){return!(!z()||!U())}function W(){var e=L(),t=O(),i=Y(),n=K();return!R()&&n&&i&&t&&e}function V(){return!!(i.swipe||i.swipeStatus||i.swipeLeft||i.swipeRight||i.swipeUp||i.swipeDown)}function q(){return!(!W()||!V())}function Y(){return qe===i.fingers||i.fingers===$||!C}function K(){return 0!==Ye[0].end.x}function Q(){return!!i.tap}function Z(){return!!i.doubleTap}function J(){return!!i.longTap}function G(){if(null==Ge)return!1;var e=ke();return Z()&&e-Ge<=i.doubleTapThreshold}function ee(){return G()}function te(){return(1===qe||!C)&&(isNaN(Ne)||Ne<i.threshold)}function ie(){return Re>i.longTapThreshold&&Ne<b}function ne(){return!(!te()||!Q())}function se(){return!(!G()||!Z())}function oe(){return!(!ie()||!J())}function ae(e){Ze=ke(),Je=e.touches.length+1}function re(){Ze=0,Je=0}function le(){var e=!1;return Ze&&ke()-Ze<=i.fingerReleaseThreshold&&(e=!0),e}function ce(){return!(!0!==We.data(D+"_intouch"))}function de(e){We&&(!0===e?(We.bind(Ie,E),We.bind(Me,P),Ae&&We.bind(Ae,M)):(We.unbind(Ie,E,!1),We.unbind(Me,P,!1),Ae&&We.unbind(Ae,M,!1)),We.data(D+"_intouch",!0===e))}function he(e,t){var i={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return i.start.x=i.last.x=i.end.x=t.pageX||t.clientX,i.start.y=i.last.y=i.end.y=t.pageY||t.clientY,Ye[e]=i,i}function ue(e){var t=void 0!==e.identifier?e.identifier:0,i=pe(t);return null===i&&(i=he(t,e)),i.last.x=i.end.x,i.last.y=i.end.y,i.end.x=e.pageX||e.clientX,i.end.y=e.pageY||e.clientY,i}function pe(e){return Ye[e]||null}function fe(e,t){e!=c&&(t=Math.max(t,me(e)),Xe[e].distance=t)}function me(e){if(Xe[e])return Xe[e].distance}function ge(){var e={};return e[n]=ve(n),e[s]=ve(s),e[o]=ve(o),e[a]=ve(a),e}function ve(e){return{direction:e,distance:0}}function $e(){return Qe-Ke}function be(e,t){var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return Math.round(Math.sqrt(i*i+n*n))}function ye(e,t){return(t/e*1).toFixed(2)}function _e(){return Be<1?l:r}function we(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function xe(e,t){var i=e.x-t.x,n=t.y-e.y,s=Math.atan2(n,i),o=Math.round(180*s/Math.PI);return o<0&&(o=360-Math.abs(o)),o}function Ce(e,t){if(Te(e,t))return c;var i=xe(e,t);return i<=45&&i>=0?n:i<=360&&i>=315?n:i>=135&&i<=225?s:i>45&&i<135?a:o}function ke(){return(new Date).getTime()}function Se(t){var i=(t=e(t)).offset();return{left:i.left,right:i.left+t.outerWidth(),top:i.top,bottom:i.top+t.outerHeight()}}function De(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}function Te(e,t){return e.x==t.x&&e.y==t.y}var i=e.extend({},i),Ee=C||S||!i.fallbackToMouseEvents,Pe=Ee?S?k?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Ie=Ee?S?k?"MSPointerMove":"pointermove":"touchmove":"mousemove",Me=Ee?S?k?"MSPointerUp":"pointerup":"touchend":"mouseup",Ae=Ee?S?"mouseleave":null:"mouseleave",je=S?k?"MSPointerCancel":"pointercancel":"touchcancel",Ne=0,He=null,Oe=null,Re=0,Fe=0,Le=0,Be=1,ze=0,Ue=0,Xe=null,We=e(t),Ve="start",qe=0,Ye={},Ke=0,Qe=0,Ze=0,Je=0,Ge=0,et=null,tt=null;try{We.bind(Pe,T),We.bind(je,I)}catch(t){e.error("events not supported "+Pe+","+je+" on jQuery.swipe")}this.enable=function(){return this.disable(),We.bind(Pe,T),We.bind(je,I),We},this.disable=function(){return A(),We},this.destroy=function(){A(),We.data(D,null),We=null},this.option=function(t,n){if("object"==typeof t)i=e.extend(i,t);else if(void 0!==i[t]){if(void 0===n)return i[t];i[t]=n}else{if(!t)return i;e.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}var n="left",s="right",o="up",a="down",r="in",l="out",c="none",d="auto",h="swipe",u="pinch",p="tap",f="doubletap",m="longtap",g="horizontal",v="vertical",$="all",b=10,y="start",_="move",w="end",x="cancel",C="ontouchstart"in window,k=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!C,S=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!C,D="TouchSwipe";e.fn.swipe=function(i){var n=e(this),s=n.data(D);if(s&&"string"==typeof i){if(s[i])return s[i].apply(s,Array.prototype.slice.call(arguments,1));e.error("Method "+i+" does not exist on jQuery.swipe")}else if(s&&"object"==typeof i)s.option.apply(s,arguments);else if(!(s||"object"!=typeof i&&i))return t.apply(this,arguments);return n},e.fn.swipe.version="1.6.18",e.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},e.fn.swipe.phases={PHASE_START:y,PHASE_MOVE:_,PHASE_END:w,PHASE_CANCEL:x},e.fn.swipe.directions={LEFT:n,RIGHT:s,UP:o,DOWN:a,IN:r,OUT:l},e.fn.swipe.pageScroll={NONE:c,HORIZONTAL:g,VERTICAL:v,AUTO:d},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:$}}),function(){var e=!1,t={$parent:$("body"),$elements:"",$element:"",$child:"",pOffset:"",pWidth:"",eTop:"auto",startPoint:"",newHeight:0,vPort:"screen-sm",originalHeight:"",forceDisableMobileSticky:!1,init:function(){t.control(),t.launch(),t.ctrl.check()},launch:function(){t.$elements=$(".sticko, .sticko__md"),e&&t.$element.length?t.$elements.each(function(){$(this).attr("style",""),t.forceDisableMobileSticky&&$(this).find(".sticko__child").attr("style",""),$(this).hasClass("sticko__md")&&$(this).removeClass("js--sticko")}):t.$elements.each(function(){if(t.$element=$(this),(!t.$element.hasClass("sticko__md")||!e)&&(t.$element.addClass("js--sticko"),t.$element.closest(".sticko__parent").length?t.$parent=t.$element.closest(".sticko__parent"):t.$parent=$("body"),t.define(),t.$element.find(".sticko__child").length&&(t.$child=t.$element.find(".sticko__child"),t.get.height()),t.ads(),t.$element.length&&t.$element.find(".sticko__child").length)){t.originalHeight=t.newHeight,t.set.height(0,t.originalHeight),t.ctrl.scrolla()}})},control:function(){$(document).on(t.vPort+"-on",function(){e=!0}),$(document).on(t.vPort+"-off",function(){e=!1}),$(document).on("smartResize",function(){var e={top:t.get.fixedpageElementsHeight()+10};t.apply(t.$element,e)})},define:function(){t.pOffset=t.$parent.offset(),t.pLeft=t.pOffset.left+parseInt(t.$parent.css("padding-left")),t.pWidth=t.$parent.width();var e={width:t.pWidth,top:t.$element.css("top")};t.apply(t.$element,e)},apply:function(e,t){e.css(t)},ads:function(){},get:{height:function(){var e=0;t.$element.children(":not(.sticko__child)").each(function(){e+=$(this).outerHeight()}),t.newHeight=$(window).outerHeight()-(e+t.pOffset.top),$("body").outerHeight()<=$(window).outerHeight()&&(t.newHeight=t.newHeight-$(".page-footer").outerHeight());var i={height:t.newHeight,"overflow-y":"auto"};t.apply(t.$child,i)},fixedpageElementsHeight:function(){var e=$("header, .pageHeader").outerHeight();return e||(e=0),$(".fixed-element").length&&$.each($(".fixed-element"),function(t,i){$(i).outerHeight()&&(e+=$(i).outerHeight())}),e}},set:{height:function(e,i){var n=window.pageYOffset+$(window).outerHeight(),s=t.set.variables(),o=$(document).outerHeight()-$("footer").outerHeight()-s,a={};n>=o?(e=n-o,t.newHeight=i-e,a={height:t.newHeight}):a={height:i},t.apply(t.$child,a);var r=t.get.fixedpageElementsHeight();$(".article-row-left").outerHeight()<$(window).outerHeight()&&(UX.accordion.isArticleAccordion||$(".article-row-left").height($(window).outerHeight()-r)),$(".sticko__side-content").outerHeight()<$(window).outerHeight()&&$(".sticko__side-content").height($(window).outerHeight()-r),$(".dynamic-sticko").length&&$(".dynamic-sticko").each(function(){var t=$(this);t.css("position","static"),dynamicScrollTop=$(window).scrollTop()+r,dynamicHeight=$(window).outerHeight()-r,t.find(".tab__nav").length&&(dynamicHeight-=t.find(".tab__nav").outerHeight()),n>=o?(e=n-o,t.css("height",dynamicHeight-e),$(".sticko__child").css("height",dynamicHeight-e)):(t.css("height",dynamicHeight),$(".sticko__child").css("height",dynamicHeight)),dynamicScrollTop>=t.offset().top&&(t.css("position","fixed"),t.css("top",r))})},variables:function(){return 0},forceDisableMobileSticky:function(){t.forceDisableMobileSticky=!1}},ctrl:{check:function(){$(window).resize(function(){t.ctrl.resize()}),$(document).on("smartResize",function(){t.ctrl.resize()})},resize:function(){t.launch()},scrolla:function(){$(window).scroll(function(){e&&t.forceDisableMobileSticky||t.set.height(0,t.originalHeight)})}}};UX.sticko=t}(),function(){function e(e){var t=e.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+n,left:t.left+i}}var t=$("body"),i={init:function(){i.control()},adjustAnchor:function(t){t.preventDefault();var n=$(":target"),s=i.get.fixedpageElementsHeight();n.length>0&&window.scrollTo(0,e(n.get(0)).top-s)},control:function(){$(window).on("hashchange load",i.adjustAnchor),t.on("click",'a.table-fn[href^="#"],a.ref.fn[href^="#"],.scroll-to-target a[href^="#"]',function(e){window.location.hash===$(this).attr("href")&&i.adjustAnchor(e)})},get:{fixedpageElementsHeight:function(){var e=0,t=$("header.fixed, .pageHeader");t.length&&(e=t.outerHeight());var i=$(".scrollThenFix");i.length&&(e=i.outerHeight());var n=$(".coolBar.stickybar--sticky"),s=0;return n.length&&(0==(s=n.outerHeight())&&(s=n.find(".stickybar__wrapper").outerHeight()),e+=s),$(".fixed-element").length&&$.each($(".fixed-element"),function(t,i){$(i).outerHeight()&&(e+=$(i).outerHeight())}),e}}};UX.scrollo=i}(),function(e,t,i){var n=window.matchMedia;t.enquire=i(n)}(0,window,function(e){"use strict";function t(e,t){var i=0,n=e.length;for(i;i<n&&!1!==t(e[i],i);i++);}function i(e){return"[object Array]"===Object.prototype.toString.apply(e)}function n(e){return"function"==typeof e}function s(e){this.options=e,!e.deferSetup&&this.setup()}function o(t,i){this.query=t,this.isUnconditional=i,this.handlers=[],this.mql=e(t);var n=this;this.listener=function(e){n.mql=e,n.assess()},this.mql.addListener(this.listener)}function a(){if(!e)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!e("only all").matches}return s.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},o.prototype={addHandler:function(e){var t=new s(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var i=this.handlers;t(i,function(t,n){if(t.equals(e))return t.destroy(),!i.splice(n,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){t(this.handlers,function(e){e.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";t(this.handlers,function(t){t[e]()})}},a.prototype={register:function(e,s,a){var r=this.queries,l=a&&this.browserIsIncapable;return r[e]||(r[e]=new o(e,l)),n(s)&&(s={match:s}),i(s)||(s=[s]),t(s,function(t){n(t)&&(t={match:t}),r[e].addHandler(t)}),this},unregister:function(e,t){var i=this.queries[e];return i&&(t?i.removeHandler(t):(i.clear(),delete this.queries[e])),this}},new a}),function(){var controller={$body:$("body"),active:null,escape:27,enabled:!1,init:function(){controller.control(),controller.check()},control:function(){$(document).on("keydown",function(e){(e.keyCode||e.which)===controller.escape&&controller.check()})},check:function(){controller.active=controller.$body.attr("data-active"),null!=controller.active&&controller.disable(),controller.extra()},disable:function(){eval("UX."+controller.active).on.hide()},extra:function(){controller.$body.on("click",function(e){if(controller.active=controller.$body.attr("data-active"),void 0!==eval("UX."+controller.active)&&void 0!==eval("UX."+controller.active).$section&&void 0!==eval("UX."+controller.active).$controller){var container=eval("UX."+controller.active).$section,target=eval("UX."+controller.active).$controller;container.is(e.target)||0!==container.has(e.target).length||target.is(e.target)||0!==target.has(e.target).length||eval("UX."+controller.active).on.hide(e)}})}};UX.controller=controller}(),function(){var e=$(window),t=($("body"),{aHeight:0,hHeight:0,sHeight:0,sTop:null,$scrollThenFix:null,init:function(){$(".content").not(".popup .content").css("padding-top",0),this.aHeight=$("header .pb-ad").height()||0,this.hHeight=$("header").height(),this.$scrollThenFix=$(".scrollThenFix"),this.sHeight=this.$scrollThenFix.height(),t.control()},control:function(){e.on("scroll",function(e){t.hHeight=$("header").height(),$(document).scrollTop()>=t.aHeight?(t.$scrollThenFix.addClass("locked"),$(".content").not(".popup .content").css({"padding-top":t.sHeight}),t.hHeight=t.$scrollThenFix.height(),UX.sticko.$element&&UX.sticko.apply(UX.sticko.$element,{top:t.hHeight}),UX.stickybar.stickybarElement&&UX.stickybar.stickybarElement.find(".stickybar__wrapper").css("top",t.hHeight)):(t.$scrollThenFix.removeClass("locked"),$(".content").not(".popup .content").css({"padding-top":"0"}),UX.sticko.$element&&(t.sTop=t.hHeight-$(document).scrollTop(),UX.sticko.apply(UX.sticko.$element,{top:t.sTop+10})),UX.stickybar.stickybarElement&&UX.stickybar.stickybarElement.find(".stickybar__wrapper").css("top","auto"))})}});UX.headerScrollFix=t}(),function(){$(window),$("body");var e={$primaryBar:$(".auto-hide-primary-bar"),$stickyBar:$(".auto-hide-secondary-bar"),previousTop:0,scrollDelta:5,scrollOffset:100,vPort:"screen-sm",isMobile:!1,init:function(){e.$primaryBar.addClass("auto-hide-bar fixed-element"),e.$stickyBar.addClass("secondary-bar--sticky fixed-element"),e.$stickyBar.css("top",e.$primaryBar.height()),e.control()},control:function(){$(document).on(e.vPort+"-on",function(){e.isMobile=!0}),$(document).on(e.vPort+"-off",function(){e.isMobile=!1}),$(window).on("scroll",function(){if(e.$stickyBar.length&&0==e.isMobile){var t=$(window).scrollTop(),i=e.$primaryBar.height()+e.scrollOffset;e.previousTop>=t&&t<i?e.previousTop-t>e.scrollDelta&&(e.$primaryBar.css("transform","").addClass("fixed-element"),e.$stickyBar.css("transform","").removeClass("slide-up")):t>i&&(e.$primaryBar.removeClass("fixed-element").css("transform","translateY(-"+e.$primaryBar.height()+"px )"),e.$stickyBar.addClass("slide-up").css("transform","translateY(-"+e.$primaryBar.height()+"px )"),e.hideOpenHeaderMenus()),e.previousTop=t}})},hideOpenHeaderMenus:function(){$(".navigation-login-dropdown-container").addClass("hidden");var e=$(".loginBar__dropBlock__holder.js--open");e.removeClass("js--open"),$("[data-db-target-for="+e.attr("data-db-target-of")+"]").removeClass("js--open");var t=$(".quick-search__dropBlock.js--open");t.removeClass("js--open"),$("[data-db-target-for="+t.attr("data-db-target-of")+"]").removeClass("js--open")}};UX.autoHideBar=e}(),function(){var e=$("body"),t=($(document),{init:function(){t.on.build(),t.control()},control:function(){e.on("click",".expandable-list__toggle",function(e){e.preventDefault(),t.on.toggleList($(this))})},on:{build:function(){var e=$(".expandable-list");$(".expandable-list__toggle");e.each(function(){var e=$(this).find(".expandable-list__body");$(this).find(".expandable-list__toggle");e.hide()})},toggleList:function(e){var t=e,i=t.closest(".expandable-list"),n=i.find(".expandable-list__body").toggle();i.toggleClass("js--open"),t.find("i").toggleClass("icon-add_box icon-squared-minus"),i.hasClass("js--open")?(t.attr("aria-expanded",!0),n.attr("aria-hidden",!1)):(t.attr("aria-expanded",!1),n.attr("aria-hidden",!0))},closeList:function(e){var t=$(".expandable-list");t.removeClass("js--open");var i=t.find(".expandable-list__body").hide();$(".expandable-list__toggle").attr("aria-expanded","false").find("i").addClass("icon-add_box").removeClass("icon-squared-minus"),i.attr("aria-hidden",!0)}}});UX.list=t}(),function(){$(window),$("body");var e={init:function(){e.on.setContentTopPadding(),e.control()},control:function(){$(window).on("resize",function(){e.on.setContentTopPadding()})},on:{setContentTopPadding:function(){var e=0;$(".header.fixed").length&&(e=$(".header.fixed").height()),$(".fixed-element").length&&$.each($(".fixed-element"),function(t,i){$(i).outerHeight()&&(e+=$(i).height())}),$("main.content").css("padding-top",e)}}};UX.pageBody=e}(),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&$("body").addClass("iOS"),menubar$1.prototype.bindHandlers=function(){var e=this;this.$allItems.keydown(function(t){return e.handleKeyDown($(this),t)}),this.$allItems.keypress(function(t){return e.handleKeyPress($(this),t)}),this.$allItems.focus(function(t){return e.handleFocus($(this),t)}),$(document).click(function(t){return e.handleDocumentClick(t)})},menubar$1.prototype.handleFocus=function(e,t){if(null==this.$activeItem)this.$activeItem=e;else if(e[0]!=this.$activeItem[0])return!0;var i=this.$activeItem.parentsUntil("div").filter("li");return this.$allItems.removeClass("menu-focus menu-focus-checked"),this.$activeItem.is(".checked")?this.$activeItem.addClass("menu-focus-checked"):this.$activeItem.addClass("menu-focus"),i.addClass("menu-focus"),1==this.vmenu&&(1==this.bChildOpen?e.parent().is("#menubar")&&"true"==e.attr("aria-haspopup")&&e.addClass("hover").children("ul").attr("aria-hidden","false"):this.vmenu=!1),!0},menubar$1.prototype.handleKeyDown=function(e,t){if(t.altKey||t.ctrlKey)return!0;switch(t.keyCode){case this.keys.tab:this.$id.find("ul").attr("aria-hidden","true"),this.$allItems.removeClass("menu-focus hover"),this.$activeItem=null,this.bChildOpen;break;case this.keys.esc:if(!(UX.menu.$toggle.length>0)){var i=e.parent();return i.is("#menubar")?(e.removeClass("hover").children("ul").first().attr("aria-hidden","true"),e.focus()):(this.$activeItem=i.parent(),e.removeClass("hover"),this.bChildOpen=!1,this.$activeItem.focus(),i.attr("aria-hidden","true")),t.stopPropagation(),!1}UX.menu.on.hide(),UX.menu.$toggle.focus();case this.keys.enter:case this.keys.space:return e.parent().is("#menubar")?(e.addClass("hover").children("ul").first().attr("aria-hidden","false"),this.bChildOpen=!0,this.processMenuChoice(e),e.find("ul > li:first").find("a").focus()):(this.processMenuChoice(e),this.$allItems.removeClass("menu-hover menu-hover-checked hover"),this.$allItems.removeClass("menu-focus menu-focus-checked hover"),this.$id.find("ul").not("#menubar").attr("aria-hidden","true"),this.$activeItem=null),t.stopPropagation(),!1;case this.keys.left:return 1==this.vmenu&&i.is("#menubar")?this.$activeItem=this.moveUp(e):this.$activeItem=this.moveToPrevious(e),this.$activeItem.focus(),t.stopPropagation(),!1;case this.keys.right:return 1==this.vmenu&&i.is("#menubar")?this.$activeItem=this.moveDown(e):this.$activeItem=this.moveToNext(e),this.$activeItem.focus(),t.stopPropagation(),!1;case this.keys.up:return 1==this.vmenu&&i.is("#menubar")?this.$activeItem=this.moveToPrevious(e):this.$activeItem=this.moveUp(e),this.$activeItem.focus(),t.stopPropagation(),!1;case this.keys.down:return 1==this.vmenu&&i.is("#menubar")?this.$activeItem=this.moveToNext(e):this.$activeItem=this.moveDown(e),this.$activeItem.focus(),t.stopPropagation(),!1}return!0},menubar$1.prototype.moveToNext=function(e){var t=e.parent(),i=t.children("li"),n=i.length,s=i.index(e),o=null;if(t.is("#menubar"))o=n-1>s?e.next():i.first(),"true"==e.attr("aria-haspopup")&&(e.removeClass("hover"),"false"==(l=e.children("ul").first()).attr("aria-hidden")&&(l.attr("aria-hidden","true"),this.bChildOpen=!0)),e.removeClass("menu-focus"),"true"==o.attr("aria-haspopup")&&1==this.bChildOpen&&(o.addClass("hover"),(l=o.children("ul").first()).attr("aria-hidden","false"));else if("true"==e.attr("aria-haspopup"))e.addClass("hover"),o=(l=e.children("ul").first()).children("li").first(),l.attr("aria-hidden","false"),this.bChildOpen=!0;else{if(1==this.vmenu)return e;var a=null,r=null;if((a=e.parentsUntil("div").filter("ul").not("#menubar")).attr("aria-hidden","true"),a.find("li").removeClass("menu-focus hover"),a.last().parent().removeClass("menu-focus hover"),r=a.last().parent(),s=this.$rootItems.index(r),"true"==(o=s<this.$rootItems.length-1?r.next():this.$rootItems.first()).attr("aria-haspopup")&&o.children("ul").length>0){o.addClass("hover");var l=o.children("ul").first();o=l.children("li").first(),l.attr("aria-hidden","false"),this.bChildOpen=!0}}return o},menubar$1.prototype.moveToPrevious=function(e){var t=e.parent(),i=t.children("li"),n=(i.length,i.index(e)),s=null;if(t.is("#menubar"))s=n>0?e.prev():i.last(),"true"==e.attr("aria-haspopup")&&"false"==(r=e.removeClass("hover").children("ul").first()).attr("aria-hidden")&&(r.attr("aria-hidden","true"),this.bChildOpen=!0),e.removeClass("menu-focus hover"),"true"==s.attr("aria-haspopup")&&1==this.bChildOpen&&(s.addClass("hover"),(r=s.children("ul").first()).attr("aria-hidden","false"));else{var o=t.parent(),a=o.parent();if(1!=this.vmenu&&a.is("#menubar")){if(t.attr("aria-hidden","true"),e.removeClass("menu-focus hover"),o.removeClass("menu-focus hover"),n=this.$rootItems.index(o),(s=n>0?o.prev():this.$rootItems.last()).addClass("menu-focus hover"),"true"==s.attr("aria-haspopup")){var r=null;s.children("ul").length>0&&((r=s.addClass("hover").children("ul").first()).attr("aria-hidden","false"),this.bChildOpen=!0,s=r.children("li").first())}}else s=t.parent(),t.attr("aria-hidden","true"),e.removeClass("menu-focus hover"),s.removeClass("hover"),1==this.vmenu&&(this.bChildOpen=!1)}return s},menubar$1.prototype.moveDown=function(e,t){var i=e.parent(),n=i.children("li").not(".separator"),s=n.length,o=n.index(e),a=null,r=null;if(i.is("#menubar"))return"true"!=e.attr("aria-haspopup")?e:(r=e.addClass("hover").children("ul").first(),a=r.children("li").first(),r.attr("aria-hidden","false"),this.bChildOpen=!0,a);if(t){var l=!1,c=o+1;for(c==s&&(c=0);c!=o;){if(n.eq(c).html().charAt(0).toLowerCase()==t){l=!0;break}(c+=1)==s&&(c=0)}return 1==l?(a=n.eq(c),e.removeClass("menu-focus menu-focus-checked"),a):e}return a=s-1>o?n.eq(o+1):n.first(),e.removeClass("menu-focus menu-focus-checked"),a},menubar$1.prototype.moveUp=function(e){var t=e.parent(),i=t.children("li").not(".separator"),n=(i.length,i.index(e)),s=null;return t.is("#menubar")?e:(s=n>0?i.eq(n-1):i.last(),e.removeClass("menu-focus menu-focus-checked"),s)},menubar$1.prototype.handleKeyPress=function(e,t){if(t.altKey||t.ctrlKey||t.shiftKey)return!0;switch(t.keyCode){case this.keys.tab:return!0;case this.keys.esc:case this.keys.enter:case this.keys.space:case this.keys.up:case this.keys.down:case this.keys.left:case this.keys.right:return t.stopPropagation(),!1;default:var i=String.fromCharCode(t.which);return this.$activeItem=this.moveDown(e,i),this.$activeItem.focus(),t.stopPropagation(),!1}return!0},menubar$1.prototype.handleDocumentClick=function(e){return this.$id.find("ul").not("#menubar").attr("aria-hidden","true"),this.$allItems.removeClass("menu-focus menu-focus-checked hover"),this.$activeItem=null,!0},menubar$1.prototype.processMenuChoice=function(e){var t=(e.parent().attr("id"),e.attr("id"),e.data("href"));null!=t&&(t.toLowerCase().indexOf("legacy.")>0?window.open(t,"_blank").focus():window.location.href=t);var i=e.find("a");null!=i&&(window.location.href=i[0].href)},window.menubar=menubar$1,function(){var e,t=$("body"),i=$(window),n={$toggle:$('[data-toggle="nav"]'),$target:null,revers:!1,lastItem:null,items:null,vPort:["screen-sm"],isMobile:!1,init:function(){new menubar("menubar",!1);$(".main-nav").each(function(e){n.$target=$(this),n.check.viewPort(e),n.responsive(e)}),n.items=$(".main-nav").find("a, button, input"),n.control(),n.addtionalControl()},responsive:function(e){$(document).on(n.vPort[e]+"-on",function(){n.isMobile=!0,$(".main-nav").each(function(){$(this).find(".drawer__nav").data("ctrl-res")==n.vPort[e]&&($(this).addClass("menu--res"),n.on.rebuild.responsive())})}),$(document).on(n.vPort[e]+"-off",function(){n.isMobile=!1,$(".main-nav").each(function(){$(this).find(".drawer__nav").data("ctrl-res")==n.vPort[e]&&($(this).removeClass("menu--res"),n.on.rebuild.original())})})},addtionalControl:function(){},control:function(){t.on("click",'[data-toggle="nav"]',function(e){e.preventDefault(),n.$toggle=$(this),n.$target=$("#"+n.$toggle.data("target")),n.items=n.$target.find("a, button, input"),n.items.each(function(e){e===n.items.length-1&&(n.lastItem=$(this))}),n.on.show()}),t.on("click",'.js--open[data-toggle="nav"]',function(e){e.preventDefault(),n.on.hide()}),t.on("click",function(e){$("a.dropdown__toggle.hover").removeClass("hover"),$(e.target).hasClass("icon-arrow_r")||$(e.target).parents(".main-nav.menu--res").length||!$('.lock-screen[data-active="menu"]').length||n.on.hide()}),t.on("click",".main-nav a",function(e){"#"==$(this).attr("href")&&e.preventDefault()}),t.on("click",'[data-toggle="dropdown"]',function(t){t.preventDefault(),e=$(this),n.on.nested(t)}),t.on("click",".menu-header i.icon-arrow_r",function(e){e.preventDefault(),n.isMobile&&n.on.hideNested()}),t.on("keydown",'.drawer__nav, [data-toggle="nav"]',function(e){n.isMobile&&9===(e.keyCode||e.which)&&(n.revers?n.on.tabRevers():n.on.tab())}),t.on("click",function(e){$("a.dropdown__toggle.hover").removeClass("hover")}),i.on("keyup",function(e){n.revers=!1,e.shiftKey&&9===e.keyCode&&(n.revers=!0),n.isMobile||(9===(e.keyCode||e.which)&&(n.revers?n.on.tabReversDesktop(e):n.on.tabDesktop(e)),27===(e.keyCode||e.which)&&n.on.escDesktop(e))})},on:{show:function(){void 0!==UX.controller&&UX.controller.check(),t.addClass("lock-screen").attr("data-active","menu"),n.$toggle.addClass("js--open"),n.$target.closest(".main-nav").css("top",i.scrollTop()),$("header").css("top",i.scrollTop()),$(".coolBar--res").removeClass("trans").css("top",i.scrollTop()+$("header").height()),$(".loi__banner.loi--res").css("top",i.scrollTop()+$("header").height()),n.$target.attr("style","display: block !important"),n.$toggle.focus(),n.on.showAdditional()},showAdditional:function(){},showNested:function(){e.next(".dropdown__menu").toggleClass("sub-menu__opened"),e.parent().toggleClass("menu-parent__opened"),e.find("i").toggleClass("opposite-arrow"),e.parent().siblings("li").toggleClass("prev-items"),e.toggleClass("prev-items");var t=e.html();$(".menu-header").length&&$(".menu-header").html(t)},hideNested:function(){var t,i=$(".menu-header");void 0!==e?(t=e.parent().parent(),e=t.parent().find(".dropdown__toggle"),t.find(".sub-menu__opened").removeClass("sub-menu__opened"),t.find(".menu-parent__opened").removeClass("menu-parent__opened"),t.find(".prev-items").removeClass("prev-items"),t.hasClass("sub-menu__opened")?i.find("span").html(e.find("span").html()):i.html("HOME")):e=i},hide:function(){n.$toggle.removeClass("js--open"),$(".main-nav, header").css("top",0),$(".coolBar--res").addClass("trans").css("top",$("header").height()),$(".loi__banner.loi--res").css("top",$("header").height()),t.removeAttr("data-active").removeClass("lock-screen")},escape:function(){n.on.hide(),n.$toggle.focus()},tab:function(){n.$toggle.off(),n.lastItem.off().on("focusout",function(){n.$toggle.focus()})},tabRevers:function(){n.lastItem.off(),n.$toggle.off().on("focusout",function(){n.lastItem.focus()})},tabDesktop:function(e){$(e.target).hasClass("dropdown__toggle")?(0==$(e.target).closest(".hover").length&&$(".dropdown__toggle").removeClass("hover"),$(e.target).closest("a").addClass("hover")):$(e.target).closest("ul").find(".hover").each(function(){$(this).removeClass("hover")})},tabReversDesktop:function(e){$(e.target).hasClass("dropdown__toggle")?(0==$(e.target).closest(".hover").length&&$(".dropdown__toggle").removeClass("hover"),$(e.target).closest("a").addClass("hover")):0==$(e.target).closest(".hubpage-menu").length&&0==$(e.target).closest(".main-nav").length&&$(".dropdown__toggle").removeClass("hover")},escDesktop:function(e){$(e.target).closest(".dropdown__toggle").removeClass("hover")},rebuild:{responsive:function(){n.on.hide()},original:function(){n.on.hide(),n.$target.show()}},nested:function(e){n.isMobile&&n.on.showNested()}},check:{viewPort:function(e){n.$target.find(".drawer__nav").attr("data-ctrl-res")&&(n.vPort[e]=n.$target.find(".drawer__nav").attr("data-ctrl-res"))}}};UX.menu=n}(),function(){$(window),$("body");var e={sections:null,holder:$(".coolBar--sections .coolBar__drop"),vPort:"screen-sm",isMobile:!1,coolbarElement:$(".coolBar"),topPostition:0,headerHeight:$("header").outerHeight(),lock:!0,init:function(){e.get.sections(),e.fill.sections(),e.control(),e.addtionalControls()},control:function(){$(".journal-home").length&&(e.vPort="screen-md"),$(document).on(e.vPort+"-on",function(){$(".coolBar").addClass("coolBar--res"),$("article").length>0?$("article").addClass("article--res").removeClass("article--desk"):$("main .container").length>0&&$("main .container").addClass("article--res").removeClass("article--desk"),$(".coolBar--res").addClass("trans").css("top",$("header").outerHeight()),e.isMobile=!0}),$(document).on(e.vPort+"-off",function(){$(".coolBar").removeClass("coolBar--res"),$("article").length>0?$("article").removeClass("article--res").addClass("article--desk"):$("main .container").length>0&&$("main .container").removeClass("article--res").addClass("article--desk"),e.isMobile=!1,void 0!==UX.controller&&UX.controller.check()})},addtionalControls:function(){},get:{sections:function(){e.sections=$(".article__content .section__title")}},fill:{sections:function(){if($(".coolBar--sections").length&&e.sections.length>1){$(".coolBar--sections").removeClass("hidden");var t=$('<ul class="rlist w-slide--list"/>').appendTo(e.holder);e.sections.each(function(){var e=$(this),i=$("<li/>").attr("role","menuitem").appendTo(t),n=$('<a class="w-slide__hide"/>').attr("href","#"+e.attr("id")).appendTo(i);$("<span/>").text($(this).text()).appendTo(n)})}else $(".coolBar--sections").remove()}}};UX.coolbar=e}(),function(){var e=$(window),t=($("body"),{sections:null,vPort:"screen-sm",isMobile:!1,stickybarElement:$(".stickybar"),topPostition:0,headerHeight:$("header, .pageHeader").height(),lock:!1,init:function(){t.control(),t.sticky.init()},control:function(){$(document).on(t.vPort+"-on",function(){t.isMobile=!0}),$(document).on(t.vPort+"-off",function(){t.isMobile=!1})},sticky:{init:function(){var i=t.stickybarElement.offset();t.topPostition=i.top,t.sticky.get.width(),t.sticky.check(t.topPostition),e.scroll(function(){t.topPostition=t.stickybarElement.offset().top,t.sticky.check(t.topPostition),t.sticky.get.width()}),e.on("smartResize, load, resize",function(){t.headerHeight=$("header, .pageHeader").height(),t.sticky.get.width()})},check:function(e){var i=window.pageYOffset;t.headerHeight=$("header, .pageHeader").height(),$(".scrollThenFix").length&&(t.headerHeight=$(".scrollThenFix").height()),$(".auto-hide-secondary-bar.slide-up").length&&(t.headerHeight=$(".auto-hide-secondary-bar").height()),i+t.headerHeight>=e&&!t.isMobile?t.lock||(t.stickybarElement.addClass("stickybar--sticky"),t.lock=!0):(t.lock=!1,t.stickybarElement.removeClass("stickybar--sticky"))},get:{width:function(){t.isMobile?t.stickybarElement.find(".stickybar__wrapper").css({width:"auto",top:"auto"}):t.stickybarElement.find(".stickybar__wrapper").css({width:t.stickybarElement.width(),top:t.headerHeight})}}}});UX.stickybar=t}(),function(){var e=$(window),t=!1,i=$("body"),n={$controllers:$("[data-db-target-for]"),$controller:null,$target:null,$targets:null,$parent:null,$parents:null,escape:27,$container:$(".container"),switchVal:null,$section:$(".dropBlock__holder"),vPort:"screen-sm",init:function(){n.control()},control:function(){i.on("click","[data-db-target-for]",function(e){e.preventDefault();var i=$(this).is("[data-slide-target]");void 0!==i&&!1!==i&&t||(n.$controller=$(this),n.find.target())}),i.on("click",".coolBar:not(.loi__banner) [data-db-target-of] a:not([data-slide-target])",function(e){n.on.hide()}),i.on("click",".js--open[data-db-target-for]",function(e){n.on.hide()}),e.resize(function(){null!=n.$parent&&n.find.dimensions()}),$(document).on(n.vPort+"-on",function(){t=!0}),$(document).on(n.vPort+"-off",function(){t=!1})},on:{show:function(){n.$controller.closest(".dropBlock__holder").length||void 0!==UX.controller&&UX.controller.check(),n.$target&&(n.$target.addClass("js--open"),n.$controller.addClass("js--open"),i.attr("data-active","dropBlock"),n.$target.closest("[class*='sticko']").addClass("js--open"),n.switch.icon(),setTimeout(function(){n.setFocus()},250),$(function(){$(document).on("keydown",".quick-search :tabbable:not([readonly])",function(e){var t=$(this).closest(".quick-search"),i=t.find(":tabbable:not([readonly])").first(),s=t.find(":tabbable:not([readonly])").last();i.is(e.target)&&1==e.shiftKey&&(e.preventDefault(),s.focus()),s.is(e.target)&&0==e.shiftKey&&(13==e.which&&n.on.hide(),e.preventDefault(),i.focus())})}),n.$target.find(".loi").length>0&&n.$target.find(".loi__list").each(function(){UX.loi.on.recalculate($(this))}))},hide:function(e){if(n.$targets){var t=!0;n.$targets.each(function(){var i=$(this).attr("data-db-target-of"),s=e&&$(this).is($(e.target).closest(".accordion-tabbed__content"));n.$controller.closest($(this)).length>0||!$(this).hasClass("js--open")||(e&&s?t=!1:($(this).removeClass("js--open"),$("[data-db-target-for="+i+"]").removeClass("js--open")))}),t&&(n.$controllers=$("[data-db-target-for]"),"dropBlock"==i.attr("data-active")&&(i.removeAttr("data-active"),$("body, html").removeClass("lock-screen")),n.$target.closest("[class*='sticko']").removeClass("js--open"),n.switch.back())}},escape:function(){null!=n.$target&&n.on.hide()}},setFocus:function(){$(".header__quick-menu .quick-search-pane__anywhere .ui-autocomplete-input").focus()},find:{target:function(){$("[data-db-target-of]").length&&(n.$targets=$("[data-db-target-of]"),n.$target=$("[data-db-target-of="+n.$controller.attr("data-db-target-for")+"]"),n.find.parent(),n.on.show())},parent:function(){n.$parent=null,$("[data-db-parent-of]").length&&(n.$parents=$("[data-db-parent-of]"),$("[data-db-parent-of="+n.$controller.attr("data-db-target-for")+"]").length&&(n.$parent=$("[data-db-parent-of="+n.$controller.attr("data-db-target-for")+"]")),null!=n.$parent&&(n.find.dimensions(),n.find.ifContaind()))},ifContaind:function(){n.$parent.find(".container").length&&!n.$target.find(".container").length&&n.$target.wrapInner("<div class='container'></div>")},dimensions:function(){var e=n.$parent.outerHeight(),i=n.$parent.offset(),s=i.left,o=n.$parent.innerWidth(),a={};n.$container=$(".container");var r=i;n.$container.length&&(r=n.$container.offset());var l=r.left+n.$container.width(),c=o+s;n.$parent.find(".scrollThenFix").length&&(e=n.$parent.find(".scrollThenFix").outerHeight()),n.$parent.innerWidth()==n.$controller.innerWidth()&&(o="auto",t&&(o="100%")),a=c>l?{top:e,right:"0px",width:o}:{top:e,left:"0px",width:o},n.$target.css(a)}},switch:{icon:function(){switch(n.switchVal=n.$controller.attr("data-db-switch"),n.switchVal){case"none":break;case"rotate":n.$controller.find("i").addClass("js--rotated");break;default:n.$controller.find("i").addClass(n.switchVal)}},back:function(){n.$controllers.each(function(){var e=$(this).attr("data-db-switch");switch(e){case"none":break;case"rotate":$(this).find("i").removeClass("js--rotated");break;default:$(this).find("i").removeClass(e)}})}}};UX.dropBlock=n}(),function(){var e={url:location.href,init:function(){e.remove.all(),e.setUrl.clearAll()},remove:{one:function(t){var i=e.url.split("?")[0],n=-1!==e.url.indexOf("?")?e.url.split("?")[1]:"",s={};n&&(n.split("&").map(function(e){var t=e.split("=");s[t[0]]=t[1]}),s[t]&&delete s[t],n=Object.keys(s).map(function(e){return e+"="+s[e]}).join("&"),e.url=i+"?"+n)},all:function(){e.remove.one("Year"),e.remove.one("ContribStored"),e.remove.one("ContribAuthorStored"),e.remove.one("SeriesKey"),e.remove.one("ContentItemType"),e.remove.one("KeywordStored"),e.remove.one("alphabetRange"),e.remove.one("PubType"),e.remove.one("Ppub"),e.remove.one("ConceptID"),e.remove.one("publication%5B%5D"),e.remove.one("AfterMonth"),e.remove.one("AfterYear"),e.remove.one("BeforeMonth"),e.remove.one("BeforeYear")}},setUrl:{clearAll:function(){$(".search__filters__ctrl__reset").attr("href",e.url)}}};UX.appliedFacets=e}(),function(e){"use strict";function t(t,n){return this.each(function(){var s=e(this),o=s.data("bs.modal"),a=e.extend({},i.DEFAULTS,s.data(),"object"==typeof t&&t);o||s.data("bs.modal",o=new i(this,a)),"string"==typeof t?o[t](n):a.show&&o.show(n)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var n=this,s=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(s),this.isShown||s.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var s=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),s&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});s?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(o)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var n=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&s;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+s).insertAfter(this.$element),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=e(this),s=n.attr("href"),o=e(n.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(s)&&s},o.data(),n.data());n.is("a")&&i.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(o,a,this)})}(jQuery),function(){var e=$("body"),t=$(window),i={$toggle:$('[data-toggle="modal"]'),$target:null,revers:!1,lastItem:null,items:null,$close:null,init:function(){i.$target=$(i.$toggle.data("target")),i.control()},control:function(){e.on("click",'[data-toggle="modal"]',function(e){e.preventDefault(),i.$toggle=$(this),i.$target=$(i.$toggle.data("target")),i.$close=i.$target.find(".close"),i.items=i.$target.find("a, button, input"),i.items.each(function(e){e===i.items.length-1&&(i.lastItem=$(this))}),i.on.show()}),e.on("click",".modal",function(e){var t=$(e.target);!t.is(".modal__dialog")&&!t.closest(".modal__dialog").length>0&&i.on.hide()}),e.on("click",'[data-dismiss="modal"]',function(e){i.on.hide()}),$(".modal").on("keydown",function(e){16===e.keyCode&&(i.revers=!0),9===(e.keyCode||e.which)&&(i.revers?i.on.tabRevers():i.on.tab())}),t.on("keyup",function(e){16===e.keyCode&&(i.revers=!1)})},on:{show:function(t){void 0!==UX.controller&&UX.controller.check(),setTimeout(function(){e.attr("data-active","modal");var t=i.$target.find("[autofocus]");t.length?t.focus():i.$close.focus()},250),i.$target.closest("[class*='sticko']").addClass("js--open")},hide:function(){e.removeAttr("data-active"),i.$target.closest("[class*='sticko']").removeClass("js--open")},tab:function(){i.$close.off(),i.lastItem.on("focusout",function(){i.$close.focus()})},tabRevers:function(){i.lastItem.off(),i.$close.on("focusout",function(){i.lastItem.focus()})}}};UX.modal=i}(),function(e,t,i,n){function s(t,i){this.settings=null,this.options=e.extend({},s.Defaults,i),this.$element=e(t),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},e.each(["onResize","onThrottledResize"],e.proxy(function(t,i){this._handlers[i]=e.proxy(this[i],this)},this)),e.each(s.Plugins,e.proxy(function(e,t){this._plugins[e.charAt(0).toLowerCase()+e.slice(1)]=new t(this)},this)),e.each(s.Workers,e.proxy(function(t,i){this._pipe.push({filter:i.filter,run:e.proxy(i.run,this)})},this)),this.setup(),this.initialize()}s.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},s.Width={Default:"default",Inner:"inner",Outer:"outer"},s.Type={Event:"event",State:"state"},s.Plugins={},s.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(e){e.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(e){var t=this.settings.margin||"",i=!this.settings.autoWidth,n=this.settings.rtl,s={width:"auto","margin-left":n?t:"","margin-right":n?"":t};!i&&this.$stage.children().css(s),e.css=s}},{filter:["width","items","settings"],run:function(e){var t=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,n=this._items.length,s=!this.settings.autoWidth,o=[];for(e.items={merge:!1,width:t};n--;)i=this._mergers[n],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,e.items.merge=i>1||e.items.merge,o[n]=s?t*i:this._items[n].width();this._widths=o}},{filter:["items","settings"],run:function(){var t=[],i=this._items,n=this.settings,s=Math.max(2*n.items,4),o=2*Math.ceil(i.length/2),a=n.loop&&i.length?n.rewind?s:Math.max(s,o):0,r="",l="";for(a/=2;a--;)t.push(this.normalize(t.length/2,!0)),r+=i[t[t.length-1]][0].outerHTML,t.push(this.normalize(i.length-1-(t.length-1)/2,!0)),l=i[t[t.length-1]][0].outerHTML+l;this._clones=t,e(r).addClass("cloned").appendTo(this.$stage),e(l).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var e=this.settings.rtl?1:-1,t=this._clones.length+this._items.length,i=-1,n=0,s=0,o=[];++i<t;)n=o[i-1]||0,s=this._widths[this.relative(i)]+this.settings.margin,o.push(n+s*e);this._coordinates=o}},{filter:["width","items","settings"],run:function(){var e=this.settings.stagePadding,t=this._coordinates,i={width:Math.ceil(Math.abs(t[t.length-1]))+2*e,"padding-left":e||"","padding-right":e||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(e){var t=this._coordinates.length,i=!this.settings.autoWidth,n=this.$stage.children();if(i&&e.items.merge)for(;t--;)e.css.width=this._widths[this.relative(t)],n.eq(t).css(e.css);else i&&(e.css.width=e.items.width,n.css(e.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(e){e.current=e.current?this.$stage.children().index(e.current):0,e.current=Math.max(this.minimum(),Math.min(this.maximum(),e.current)),this.reset(e.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var e,t,i,n,s=this.settings.rtl?1:-1,o=2*this.settings.stagePadding,a=this.coordinates(this.current())+o,r=a+this.width()*s,l=[];for(i=0,n=this._coordinates.length;n>i;i++)e=this._coordinates[i-1]||0,t=Math.abs(this._coordinates[i])+o*s,(this.op(e,"<=",a)&&this.op(e,">",r)||this.op(t,"<",a)&&this.op(t,">",r))&&l.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],s.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var t,i,s;t=this.$element.find("img"),i=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:n,s=this.$element.children(i).width(),t.length&&0>=s&&this.preloadAutoWidthImages(t)}this.$element.addClass(this.options.loadingClass),this.$stage=e("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},s.prototype.setup=function(){var t=this.viewport(),i=this.options.responsive,n=-1,s=null;i?(e.each(i,function(e){t>=e&&e>n&&(n=Number(e))}),"function"==typeof(s=e.extend({},this.options,i[n])).stagePadding&&(s.stagePadding=s.stagePadding()),delete s.responsive,s.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+n))):s=e.extend({},this.options),this.trigger("change",{property:{name:"settings",value:s}}),this._breakpoint=n,this.settings=s,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},s.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},s.prototype.prepare=function(t){var i=this.trigger("prepare",{content:t});return i.data||(i.data=e("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:i.data}),i.data},s.prototype.update=function(){for(var t=0,i=this._pipe.length,n=e.proxy(function(e){return this[e]},this._invalidated),s={};i>t;)(this._invalidated.all||e.grep(this._pipe[t].filter,n).length>0)&&this._pipe[t].run(s),t++;this._invalidated={},!this.is("valid")&&this.enter("valid")},s.prototype.width=function(e){switch(e=e||s.Width.Default){case s.Width.Inner:case s.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},s.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},s.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer),this.resizeTimer=t.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},s.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},s.prototype.registerEventHandlers=function(){e.support.transition&&this.$stage.on(e.support.transition.end+".owl.core",e.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(t,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",e.proxy(this.onDragEnd,this)))},s.prototype.onDragStart=function(t){var n=null;3!==t.which&&(e.support.transform?(n=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),n={x:n[16===n.length?12:4],y:n[16===n.length?13:5]}):(n=this.$stage.position(),n={x:this.settings.rtl?n.left+this.$stage.width()-this.width()+this.settings.margin:n.left,y:n.top}),this.is("animating")&&(e.support.transform?this.animate(n.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=e(t.target),this._drag.stage.start=n,this._drag.stage.current=n,this._drag.pointer=this.pointer(t),e(i).on("mouseup.owl.core touchend.owl.core",e.proxy(this.onDragEnd,this)),e(i).one("mousemove.owl.core touchmove.owl.core",e.proxy(function(t){var n=this.difference(this._drag.pointer,this.pointer(t));e(i).on("mousemove.owl.core touchmove.owl.core",e.proxy(this.onDragMove,this)),Math.abs(n.x)<Math.abs(n.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},s.prototype.onDragMove=function(e){var t=null,i=null,n=null,s=this.difference(this._drag.pointer,this.pointer(e)),o=this.difference(this._drag.stage.start,s);this.is("dragging")&&(e.preventDefault(),this.settings.loop?(t=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-t,o.x=((o.x-t)%i+i)%i+t):(t=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),n=this.settings.pullDrag?-1*s.x/5:0,o.x=Math.max(Math.min(o.x,t+n),i+n)),this._drag.stage.current=o,this.animate(o.x))},s.prototype.onDragEnd=function(t){var n=this.difference(this._drag.pointer,this.pointer(t)),s=this._drag.stage.current,o=n.x>0^this.settings.rtl?"left":"right";e(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==n.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(s.x,0!==n.x?o:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=o,(Math.abs(n.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},s.prototype.closest=function(t,i){var n=-1,s=this.width(),o=this.coordinates();return this.settings.freeDrag||e.each(o,e.proxy(function(e,a){return"left"===i&&t>a-30&&a+30>t?n=e:"right"===i&&t>a-s-30&&a-s+30>t?n=e+1:this.op(t,"<",a)&&this.op(t,">",o[e+1]||a-s)&&(n="left"===i?e+1:e),-1===n},this)),this.settings.loop||(this.op(t,">",o[this.minimum()])?n=t=this.minimum():this.op(t,"<",o[this.maximum()])&&(n=t=this.maximum())),n},s.prototype.animate=function(t){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),e.support.transform3d&&e.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"}):i?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,e.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})},s.prototype.is=function(e){return this._states.current[e]&&this._states.current[e]>0},s.prototype.current=function(e){if(e===n)return this._current;if(0===this._items.length)return n;if(e=this.normalize(e),this._current!==e){var t=this.trigger("change",{property:{name:"position",value:e}});t.data!==n&&(e=this.normalize(t.data)),this._current=e,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},s.prototype.invalidate=function(t){return"string"===e.type(t)&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),e.map(this._invalidated,function(e,t){return t})},s.prototype.reset=function(e){(e=this.normalize(e))!==n&&(this._speed=0,this._current=e,this.suppress(["translate","translated"]),this.animate(this.coordinates(e)),this.release(["translate","translated"]))},s.prototype.normalize=function(e,t){var i=this._items.length,s=t?0:this._clones.length;return!this.isNumeric(e)||1>i?e=n:(0>e||e>=i+s)&&(e=((e-s/2)%i+i)%i+s/2),e},s.prototype.relative=function(e){return e-=this._clones.length/2,this.normalize(e,!0)},s.prototype.maximum=function(e){var t,i,n,s=this.settings,o=this._coordinates.length;if(s.loop)o=this._clones.length/2+this._items.length-1;else if(s.autoWidth||s.merge){for(t=this._items.length,i=this._items[--t].width(),n=this.$element.width();t--&&!((i+=this._items[t].width()+this.settings.margin)>n););o=t+1}else o=s.center?this._items.length-1:this._items.length-s.items;return e&&(o-=this._clones.length/2),Math.max(o,0)},s.prototype.minimum=function(e){return e?0:this._clones.length/2},s.prototype.items=function(e){return e===n?this._items.slice():(e=this.normalize(e,!0),this._items[e])},s.prototype.mergers=function(e){return e===n?this._mergers.slice():(e=this.normalize(e,!0),this._mergers[e])},s.prototype.clones=function(t){var i=this._clones.length/2,s=i+this._items.length,o=function(e){return e%2==0?s+e/2:i-(e+1)/2};return t===n?e.map(this._clones,function(e,t){return o(t)}):e.map(this._clones,function(e,i){return e===t?o(i):null})},s.prototype.speed=function(e){return e!==n&&(this._speed=e),this._speed},s.prototype.coordinates=function(t){var i,s=1,o=t-1;return t===n?e.map(this._coordinates,e.proxy(function(e,t){return this.coordinates(t)},this)):(this.settings.center?(this.settings.rtl&&(s=-1,o=t+1),i=this._coordinates[t],i+=(this.width()-i+(this._coordinates[o]||0))/2*s):i=this._coordinates[o]||0,i=Math.ceil(i))},s.prototype.duration=function(e,t,i){return 0===i?0:Math.min(Math.max(Math.abs(t-e),1),6)*Math.abs(i||this.settings.smartSpeed)},s.prototype.to=function(e,t){var i=this.current(),n=null,s=e-this.relative(i),o=(s>0)-(0>s),a=this._items.length,r=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(s)>a/2&&(s+=-1*o*a),e=i+s,(n=((e-r)%a+a)%a+r)!==e&&l>=n-s&&n-s>0&&(i=n-s,e=n,this.reset(i))):this.settings.rewind?(l+=1,e=(e%l+l)%l):e=Math.max(r,Math.min(l,e)),this.speed(this.duration(i,e,t)),this.current(e),this.$element.is(":visible")&&this.update()},s.prototype.next=function(e){e=e||!1,this.to(this.relative(this.current())+1,e)},s.prototype.prev=function(e){e=e||!1,this.to(this.relative(this.current())-1,e)},s.prototype.onTransitionEnd=function(e){return(e===n||(e.stopPropagation(),(e.target||e.srcElement||e.originalTarget)===this.$stage.get(0)))&&(this.leave("animating"),void this.trigger("translated"))},s.prototype.viewport=function(){var n;if(this.options.responsiveBaseElement!==t)n=e(this.options.responsiveBaseElement).width();else if(t.innerWidth)n=t.innerWidth;else{if(!i.documentElement||!i.documentElement.clientWidth)throw"Can not detect viewport width.";n=i.documentElement.clientWidth}return n},s.prototype.replace=function(t){this.$stage.empty(),this._items=[],t&&(t=t instanceof jQuery?t:e(t)),this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector)),t.filter(function(){return 1===this.nodeType}).each(e.proxy(function(e,t){t=this.prepare(t),this.$stage.append(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},s.prototype.add=function(t,i){var s=this.relative(this._current);i=i===n?this._items.length:this.normalize(i,!0),t=t instanceof jQuery?t:e(t),this.trigger("add",{content:t,position:i}),t=this.prepare(t),0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[i-1].after(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[i].before(t),this._items.splice(i,0,t),this._mergers.splice(i,0,1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[s]&&this.reset(this._items[s].index()),this.invalidate("items"),this.trigger("added",{content:t,position:i})},s.prototype.remove=function(e){(e=this.normalize(e,!0))!==n&&(this.trigger("remove",{content:this._items[e],position:e}),this._items[e].remove(),this._items.splice(e,1),this._mergers.splice(e,1),this.invalidate("items"),this.trigger("removed",{content:null,position:e}))},s.prototype.preloadAutoWidthImages=function(t){t.each(e.proxy(function(t,i){this.enter("pre-loading"),i=e(i),e(new Image).one("load",e.proxy(function(e){i.attr("src",e.target.src),i.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))},this))},s.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),e(i).off(".owl.core"),!1!==this.settings.responsive&&(t.clearTimeout(this.resizeTimer),this.off(t,"resize",this._handlers.onThrottledResize));for(var n in this._plugins)this._plugins[n].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},s.prototype.op=function(e,t,i){var n=this.settings.rtl;switch(t){case"<":return n?e>i:i>e;case">":return n?i>e:e>i;case">=":return n?i>=e:e>=i;case"<=":return n?e>=i:i>=e}},s.prototype.on=function(e,t,i,n){e.addEventListener?e.addEventListener(t,i,n):e.attachEvent&&e.attachEvent("on"+t,i)},s.prototype.off=function(e,t,i,n){e.removeEventListener?e.removeEventListener(t,i,n):e.detachEvent&&e.detachEvent("on"+t,i)},s.prototype.trigger=function(t,i,n,o,a){var r={item:{count:this._items.length,index:this.current()}},l=e.camelCase(e.grep(["on",t,n],function(e){return e}).join("-").toLowerCase()),c=e.Event([t,"owl",n||"carousel"].join(".").toLowerCase(),e.extend({relatedTarget:this},r,i));return this._supress[t]||(e.each(this._plugins,function(e,t){t.onTrigger&&t.onTrigger(c)}),this.register({type:s.Type.Event,name:t}),this.$element.trigger(c),this.settings&&"function"==typeof this.settings[l]&&this.settings[l].call(this,c)),c},s.prototype.enter=function(t){e.each([t].concat(this._states.tags[t]||[]),e.proxy(function(e,t){this._states.current[t]===n&&(this._states.current[t]=0),this._states.current[t]++},this))},s.prototype.leave=function(t){e.each([t].concat(this._states.tags[t]||[]),e.proxy(function(e,t){this._states.current[t]--},this))},s.prototype.register=function(t){if(t.type===s.Type.Event){if(e.event.special[t.name]||(e.event.special[t.name]={}),!e.event.special[t.name].owl){var i=e.event.special[t.name]._default;e.event.special[t.name]._default=function(e){return!i||!i.apply||e.namespace&&-1!==e.namespace.indexOf("owl")?e.namespace&&e.namespace.indexOf("owl")>-1:i.apply(this,arguments)},e.event.special[t.name].owl=!0}}else t.type===s.Type.State&&(this._states.tags[t.name]?this._states.tags[t.name]=this._states.tags[t.name].concat(t.tags):this._states.tags[t.name]=t.tags,this._states.tags[t.name]=e.grep(this._states.tags[t.name],e.proxy(function(i,n){return e.inArray(i,this._states.tags[t.name])===n},this)))},s.prototype.suppress=function(t){e.each(t,e.proxy(function(e,t){this._supress[t]=!0},this))},s.prototype.release=function(t){e.each(t,e.proxy(function(e,t){delete this._supress[t]},this))},s.prototype.pointer=function(e){var i={x:null,y:null};return e=e.originalEvent||e||t.event,(e=e.touches&&e.touches.length?e.touches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e).pageX?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i},s.prototype.isNumeric=function(e){return!isNaN(parseFloat(e))},s.prototype.difference=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},e.fn.owlCarousel=function(t){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=e(this),o=n.data("owl.carousel");o||(o=new s(this,"object"==typeof t&&t),n.data("owl.carousel",o),e.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(t,i){o.register({type:s.Type.Event,name:i}),o.$element.on(i+".owl.carousel.core",e.proxy(function(e){e.namespace&&e.relatedTarget!==this&&(this.suppress([i]),o[i].apply(this,[].slice.call(arguments,1)),this.release([i]))},o))})),"string"==typeof t&&"_"!==t.charAt(0)&&o[t].apply(o,i)})},e.fn.owlCarousel.Constructor=s}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var s=function(t){this._core=t,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers)};s.Defaults={autoRefresh:!0,autoRefreshInterval:500},s.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=t.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},s.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},s.prototype.destroy=function(){var e,i;t.clearInterval(this._interval);for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=s}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var s=function(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":e.proxy(function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type))for(var i=this._core.settings,n=i.center&&Math.ceil(i.items/2)||i.items,s=i.center&&-1*n||0,o=(t.property&&void 0!==t.property.value?t.property.value:this._core.current())+s,a=this._core.clones().length,r=e.proxy(function(e,t){this.load(t)},this);s++<n;)this.load(a/2+this._core.relative(o)),a&&e.each(this._core.clones(this._core.relative(o)),r),o++},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers)};s.Defaults={lazyLoad:!1},s.prototype.load=function(i){var n=this._core.$stage.children().eq(i),s=n&&n.find(".owl-lazy");!s||e.inArray(n.get(0),this._loaded)>-1||(s.each(e.proxy(function(i,n){var s,o=e(n),a=t.devicePixelRatio>1&&o.attr("data-src-retina")||o.attr("data-src");this._core.trigger("load",{element:o,url:a},"lazy"),o.is("img")?o.one("load.owl.lazy",e.proxy(function(){o.css("opacity",1),this._core.trigger("loaded",{element:o,url:a},"lazy")},this)).attr("src",a):(s=new Image,s.onload=e.proxy(function(){o.css({"background-image":"url("+a+")",opacity:"1"}),this._core.trigger("loaded",{element:o,url:a},"lazy")},this),s.src=a)},this)),this._loaded.push(n.get(0)))},s.prototype.destroy=function(){var e,t;for(e in this.handlers)this._core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Lazy=s}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var s=function(t){this._core=t,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&"position"==e.property.name&&this.update()},this),"loaded.owl.lazy":e.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&e.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers)};s.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},s.prototype.update=function(){var t=this._core._current,i=t+this._core.settings.items,n=this._core.$stage.children().toArray().slice(t,i),s=[],o=0;e.each(n,function(t,i){s.push(e(i).height())}),o=Math.max.apply(null,s),this._core.$stage.parent().height(o).addClass(this._core.settings.autoHeightClass)},s.prototype.destroy=function(){var e,t;for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoHeight=s}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var s=function(t){this._core=t,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":e.proxy(function(e){e.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.video&&this.isInFullScreen()&&e.preventDefault()},this),"refreshed.owl.carousel":e.proxy(function(e){e.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":e.proxy(function(e){e.namespace&&"position"===e.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":e.proxy(function(t){if(t.namespace){var i=e(t.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,e(t.content)))}},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",e.proxy(function(e){this.play(e)},this))};s.Defaults={video:!1,videoHeight:!1,videoWidth:!1},s.prototype.fetch=function(e,t){var i=e.attr("data-vimeo-id")?"vimeo":e.attr("data-vzaar-id")?"vzaar":"youtube",n=e.attr("data-vimeo-id")||e.attr("data-youtube-id")||e.attr("data-vzaar-id"),s=e.attr("data-width")||this._core.settings.videoWidth,o=e.attr("data-height")||this._core.settings.videoHeight,a=e.attr("href");if(!a)throw new Error("Missing video URL.");if((n=a.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)i="youtube";else if(n[3].indexOf("vimeo")>-1)i="vimeo";else{if(!(n[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");i="vzaar"}n=n[6],this._videos[a]={type:i,id:n,width:s,height:o},t.attr("data-video",a),this.thumbnail(e,this._videos[a])},s.prototype.thumbnail=function(t,i){var n,s,o,a=i.width&&i.height?'style="width:'+i.width+"px;height:"+i.height+'px;"':"",r=t.find("img"),l="src",c="",d=this._core.settings,h=function(e){s='<div class="owl-video-play-icon"></div>',n=d.lazyLoad?'<div class="owl-video-tn '+c+'" '+l+'="'+e+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+e+')"></div>',t.after(n),t.after(s)};return t.wrap('<div class="owl-video-wrapper"'+a+"></div>"),this._core.settings.lazyLoad&&(l="data-src",c="owl-lazy"),r.length?(h(r.attr(l)),r.remove(),!1):void("youtube"===i.type?(o="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",h(o)):"vimeo"===i.type?e.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){o=e[0].thumbnail_large,h(o)}}):"vzaar"===i.type&&e.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){o=e.framegrab_url,h(o)}}))},s.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},s.prototype.play=function(t){var i,n=e(t.target).closest("."+this._core.settings.itemClass),s=this._videos[n.attr("data-video")],o=s.width||"100%",a=s.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),n=this._core.items(this._core.relative(n.index())),this._core.reset(n.index()),"youtube"===s.type?i='<iframe width="'+o+'" height="'+a+'" src="//www.youtube.com/embed/'+s.id+"?autoplay=1&v="+s.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===s.type?i='<iframe src="//player.vimeo.com/video/'+s.id+'?autoplay=1" width="'+o+'" height="'+a+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===s.type&&(i='<iframe frameborder="0"height="'+a+'"width="'+o+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+s.id+'/player?autoplay=true"></iframe>'),e('<div class="owl-video-frame">'+i+"</div>").insertAfter(n.find(".owl-video")),this._playing=n.addClass("owl-video-playing"))},s.prototype.isInFullScreen=function(){var t=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return t&&e(t).parent().hasClass("owl-video-frame")},s.prototype.destroy=function(){var e,t;this._core.$element.off("click.owl.video");for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Video=s}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var s=function(t){this.core=t,this.core.options=e.extend({},s.Defaults,this.core.options),this.swapping=!0,this.previous=n,this.next=n,this.handlers={"change.owl.carousel":e.proxy(function(e){e.namespace&&"position"==e.property.name&&(this.previous=this.core.current(),this.next=e.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":e.proxy(function(e){e.namespace&&(this.swapping="translated"==e.type)},this),"translate.owl.carousel":e.proxy(function(e){e.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};s.Defaults={animateOut:!1,animateIn:!1},s.prototype.swap=function(){if(1===this.core.settings.items&&e.support.animation&&e.support.transition){this.core.speed(0);var t,i=e.proxy(this.clear,this),n=this.core.$stage.children().eq(this.previous),s=this.core.$stage.children().eq(this.next),o=this.core.settings.animateIn,a=this.core.settings.animateOut;this.core.current()!==this.previous&&(a&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),n.one(e.support.animation.end,i).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(a)),o&&s.one(e.support.animation.end,i).addClass("animated owl-animated-in").addClass(o))}},s.prototype.clear=function(t){e(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},s.prototype.destroy=function(){var e,t;for(e in this.handlers)this.core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Animate=s}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var s=function(t){this._core=t,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":e.proxy(function(e){e.namespace&&"settings"===e.property.name?this._core.settings.autoplay?this.play():this.stop():e.namespace&&"position"===e.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":e.proxy(function(e,t,i){e.namespace&&this.play(t,i)},this),"stop.owl.autoplay":e.proxy(function(e){e.namespace&&this.stop()},this),"mouseover.owl.autoplay":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":e.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=e.extend({},s.Defaults,this._core.options)};s.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},s.prototype.play=function(e,t){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},s.prototype._getNextTimeout=function(n,s){return this._timeout&&t.clearTimeout(this._timeout),t.setTimeout(e.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||i.hidden||this._core.next(s||this._core.settings.autoplaySpeed)},this),n||this._core.settings.autoplayTimeout)},s.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},s.prototype.stop=function(){this._core.is("rotating")&&(t.clearTimeout(this._timeout),this._core.leave("rotating"))},s.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},s.prototype.destroy=function(){var e,t;this.stop();for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.autoplay=s}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){"use strict";var s=function(t){this._core=t,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":e.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+e(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,0,this._templates.pop())},this),"remove.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,1)},this),"changed.owl.carousel":e.proxy(function(e){e.namespace&&"position"==e.property.name&&this.draw()},this),"initialized.owl.carousel":e.proxy(function(e){e.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":e.proxy(function(e){e.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this.$element.on(this._handlers)};s.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},s.prototype.initialize=function(){var t,i=this._core.settings;this._controls.$relative=(i.navContainer?e(i.navContainer):e("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=e("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",e.proxy(function(e){this.prev(i.navSpeed)},this)),this._controls.$next=e("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",e.proxy(function(e){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[e("<div>").addClass(i.dotClass).append(e("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?e(i.dotsContainer):e("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",e.proxy(function(t){var n=e(t.target).parent().is(this._controls.$absolute)?e(t.target).index():e(t.target).parent().index();t.preventDefault(),this.to(n,i.dotsSpeed)},this));for(t in this._overrides)this._core[t]=e.proxy(this[t],this)},s.prototype.destroy=function(){var e,t,i,n;for(e in this._handlers)this.$element.off(e,this._handlers[e]);for(t in this._controls)this._controls[t].remove();for(n in this.overides)this._core[n]=this._overrides[n];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},s.prototype.update=function(){var e,t,i=this._core.clones().length/2,n=i+this._core.items().length,s=this._core.maximum(!0),o=this._core.settings,a=o.center||o.autoWidth||o.dotsData?1:o.dotsEach||o.items;if("page"!==o.slideBy&&(o.slideBy=Math.min(o.slideBy,o.items)),o.dots||"page"==o.slideBy)for(this._pages=[],e=i,t=0,0;n>e;e++){if(t>=a||0===t){if(this._pages.push({start:Math.min(s,e-i),end:e-i+a-1}),Math.min(s,e-i)===s)break;t=0,0}t+=this._core.mergers(this._core.relative(e))}},s.prototype.draw=function(){var t,i=this._core.settings,n=this._core.items().length<=i.items,s=this._core.relative(this._core.current()),o=i.loop||i.rewind;this._controls.$relative.toggleClass("disabled",!i.nav||n),i.nav&&(this._controls.$previous.toggleClass("disabled",!o&&s<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!o&&s>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!i.dots||n),i.dots&&(t=this._pages.length-this._controls.$absolute.children().length,i.dotsData&&0!==t?this._controls.$absolute.html(this._templates.join("")):t>0?this._controls.$absolute.append(new Array(t+1).join(this._templates[0])):0>t&&this._controls.$absolute.children().slice(t).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(e.inArray(this.current(),this._pages)).addClass("active"))},s.prototype.onTrigger=function(t){var i=this._core.settings;t.page={index:e.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}},s.prototype.current=function(){var t=this._core.relative(this._core.current());return e.grep(this._pages,e.proxy(function(e,i){return e.start<=t&&e.end>=t},this)).pop()},s.prototype.getPosition=function(t){var i,n,s=this._core.settings;return"page"==s.slideBy?(i=e.inArray(this.current(),this._pages),n=this._pages.length,t?++i:--i,i=this._pages[(i%n+n)%n].start):(i=this._core.relative(this._core.current()),n=this._core.items().length,t?i+=s.slideBy:i-=s.slideBy),i},s.prototype.next=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},s.prototype.prev=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},s.prototype.to=function(t,i,n){var s;!n&&this._pages.length?(s=this._pages.length,e.proxy(this._overrides.to,this._core)(this._pages[(t%s+s)%s].start,i)):e.proxy(this._overrides.to,this._core)(t,i)},e.fn.owlCarousel.Constructor.Plugins.Navigation=s}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){"use strict";var s=function(i){this._core=i,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":e.proxy(function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&e(t).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":e.proxy(function(t){if(t.namespace){var i=e(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!i)return;this._hashes[i]=t.content}},this),"changed.owl.carousel":e.proxy(function(i){if(i.namespace&&"position"===i.property.name){var n=this._core.items(this._core.relative(this._core.current())),s=e.map(this._hashes,function(e,t){return e===n?t:null}).join();if(!s||t.location.hash.slice(1)===s)return;t.location.hash=s}},this)},this._core.options=e.extend({},s.Defaults,this._core.options),this.$element.on(this._handlers),e(t).on("hashchange.owl.navigation",e.proxy(function(e){var i=t.location.hash.substring(1),n=this._core.$stage.children(),s=this._hashes[i]&&n.index(this._hashes[i]);void 0!==s&&s!==this._core.current()&&this._core.to(this._core.relative(s),!1,!0)},this))};s.Defaults={URLhashListener:!1},s.prototype.destroy=function(){var i,n;e(t).off("hashchange.owl.navigation");for(i in this._handlers)this._core.$element.off(i,this._handlers[i]);for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},e.fn.owlCarousel.Constructor.Plugins.Hash=s}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){function s(t,i){var s=!1,o=t.charAt(0).toUpperCase()+t.slice(1);return e.each((t+" "+r.join(o+" ")+o).split(" "),function(e,t){return a[t]!==n?(s=!i||t,!1):void 0}),s}function o(e){return s(e,!0)}var a=e("<support>").get(0).style,r="Webkit Moz O ms".split(" "),l={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},c={csstransforms:function(){return!!s("transform")},csstransforms3d:function(){return!!s("perspective")},csstransitions:function(){return!!s("transition")},cssanimations:function(){return!!s("animation")}};c.csstransitions()&&(e.support.transition=new String(o("transition")),e.support.transition.end=l.transition.end[e.support.transition]),c.cssanimations()&&(e.support.animation=new String(o("animation")),e.support.animation.end=l.animation.end[e.support.animation]),c.csstransforms()&&(e.support.transform=new String(o("transform")),e.support.transform3d=c.csstransforms3d())}(window.Zepto||window.jQuery,window,document),function(){var e=$("body"),t=$(window),i=($(document),!1),n={vPort:"screen-xs",init:function(){n.on.build(),n.control()},control:function(){e.on("click",".expandable .table__control__button",function(e){e.preventDefault(),$(this).closest("tr").hasClass("js--expanded")?n.on.hide($(this).closest("tr")):n.on.show($(this).closest("tr"))}),t.on("resize",function(){n.on.build()}),$(document).on(n.vPort+"-on",function(){i=!0}),$(document).on(n.vPort+"-off",function(){i=!1})},on:{build:function(){$(".expandable").each(function(){var e=$(this).find("tr"),t=e.find(".to_hide");e.removeClass("js--expanded"),i?$(t).hide(0):$(t).show(0)})},show:function(e){e.find(".to_hide").toggle(),e.addClass("js--expanded")},hide:function(e){e.find(".to_hide").toggle(),e.removeClass("js--expanded")}}};UX.toggleTable=n}(),function(){var e=$("body"),t=($(document),{init:function(){t.on.build(),t.control()},control:function(){e.on("click",".facet .show-more",function(e){e.preventDefault(),t.on.toggle($(this)),$(this).closest(".accordion__content").find("li:nth-child(6) a").focus()}),e.find(".facet .dropdown__toggle").off(),e.on("click",".facet .dropdown__toggle",function(e){e.preventDefault(),t.on.toggleFacet($(this))})},on:{build:function(){$(".facet:not(.displayAll)").each(function(){var e=$(this).find("ul.facet__list"),t=e.children("li"),i=$(this).find(".facet__select "),n=i.children("option"),s=t.length,o=s>5,a=n.length+s-5;e.closest(".facet").attr("data-more-count",a),o&&e.after('<a href="#" class="show-more">More ('+a+') <i class="icon-section_arrow_d" aria-hidden="true"></i></a>'),i.each(function(){var e=$(this).magicSuggest({hideTrigger:"true",allowFreeEntries:"false",expandOnFocus:!0,maxSelection:1,placeholder:$(this).data("placeholder")});$(e).on("selectionchange",function(e,t,i){void 0!=i&&(window.location.href=i[0].id)})})})},toggle:function(e){var t=e.closest(".facet");t.find("ul.facet__list").find(".js--toggle").slideToggle(),t.find(".facet__select--hidden").toggle(),e.toggleClass("js--open"),e.hasClass("js--open")?e.html('Less <i class="icon-section_arrow_u" aria-hidden="true"></i>'):(e.html("More ("+t.data("more-count")+') <i class="icon-section_arrow_d" aria-hidden="true"></i>'),e.closest(".accordion__content").find("li:first-child a").blur())},toggleFacet:function(e){var t=e.closest("li").children("ul.facet-dropdown__menu");t.slideToggle(),e.toggleClass("js--open"),e.find("i").toggleClass("icon-add_box icon-squared-minus"),e.hasClass("js--open")?t.attr("aria-hidden",!1):t.attr("aria-hidden",!0)}}});UX.toggle=t}(),function(){var e=$("body"),t=($(document),{sliderRanges:[],sliderValues:[],$rangeStart:$(".range-slider__start"),$rangeEnd:$(".range-slider__end"),url:location.href,init:function(){t.initRange(),t.control()},initRange:function(){$(".range-slider").each(function(){var e=$(this).find(".range-slider__range"),i=e.data("frequencies"),n=[1,2,5,10],s=2*n.reduce(function(e,t){return e+t}),o=parseInt(e.attr("max"),10),a=parseInt(e.attr("min"),10),r=o-a,l="linear"===e.attr("data-slider-type");if(r>s&&!l){var c=n.slice().reverse(),d=r,h=a,u=0;c.forEach(function(e,s,a){var r=Math.floor(d/3),l=Math.floor(2*r),p=l%e;p>0&&(l-=p),d-=l,s==c.length-1?t.sliderRanges.push({start:h,stop:o,displayStep:n[s],slideStep:e,freq:i.slice(u,i.length)}):t.sliderRanges.push({start:h,stop:h+l,displayStep:n[s],slideStep:e,freq:i.slice(u,u+l)}),u+=l,h+=l}),t.sliderRanges.forEach(function(e){for(var i=e.start;i<=e.stop;)t.sliderValues.indexOf(i)<0&&t.sliderValues.push(i),i+=e.slideStep})}else for(b=a;b<=o;b++)t.sliderValues.push(b);e.attr("min",0),e.attr("max",t.sliderValues.length-1);var p=t.getSelectedRange(e);t.$rangeStart.val(p[0]),t.$rangeEnd.val(p[1]);var f=t.getSelectedRangePosition(p[0],p[1]);if(e.attr("value",f.join(",")),jcf.replace(e),i){var m=$(this).find(".jcf-range-wrapper"),g=$('<span class="jcf-range-frequencies"></span>');if(r>s&&!l)t.sliderRanges.forEach(function(e){for(var i=0;i<e.freq.length;i++){var n=$('<span class="jcf-range-frequencies__slice" style="width: '+100/e.freq.length/t.sliderRanges.length+"%; opacity: "+e.freq[i]+'"></span>');g.append(n)}}),m.prepend(g);else{for(var v=100/i.length,b=0;b<i.length;b++){var y=$('<span class="jcf-range-frequencies__slice" style="width: '+v+"%; opacity: "+i[b]+'"></span>');g.append(y)}m.prepend(g)}}})},control:function(){e.on("click",".custom-date",function(e){e.preventDefault(),t.on.toggle($(this))}),$(".range-slider__range").change(function(){t.on.setRange($(this))}),t.$rangeStart.on("change",function(){t.on.setStart($(this))}),t.$rangeEnd.on("change",function(){t.on.setEnd($(this))}),$(".range-slider__range").on("change change:startend",function(){t.updateUrl($(this))})},on:{toggle:function(e){e.closest(".facet").find(".custom-date-form").slideToggle();e.toggleClass("js--open")},setRange:function(e){var i=e.closest(".range-slider").find(".jcf-active-handle").attr("class").match(/jcf-index[\w-]*\b/).toString().split("-")[2];$("input.index-"+i).val(t.getValue(e))},setStart:function(e){var i=e.closest(".range-slider").find(".range-slider__range"),n=parseInt(i.attr("min"),10),s=t.getValueFromInput(e),o=jcf.getInstance(i);s>=n&&s<=o.values[1]&&(o.values[0]=s.toString(),o.refresh(),i.trigger("change:startend"))},setEnd:function(e){var i=e.closest(".range-slider").find(".range-slider__range"),n=parseInt(i.attr("max"),10),s=t.getValueFromInput(e),o=jcf.getInstance(i);s<=n&&s>=o.values[0]&&(o.values[1]=s.toString(),o.refresh(),i.trigger("change:startend"))},rangeUpdate:function(e,i){$(e).on("change change:startend",function(){i(t.$rangeStart.val(),t.$rangeEnd.val())})}},getValue:function(e){e.closest(".range-slider").find(".range-slider__range");var i=parseInt(e.val(),10);return t.sliderValues[i]},getValueFromInput:function(e){var i,n=e.closest(".range-slider").find(".range-slider__range"),s=parseInt(e.val(),10),o=parseInt(n.attr("data-min"),10),a=parseInt(n.attr("data-max"),10);if(s<=a&&s>=o)if(t.sliderValues.indexOf(s)>=0)i=t.sliderValues.indexOf(s);else{var r=t.sliderValues.reduce(function(e,t){return Math.abs(t-s)<Math.abs(e-s)?t:e});i=t.sliderValues.indexOf(r)}return i},removeParam:function(e){var i=t.url.split("?")[0],n=-1!==t.url.indexOf("?")?t.url.split("?")[1]:"",s={};n&&(n.split("&").map(function(e){var t=e.split("=");s[t[0]]=t[1]}),s[e]&&delete s[e],n=Object.keys(s).map(function(e){return e+"="+s[e]}).join("&"),t.url=i+(n?"?"+n:""))},getSelectedRange:function(e){t.url.split("?")[0];var i=-1!==t.url.indexOf("?")?t.url.split("?")[1]:"",n={};return i&&(i.split("&").map(function(e){var t=e.split("=");n[t[0]]=t[1]}),n.AfterYear&&n.BeforeYear)?[n.AfterYear,n.BeforeYear]:[parseInt(e.attr("data-min"),10),parseInt(e.attr("data-max"),10)]},getSelectedRangePosition:function(e,i){var n,s;return t.sliderValues.indexOf(e)<0&&(n=t.sliderValues.reduce(function(t,i){return Math.abs(i-e)<Math.abs(t-e)?i:t})),t.sliderValues.indexOf(i)<0&&(s=t.sliderValues.reduce(function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e})),[t.sliderValues.indexOf(n||e),t.sliderValues.indexOf(s||i)]},updateUrl:function(e){t.removeParam("AfterYear"),t.removeParam("BeforeYear"),t.removeParam("queryID"),t.url+=(t.url.indexOf("?")>-1?"&":"?")+"AfterYear="+t.$rangeStart.val()+"&BeforeYear="+t.$rangeEnd.val()+"&queryID="+$(e).attr("data-queryID"),window.location=t.url}});UX.facetDate=t}(),function(){var e=$("body"),t=!1,i={$elements:$(".accordion"),$tabbedElements:$(".accordion-tabbed"),$controllers:$(".accordion__control"),$tabbedControllers:$(".accordion-tabbed__control"),isMobile:!1,isArticleAccordion:!1,vPort:"screen-sm",init:function(){i.logic($(".accordion-tabbed")),i.control()},control:function(){e.on("click",".accordion__control",function(e){var n=$(this).is("[data-slide-target]");if(!($(this).hasClass("external")||void 0!==n&&!1!==n&&t)){e.preventDefault();var s=$(this);i.on.toggle.single(s)}}),e.on("click",".accordion-tabbed__control",function(e){var n=$(this).is("[data-slide-target]");if(!($(this).hasClass("external")||void 0!==n&&!1!==n&&t)){e.preventDefault();var s=$(this);i.on.toggle.tabbed(s)}}),$(document).on(i.vPort+"-on",function(){t=!0}),$(document).on(i.vPort+"-off",function(){t=!1})},logic:function(e){i.hideAll(),i.$tabbedElements=e,i.$tabbedElements.each(function(){$(this).find(".accordion-tabbed__tab").each(function(e){var t=$(this);0!=e||t.hasClass("accordion__closed")?t.find(".accordion-tabbed__content").hide():(t.addClass("js--open"),t.find(".accordion-tabbed__control").attr("aria-expanded","true"),t.find(".accordion-tabbed__content").show())})})},on:{toggle:{single:function(e){e.next(".accordion__content").slideToggle(200,function(){e.parent().hasClass("article-accordion")&&($(".article-row-left").height("auto"),i.isArticleAccordion=t)}),e.toggleClass("js--open");var t=!("true"==e.attr("aria-expanded"));e.attr("aria-expanded",t)},tabbed:function(e){var t=e.closest(".accordion-tabbed__tab"),i=e.closest(".accordion-tabbed").children(".js--open"),n=!("true"==e.attr("aria-expanded"));e.attr("aria-expanded",n),t.hasClass("js--open")?t.children(".accordion-tabbed__content").slideUp(200,function(){i.removeClass("js--open")}):(i.children(".accordion-tabbed__content").slideUp(200),t.children(".accordion-tabbed__content").slideDown(200,function(){i.removeClass("js--open"),t.addClass("js--open")}))}}},hideAll:function(){i.$elements.each(function(){var e=$(this);e.find(".accordion__control").attr("aria-expanded","false"),e.find(".accordion__content").hasClass("js--open")?e.find(".accordion__content").hasClass("js--open")?e.find(".accordion__control").attr("aria-expanded","true"):e.find(".accordion__content").removeClass("js--open"):e.find(".accordion__content").hide()})}};UX.accordion=i}(),function(){var e=$("body"),t={$target:null,$targets:$(".refineSearch"),$showController:$(".quick-search__ctrl__refine"),$hideController:$(".quick-search__ctrl__refine--hide"),$elements:$(".refineSearch__row"),$wrapper:null,escape:27,init:function(){t.control(),$(".quick-search").length&&t.on.hide()},control:function(){e.on("click",".refineSearch__ctrl__remove",function(e){e.preventDefault();var i=$(this);t.$target=i.closest(".refineSearch"),t.$wrapper=t.$target.find(".refineSearch__texts"),t.on.remove(i)}),e.on("click",".refineSearch__ctrl__add",function(e){e.preventDefault();var i=$(this);t.$target=i.closest(".refineSearch"),t.$wrapper=t.$target.find(".refineSearch__texts"),t.on.clone(i)}),e.on("click",".quick-search__ctrl__refine",function(e){e.preventDefault(),t.$targets.length&&t.on.show()}),e.on("click",".quick-search__ctrl__refine--hide",function(e){e.preventDefault(),t.on.hide()}),e.on("click",function(e){t.$targets.is(e.target)||0!==t.$targets.has(e.target).length||t.$showController.is(e.target)||0!==t.$showController.has(e.target).length||$(e.target).closest(".jcf-select-drop").length||t.$targets.closest(".search-result__refine-search").length||$(e.target).closest(".refineSearch__ctrl__remove").length||t.on.hide()}),$(document).on("keydown",function(e){(e.keyCode||e.which)===t.escape&&t.on.hide()})},on:{clone:function(e){jcf.destroyAll(),e.closest(".refineSearch__row").clone(!0,!0).find("input").attr("name","text"+($(".refineSearch__row").length+1).toString()).val("").end().appendTo(t.$wrapper),e.addClass("hidden"),e.siblings(".refineSearch__ctrl__remove").removeClass("hidden"),$(".jcf").each(function(){jcf.replace($(this))})},remove:function(e){e.closest(".refineSearch__row").remove()},show:function(){t.$showController.addClass("hidden"),t.$hideController.removeClass("hidden"),t.$targets.addClass("js--open"),t.$targets.show()},hide:function(){t.$targets.each(function(){"refine"===e.attr("data-active")&&e.removeAttr("data-active"),t.$hideController.addClass("hidden"),t.$showController.removeClass("hidden"),t.$targets.removeClass("js--open"),t.$targets.hide()})}}};UX.refine=t}(),function(){var e=$(".figure-viewer"),t=$(window),i=$(document),n=$("body"),s={options:{filter:!1,filterClass:"article__tabFigure"},$topRegHeight:$(".figure-viewer__reg__top").innerHeight(),vPort:"screen-md",$figures:null,$figuresToShow:null,$figureWidth:null,$currentIndex:null,$focusedElementBeforeOpened:null,$section:e,$holder:e.find(".figure-viewer__hold__fig"),$captionHolder:e.find(".figure-viewer__hold__figcap"),$lister:e.find(".figure-viewer__hold__list"),$captionRegion:e.find(".figure-viewer__cent__right"),$contentRegion:e.find(".figure-viewer__cent__left"),$figureNav:e.find(".figure-viewer__ctrl__next, .figure-viewer__ctrl__prev"),$zoominbtn:e.find(".zoom-in"),$zoomoutbtn:e.find(".zoom-out"),$zoomrange:e.find(".zoom-range"),$zoomreset:e.find(".reset"),$image:e.find("figure"),$browsebtn:$(".figure-viewer__ctrl__browse"),$returnbtn:$(".figure-viewer__ctrl__return"),isMobile:!1,islocked:!1,offsetY:window.pageYOffset,$hideList:$(".zoomSlider, .figure-viewer__label__zoom"),expand:function(){s.options.filter?s.$figures=i.find(":not(.figure-viewer__hold__list) > figure:not(.holder), :not(.figure-viewer__hold__list) > .figure:not(.holder)"):s.$figures=i.find("figure:not(.holder), .figure:not(.holder)"),s.$figures.each(function(e){var t=$(this);if(s.options.filter&&(t.addClass("figure"),"dataRel"===s.options.filter)){var i=t.find("[data-rel]");i.length>0&&i.data().rel&&t.attr("data-rel",i.data().rel)}t.find(".figure__image, .open-figure-link").on({click:function(i){i.preventDefault(),t.hasClass("ui-disabled")||t.closest(".figure-viewer__hold__fig").length||!$(".figure-viewer").length||s.on.show(t,e)}})})},filter:function(e){if("classCombination"===s.options.filter){var t=e.attr("class");s.$figuresToShow=s.$figures.filter('[class="'+t+'"]')}else if("className"===s.options.filter)s.$figuresToShow=s.$figures.filter("."+s.options.filterClass);else if("dataRel"===s.options.filter){var i=e.data("rel");s.$figuresToShow=i?s.$figures.filter('[data-rel="'+i+'"]'):s.$figures}else s.$figuresToShow=s.$figures;s.$currentIndex=s.$figuresToShow.index(e)},control:function(){$(document).on(s.vPort+"-on",function(){s.isMobile=!0}),$(document).on(s.vPort+"-off",function(){s.isMobile=!1}),n.find(".figure-viewer").find("a, button").each(function(){var e=$(this);e.on({click:function(t){t.preventDefault(),t.stopPropagation(),e.hasClass("figure-viewer__ctrl__close")?s.on.hide():e.hasClass("figure-viewer__ctrl__next")?s.next():e.hasClass("figure-viewer__ctrl__prev")?s.prev():e.hasClass("figure-viewer__ctrl__caption")?(s.toggle(e.closest(".figure-viewer__cent__right")),s.toggle($(".figure-viewer__cent__left")),e.toggleClass("js-open")):e.hasClass("figure-viewer__ctrl__browse")?s.browse($(this)):e.hasClass("figure-viewer__ctrl__return")&&s.return($(this))}})}),s.options.filter?($(".figure a:not(.open-figure-link)").click(function(e){var t=$(this).find("img");shouldDefault=$(this).hasClass("linkBehavior"),shouldDefault&&0===t.length||(e.preventDefault(),t.trigger("click"))}),$(".figure a:not(.open-figure-link) img").click(function(e){e.stopPropagation()})):($(".figure a:not('.ppt-figure-link')").click(function(e){var t=$(this).find("img");shouldDefault=$(this).hasClass("linkBehavior"),shouldDefault&&0===t.length||(e.preventDefault(),t.trigger("click"))}),$(".figure a img").click(function(e){e.stopPropagation()})),$("body").keydown(function(e){37===e.keyCode?s.prev():39===e.keyCode&&s.next()}),s.$image.on("click",function(e){$(e.target).is("img")||s.on.hide()}),s.resize(),$(window).resize(function(){s.resize()}),1==s.$figures.length&&s.$figureNav.hide(),$(".figure-viewer__ctrl__caption").focusout(function(){$(".figure-viewer__ctrl__close").focus()})},next:function(){if(s.options.filter||(s.$figuresToShow=s.$figures),s.$currentIndex<s.$figuresToShow.length-1){if(!s.$figuresToShow.eq(s.$currentIndex+1).closest(".figure-viewer").length){s.$currentIndex++;e=s.$figuresToShow.eq(s.$currentIndex);s.replace(e),s.zoom.reset()}}else{s.$currentIndex=0;var e=s.$figuresToShow.eq(s.$currentIndex);s.replace(e),s.zoom.reset()}},prev:function(){if(s.options.filter||(s.$figuresToShow=s.$figures),s.$currentIndex>=1){if(!s.$figuresToShow.eq(s.$currentIndex-1).closest(".figure-viewer").length){s.$currentIndex--;e=s.$figuresToShow.eq(s.$currentIndex);s.replace(e),s.zoom.reset()}}else{s.$currentIndex=s.$figuresToShow.length-1;var e=s.$figuresToShow.eq(s.$currentIndex);s.replace(e),s.zoom.reset()}},replace:function(e){var t=e.find("img").clone();t.attr("src",t.attr("data-lg-src"));var i=e.find("figcaption, .figcaption").clone(),n=i.find("strong").remove();$(".figure-viewer__title__text").text(n.text()),s.$holder.find("img").remove(),s.$holder.find("figure").append(t),s.$captionHolder.empty(),i=s.additionalBehaviorOnShow(e),s.$captionHolder.append(i),s.$figureWidth=s.$holder.find("img").width(),s.zoom.check()},browse:function(e){s.$holder.addClass("is-hidden"),s.$figureNav.addClass("is-hidden"),s.$browsebtn.addClass("is-hidden"),s.$returnbtn.removeClass("is-hidden"),s.$captionRegion.removeClass("js-open"),s.$contentRegion.removeClass("js-open"),s.$captionRegion.addClass("is-hidden"),s.$hideList.each(function(){$(this).addClass("is-hidden")}),s.$lister.removeClass("is-hidden"),$(".figure-viewer__hold__list").empty(),s.options.filter?s.$figuresToShow.each(function(){var e=$(this).clone(!0),t=e.find(".figure-extra");t.length&&t.remove(),$(".figure-viewer__hold__list").append(e)}):s.$figures.each(function(){if($(this).hasClass("article__tabFigure")){var e=$(this).clone(!0),t=e.find(".figure-links");t.length&&t.remove(),$(".figure-viewer__hold__list").append(e)}})},return:function(){s.$holder.removeClass("is-hidden"),s.$figureNav.removeClass("is-hidden"),s.$browsebtn.removeClass("is-hidden"),s.$returnbtn.addClass("is-hidden"),s.$captionRegion.removeClass("is-hidden"),s.$hideList.each(function(){$(this).removeClass("is-hidden")}),s.$lister.addClass("is-hidden"),$(".figure-viewer__hold__list").empty()},height:function(e){var t=$(window).innerHeight();s.$topRegHeight=$(".figure-viewer__reg__top").innerHeight();var i=t-s.$topRegHeight-$(".figure-viewer__caption__label").innerHeight();$(".figure-viewer__cent__left").find("figure").height(i)},toggle:function(e){e.toggleClass("js-open"),s.figcaptionSize()},on:{show:function(e,t){s.offsetY=n.data("yoffset")||window.pageYOffset,n.data("yoffset",s.offsetY),void 0!==UX.controller&&"slide"!==n.attr("data-active")&&UX.controller.check(),n.attr("data-active","figureViewer"),s.islocked=!0,s.$currentIndex=t,s.replace(e),s.$focusedElementBeforeOpened=document.activeElement,$(".figure-viewer").show(),n.css("overflow","hidden"),s.height(),s.zoom.check(),s.$holder.removeClass("is-hidden"),s.$captionRegion.removeClass("is-hidden"),s.$browsebtn.removeClass("is-hidden"),s.$returnbtn.addClass("is-hidden"),s.$figureNav.removeClass("is-hidden"),s.$hideList.each(function(){$(this).removeClass("is-hidden")}),s.$lister.addClass("is-hidden"),$(".figure-viewer__ctrl__close").focus(),s.options.filter&&s.filter(e)},hide:function(){s.islocked?n.removeAttr("data-active"):n.removeClass("lock-screen").removeAttr("data-active"),s.zoom.reset(),$(".figure-viewer").hide(),s.$focusedElementBeforeOpened.focus(),n.css("overflow",""),$(window).scrollTop(s.offsetY),n.removeData("yoffset")}},additionalBehaviorOnShow:function(e){return e.find("figcaption, .figcaption").clone()},zoom:{reset:function(){$elem=$(".figure-viewer").find("figure"),$elem.panzoom("reset")},check:function(){s.zoom.panzoom.init(),t.width()<992&&s.zoom.swap()},panzoom:{init:function(){void 0!==$.fn.panzoom&&(s.$image.panzoom({$zoomIn:s.$zoominbtn,$zoomOut:s.$zoomoutbtn,$zoomRange:s.$zoomrange,$reset:s.$zoomreset,panOnlyWhenZoomed:!0,minScale:1}),s.$image.on("panzoomchange",function(e){"1"===s.$zoomrange.val()?(s.$image.css("transform","matrix(1, 0, 0, 1, 0, 0)"),$(this).removeClass("zoomed")):$(this).addClass("zoomed")}))}},swap:function(){s.$section.find("img").swipe({swipe:function(e,t,i,n,o,a){"left"!==t||s.$section.find("figure").hasClass("zoomed")?"right"!==t||s.$section.find("figure").hasClass("zoomed")||s.prev():s.next()}})}},slide:function(){var e=n.find("div.ux3-in-slide");n.removeAttr("data-ux3-show"),setTimeout(function(){e.append($slide.children("div")),e.removeClass("ux3-in-slide")},250)},resize:function(){var e=t.innerHeight();s.isMobile?$(".figure-viewer__reg__center").css("height",e):$(".figure-viewer__reg__center").css("height","100%")},figcaptionSize:function(){var e=$(".figure-viewer__hold__figcap").find("figcaption"),t=$(".figure-viewer__reg__center").height(),i=$(".figure-viewer__title").height()+30;e.css("max-height",t-60-i)},doubleTap:function(){!function(e){e.fn.nodoubletapzoom=function(){e(this).bind("touchstart",function(t){var i=t.timeStamp,n=i-(e(this).data("lastTouch")||i),s=t.originalEvent.touches.length;e(this).data("lastTouch",i),!n||n>500||s>1||(t.preventDefault(),e(t.target).trigger("click"))})}}(jQuery)},init:function(){s.expand(),s.control(),s.doubleTap(),$("body").nodoubletapzoom()}};UX.figureViewer=s}(),function(e,t,i,n){var s=e(t);e.fn.lazyload=function(n){function o(){var t=0;r.each(function(){var i=e(this);if(!l.skip_invisible||i.is(":visible"))if(e.abovethetop(this,l)||e.leftofbegin(this,l));else if(e.belowthefold(this,l)||e.rightoffold(this,l)){if(++t>l.failure_limit)return!1}else i.trigger("appear"),t=0})}var a,r=this,l={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return n&&(void 0!==n.failurelimit&&(n.failure_limit=n.failurelimit,delete n.failurelimit),void 0!==n.effectspeed&&(n.effect_speed=n.effectspeed,delete n.effectspeed),e.extend(l,n)),a=void 0===l.container||l.container===t?s:e(l.container),0===l.event.indexOf("scroll")&&a.bind(l.event,function(){return o()}),this.each(function(){var t=this,i=e(t);t.loaded=!1,void 0!==i.attr("src")&&!1!==i.attr("src")||i.is("img")&&i.attr("src",l.placeholder),i.one("appear",function(){if(!this.loaded){if(l.appear){var n=r.length;l.appear.call(t,n,l)}e("<img />").bind("load",function(){var n=i.attr("data-"+l.data_attribute);i.hide(),i.is("img")?i.attr("src",n):i.css("background-image","url('"+n+"')"),i[l.effect](l.effect_speed),t.loaded=!0;var s=e.grep(r,function(e){return!e.loaded});if(r=e(s),l.load){var o=r.length;l.load.call(t,o,l)}}).attr("src",i.attr("data-"+l.data_attribute))}}),0!==l.event.indexOf("scroll")&&i.bind(l.event,function(){t.loaded||i.trigger("appear")})}),s.bind("resize",function(){o()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&s.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&r.each(function(){e(this).trigger("appear")})}),e(i).ready(function(){o()}),this},e.belowthefold=function(i,n){return(void 0===n.container||n.container===t?(t.innerHeight?t.innerHeight:s.height())+s.scrollTop():e(n.container).offset().top+e(n.container).height())<=e(i).offset().top-n.threshold},e.rightoffold=function(i,n){return(void 0===n.container||n.container===t?s.width()+s.scrollLeft():e(n.container).offset().left+e(n.container).width())<=e(i).offset().left-n.threshold},e.abovethetop=function(i,n){return(void 0===n.container||n.container===t?s.scrollTop():e(n.container).offset().top)>=e(i).offset().top+n.threshold+e(i).height()},e.leftofbegin=function(i,n){return(void 0===n.container||n.container===t?s.scrollLeft():e(n.container).offset().left)>=e(i).offset().left+n.threshold+e(i).width()},e.inviewport=function(t,i){return!(e.rightoffold(t,i)||e.leftofbegin(t,i)||e.belowthefold(t,i)||e.abovethetop(t,i))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document),function(e){function t(){var n=this,s=e(this),o=s.height(),a=this.settings.lines*parseFloat(s.css("line-height"));0!==o?o>a?i.call(this,s):setTimeout(function(){s.addClass(n.settings.addClass)},0):setTimeout(function(){t.call(n)},10)}function i(t){var n,s,o,a=this,r=e(this),l=r.height(),h=this.settings.lines*Math.ceil(parseFloat(r.css("line-height")));if(o=this.settings.seeMoreLink?d.call(this):c.call(this),t.get(0).nodeType===Node.ELEMENT_NODE){for(;l>h&&t.contents().length;)n=t.contents().last().remove(),l=r.height();l<=h&&n?(t.append(n),(l=r.height())>h&&i.call(this,n)):""===e.trim(t.text())&&(s=t.parent(),t.remove(),l=r.height(),""===e.trim(s.text())?i.call(this,s):l<=h&&(r.children().length?r.children().last().append(o):r.append(o)))}else{for(var u=t.text(),p=0,f=u.length-1,m=Math.floor((p+f)/2);p<f;)l>h?f=m+parseInt((f-m)*h/l,10):p=m+1,o.remove(),m=Math.floor((p+f)/2),t.get(0).textContent=u.substr(0,m),t.parent().append(o),l=r.height();for(;l>h&&m>0;)o.remove(),m-=1,t.get(0).textContent=u.substr(0,m),t.parent().append(o),l=r.height();0===m&&(s=t.parent(),o.remove(),""===e.trim(s.text())&&i.call(this,s)),l<=h&&this.settings.addClass&&!r.hasClass(this.settings.addClass)&&setTimeout(function(){r.addClass(a.settings.addClass)},0)}}function n(){var t=this,i=e(this),l=i.height(),c=Math.ceil(Math.max(i.children().height(),parseFloat(i.css("line-height")))),d=this.settings.lines*c;if(0!==i.children().length)if(0!==l&&0!==d)switch(this.settings.position){case"middle":l>d?s.call(this,i):this.settings.addClass&&!i.hasClass(this.settings.addClass)&&setTimeout(function(){i.addClass(t.settings.addClass)},0);break;case"end":l>d?o.call(this,i):this.settings.addClass&&!i.hasClass(this.settings.addClass)&&setTimeout(function(){i.addClass(t.settings.addClass)},0);break;case"betweenFirstAndLast":r.call(this,i);break;case"beforeLast":l>d?a.call(this,i):this.settings.addClass&&!i.hasClass(this.settings.addClass)&&setTimeout(function(){i.addClass(t.settings.addClass)},0)}else setTimeout(function(){n.call(t)},10);else i.addClass(t.settings.addClass)}function s(){var t,i,n,s,o=this,a=e(this),r=Math.ceil(Math.max(a.children().height(),parseFloat(a.css("line-height")))),d=this.settings.lines*r,u=0;i=this.settings.seeMoreLink?h.call(this):c.call(this,!0);var p=function(){if((t=a.height())>d){for(;t>d&&a.contents().length>2;){i.remove(),n&&a.find(n).length&&n.remove();var r=Math.floor(a.contents().length/2);(s=e(a.contents().get(r)).remove())&&s.get(0).nodeType===Node.ELEMENT_NODE&&(u+=1),r-=1,(t=a.height())>d&&a.contents().length>2&&((s=e(a.contents().get(r)).remove())&&s.get(0).nodeType===Node.ELEMENT_NODE&&(u+=1),r-=1),o.settings.showRemovedCount&&u>0?(n=l(u)).insertAfter(e(a.contents().get(r))):i.insertAfter(e(a.contents().get(r))),t=a.height()}setTimeout(p,1e3)}else o.settings.addClass&&!a.hasClass(o.settings.addClass)&&setTimeout(function(){a.addClass(o.settings.addClass)},0)};p()}function o(){var t,i,n,s,o=this,a=e(this),r=Math.ceil(Math.max(a.children().height(),parseFloat(a.css("line-height")))),h=this.settings.lines*r,u=0;i=this.settings.seeMoreLink?d.call(this):c.call(this);var p=function(){if((t=a.height())>h){for(;t>h&&a.contents().length>1;)n&&a.find(n).length&&n.remove(),a.find(i).length?s=e(a.contents().get(a.contents().length-2)).remove():(s=a.contents().last().remove(),o.settings.showRemovedCount||a.append(i)),s&&s.get(0).nodeType===Node.ELEMENT_NODE&&(u+=1),o.settings.showRemovedCount&&u>0&&(n=l(u),a.append(n)),t=a.height();setTimeout(p,1e3)}else o.settings.addClass&&!a.hasClass(o.settings.addClass)&&setTimeout(function(){a.addClass(o.settings.addClass)},0)};p()}function a(){var t,i,n=this,s=e(this),o=s.height(),a=Math.ceil(Math.max(s.children().height(),parseFloat(s.css("line-height")))),r=this.settings.lines*a,c=h.call(this),d=0,u=function(){if((o=s.height())>r){for(var a=e("<div></div>");s.children().length>1&&a.children().length<n.settings.lastItemsCount||s.contents().last().get(0).nodeType===Node.TEXT_NODE;)a.prepend(s.contents().last().remove());for(var h=a.contents();o>r&&s.children().length>2;)t&&s.find(t).length&&t.remove(),c.remove(),h.remove(),(i=s.contents().last().remove())&&i.get(0).nodeType===Node.ELEMENT_NODE&&(d+=1),n.settings.showRemovedCount&&d>0?(t=l(d),s.append(t)):s.append(c),s.append(h),o=s.height();setTimeout(u,1e3)}else n.settings.addClass&&!s.hasClass(n.settings.addClass)&&setTimeout(function(){s.addClass(n.settings.addClass)},0)};u()}function r(){var t,i,n=this,s=e(this),o=s.children(),a=o.length-2;o.length>1&&(t=this.settings.seeMoreLink?h.call(this):c.call(this,!0),n.settings.showRemovedCount&&(i=l(a)),s.html(""),s.append(o.first()),n.settings.showRemovedCount&&a>0?s.append(i):s.append(t),s.append(o.last()))}function l(t){return e('<a href="#" class="removed-items-count"> + '+t+" </a>")}function c(t){return e("<"+(t?'a href="#"':"span")+' class="ellipsis"> '+this.settings.ellipsisChar+" </"+(t?"a":"span")+">")}function d(){var t=' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "+this.settings.seeMoreText+' <i class="icon-section_arrow_d"></i>';return this.settings.seeMoreHtml?t=this.settings.seeMoreHtml:this.settings.isMobile&&(t=' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "+this.settings.seeMoreText+' <i class="icon-arrow_r"></i>'),e(this.settings.isMobile?'<a href="#" class="read-more w-slide__btn" data-slide-target="'+this.settings.mobileTarget+'">'+t+"</a>":'<a href="#" class="read-more">'+t+"</a>")}function h(){var t=' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "+this.settings.seeMoreText+' <i class="icon-section_arrow_d"></i> <span class="ellipsis">'+this.settings.ellipsisChar+"</span> ";return this.settings.seeMoreHtml?t=this.settings.seeMoreHtml:this.settings.isMobile&&(t=' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "+this.settings.seeMoreText+' <i class="icon-arrow_r"></i> <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "),e(this.settings.isMobile?'<a href="#" class="read-more w-slide__btn" data-slide-target="'+this.settings.mobileTarget+'">'+t+"</a>":'<a href="#" class="read-more">'+t+"</a>")}function u(){var t=" "+this.settings.seeLessText+' <i class="icon-section_arrow_u"></i>';return this.settings.seeLessHtml&&(t=this.settings.seeLessHtml),e('<a href="#" class="read-less">'+t+"</a>")}function p(){var t=this,i=e(this);i.on("click",function(n){var s=e(n.target);if(s.hasClass("ellipsis")&&s.is("a")){n.preventDefault(),i.data("truncatedContent",i.html()),i.html(i.data("originalContent"));o=u.call(t);i.append(o)}if(s.hasClass("read-more")&&!s.hasClass("w-slide__btn")||s.parent().hasClass("read-more")&&!s.parent().hasClass("w-slide__btn")||s.hasClass("removed-items-count")){n.preventDefault(),i.data("truncatedContent",i.html()),i.html(i.data("originalContent"));var o=u.call(t);i.append(o)}(s.hasClass("read-less")||s.parent().hasClass("read-less"))&&(n.preventDefault(),i.html(i.data("truncatedContent")))})}var f;f={init:function(i){return this.each(function(){var s=e(this),o=!0;s.data("originalContent")?(s.html(s.data("originalContent")),s.data("settings")&&(this.settings=s.data("settings")),this.settings&&this.settings.addClass&&s.removeClass(this.settings.addClass),o=!1):s.data("originalContent",s.html()),i&&(this.settings=e.extend({},e.fn.truncate.defaults,i),s.data("settings",this.settings)),this.settings&&"text"===this.settings.type?t.call(this):this.settings&&"list"===this.settings.type&&n.call(this),o&&p.call(this)})},destroy:function(){return this.each(function(){var t=e(this);t.data("originalContent")&&(t.html(t.data("originalContent")),this.settings.addClass&&t.removeClass(this.settings.addClass))})}},e.fn.truncate=function(t){return f[t]?f[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.truncate"):f.init.apply(this,arguments)},e.fn.truncate.defaults={type:"text",position:"end",showRemovedCount:!1,lines:1,seeMoreLink:!1,seeMoreText:"See More",seeLessText:"See Less",seeMoreHtml:"",seeLessHtml:"",ellipsisChar:"&hellip;",lastItemsCount:1,isMobile:!1,mobileTarget:"",addClass:""}}(jQuery),$(window).on("load",function(){$(".delayLoad").show(),$(".lazy-load").remove(),$(".creative-work__title").truncate({lines:3,addClass:"min-height"}),$(".creative-work .loa").truncate({lines:2,type:"list",addClass:"loa-height"}),$(".featured .grid-item:first-child .creative-work__title").truncate({lines:2,addClass:"min-height"}),$(".card .creative-work__title").truncate({lines:2,addClass:"min-height"}),$(".card .creative-work .loa").truncate({lines:1,type:"list",addClass:"loa-height"})}),$(window).on("resize orientationchange",function(){$(".creative-work__title, .creative-work .loa").truncate()}),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),s=n.data("bs.tab");s||n.data("bs.tab",s=new i(this)),"string"==typeof t&&s[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var s=i.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:s[0]});if(s.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var r=e(n);this.activate(t.closest("li"),i),this.activate(r,r.parent(),function(){s.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:s[0]})})}}},i.prototype.activate=function(t,n,s){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),s&&s()}var a=n.find("> .active"),r=s&&e.support.transition&&(a.length&&a.hasClass("fade")||!!n.find("> .fade").length);a.length&&r?a.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),a.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var s=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',s).on("click.bs.tab.data-api",'[data-toggle="pill"]',s)}(jQuery),function(){$(window);var e=$("body");$(document).ready(function(){$(".tab").each(function(){var e=$(this).find(".tab__nav").find("li.active a").attr("href");!e&&sessionStorage.activeTab&&(e=sessionStorage.getItem("activeTab")),0==$(this).find(e).length?e=null:sessionStorage.setItem("activeTab",""),e||(e=$(this).find(".tab__nav").find("li:first-of-type a").attr("href")),$('[href="'+e+'"]').click(),$(this).find(e).addClass("active")})});var t={$target:null,$toggle:null,$li:null,$ul:$(".tab__nav"),$previous:null,$content:null,isTouched:!1,pointerPosition:0,cumulativeShift:0,vPort:"screen-sm",isSlide:!1,isMobile:!1,init:function(){t.isSlide=$(".tab").hasClass("tab--slide"),t.check.viewPort(),t.on.build(),t.control(),t.check.empty()},control:function(){e.on("click",".tab-link",function(e){e.preventDefault(),t.on.select.external($(this))}),e.on("click",'[data-mobile-toggle="dropdown"] a, .dropblock--tab a',function(e){t.on.select.dropdown($(this)),$(".js--open[data-db-target-for]").length&&UX.dropBlock.on.hide()}),$(document).on(t.vPort+"-on",function(){t.isMobile=!0,$("*[data-slide-target]").addClass("w-slide__btn"),$(".tab").addClass("tab--res"),t.additionalControl(),t.on.rebuild.responsive()}),$(document).on(t.vPort+"-off",function(){t.isMobile=!1,$("*[data-slide-target]").removeClass("w-slide__btn"),$(".tab").removeClass("tab--res"),t.on.rebuild.original()})},additionalControl:function(){},animate:{scroll:function(e,t){e.animate({scrollTop:e.scrollTop()+t.position().top-40},600)}},set:{target:function(e,i,n){e.find(i).length?t.$target=e.find(i):t.$target=e.find("[data-figure-id='"+n+"']")}},on:{select:{external:function(e){var i=e.attr("href");i=i.split(" ")[0],t.$toggle="#"+e.data("tab"),t.$li=$('.tab__nav [href="'+t.$toggle+'"]');var n=i.split("#")[1],s=function(){t.$content=$(t.$toggle).parents(".tab__content"),t.isMobile?t.isSlide&&(t.set.target($(".w-slide__content"),i,n),t.$target.length&&(t.animate.scroll($(".w-slide__content"),t.$target),t.$target.attr("tab-index","1"),t.$target.focus())):(t.set.target(t.$content,i,n),t.animate.scroll(t.$content,t.$target))};$(t.$toggle).is(":visible")?(t.$li.click(),s()):$(t.$toggle).hasClass("empty")?($(t.$toggle).on("content-loaded",function(){s()}),t.$li.click()):(t.$li.click(),s())},dropdown:function(e){("dropdown"===e.closest("ul").data("mobile-toggle")||e.closest("ul").hasClass("dropblock--tab"))&&e.closest(".dropBlock").children("a").find("span").text(e.text())}},build:function(){t.$ul.each(function(e){$(this).is(".swipe__list")&&t.on.swipeBuild($(this)),$(this).is(".dropblock--tab")&&t.on.dropdownBuild($(this),e)})},calculate:function(e){var i=e.parent(),n=25;e.find("li").each(function(e){n+=$(this).innerWidth()}),i.width()<n?e.parent().is(".scroll")||t.on.swipeBuild(e):t.on.swipeDestroy(e)},swipeBuild:function(e){var t=25;e.find("li").each(function(e){t+=$(this).innerWidth()}),e.width(t),e.wrap('<div class="swipe__wrapper"><div class="scroll"></div></div>')},swipeDestroy:function(e){e.removeAttr("style"),e.unwrap(".scroll").unwrap(".swipe__wrapper")},dropdownBuild:function(e,t){UX.dropBlock.init(),e.wrap('<div class="dropBlock" data-db-parent-of="dbTab-'+t+'"></div>');var i=e.closest(".dropBlock"),n=e.find(".active a");i.prepend('<a href="#"class="dropBlock__link" data-db-target-for="dbTab-'+t+'"><span>'+n.text()+'</span><i class="icon-arrow_d_n" aria-hidden="true"></i></a>'),e.attr("data-db-target-of","dbTab-"+t)},dropdownDestroy:function(e){e.closest(".dropBlock").children("a").remove(),e.removeAttr("data-db-target-of").removeClass("js--open").removeAttr("style").unwrap(".dropBlock")},accordionBuild:function(e){e.next(".tab__content").addClass("accordion-tabbed").wrap('<div class="accordion"></div>'),e.find("a").each(function(e){var t=$(this),i=t.attr("href");$(i).addClass("accordion-tabbed__tab").removeClass("tab__pane").wrapInner('<div class="accordion-tabbed__content"></div>');t.clone().prependTo(i).addClass("accordion-tabbed__control")}),e.hide(),UX.accordion.init(),$(".tab__content.accordion-tabbed .accordion-tabbed__tab").removeClass("js--open").find(".accordion-tabbed__content").hide(),$(".tab__content.accordion-tabbed .accordion-tabbed__tab.active").addClass("js--open").find(".accordion-tabbed__content").show()},accordionDestroy:function(e){e.next(".accordion").find(".tab__content").removeClass("accordion-tabbed").unwrap(".accordion").find(".accordion-tabbed__tab").each(function(t){var i=$(this);i.addClass("tab__pane").removeClass("accordion-tabbed__tab js--open");var n=i.find(".accordion-tabbed__content").text();i.html(n),e.show()});var t=e.next(".tab__content").find(".active").attr("id");e.find(".active").removeClass("active"),$('[href="#'+t+'"]').closest("li").addClass("active")},rebuild:{original:function(){$("*[data-slide-target]").removeClass("w-slide__btn"),t.$ul=$(".tab__nav"),t.$ul.each(function(e){switch($(this).data("mobile-toggle")){case"swipe":t.on.swipeDestroy($(this));break;case"dropdown":t.on.dropdownDestroy($(this));break;case"accordion":t.on.accordionDestroy($(this))}})},responsive:function(){$("*[data-slide-target]").addClass("w-slide__btn"),t.$ul=$(".tab__nav"),t.$ul.each(function(e){switch($(this).data("mobile-toggle")){case"swipe":$(this).parent().is(".scroll")||t.on.swipeBuild($(this));break;case"dropdown":$(this).parent().is(".dropBlock")||t.on.dropdownBuild($(this),e);break;case"accordion":$(this).next().hasClass("accordion")||t.on.accordionBuild($(this))}})}}},check:{empty:function(){$(".tab__nav a").each(function(){var e=$(this).attr("href");$(this).is('a:not([href^="#"])')&&!$(this).hasClass("external")||!$(this).hasClass("external")&&$(e).length&&$(e).is(":empty")&&($(e).addClass("empty"),$(this).addClass("empty"))})},viewPort:function(){$(".tab").each(function(){$(this).attr("data-ctrl-res")&&(t.vPort=$(this).attr("data-ctrl-res"))})}}};UX.tab=t}(),function(){$(window);var e=!1,t=$("body"),i={$slide:null,$target:null,$contents:null,$slideinfo:null,$toggle:null,prev:null,vPort:"screen-sm",back:!1,nested:!1,activeSlide:0,oldInfo:[],off:null,clone:null,backLabel:"back",$elements:null,init:function(){i.$slide='<div class="w-slide"><div class="w-slide_head"><a href="#" class="w-slide__back"><i class=" icon-arrow_l" aria-hidden="true"></i>'+i.backLabel+'</a><span class="w-slide__title"></span></span></div><div class="w-slide__content"></div></div>',i.$elements=$(i.$slide),$("main").length>0?$("main").append(i.$elements):$("body").append(i.$elements),i.$contents=i.$elements.find(".w-slide__content"),i.$slideinfo=i.$elements.find(".w-slide__title"),i.$back=i.$elements.find(".w-slide__back"),i.control(),i.addtionalControls()},control:function(){$(".journal-home").length&&(i.vPort="screen-md"),$(document).on(i.vPort+"-on",function(){e=!0,i.off=!1}),$(document).on(i.vPort+"-off",function(){e=!1,i.off=!0,i.on.off()}),t.on("click",".w-slide__btn",function(t){e&&(t.stopPropagation(),t.preventDefault(),$(".w-slide, .w-slide__content").css("transition","all 250ms"),i.$toggle=$(this),i.$target=$(i.$toggle.data("slide-target")),i.back=!1,i.on.show()),$(".w-slide, .w-slide__content").css("transition","all 0ms")}),t.on("click",".w-slide__back, .w-slide__hide",function(e){$(this).hasClass("w-slide__back")&&e.preventDefault(),$(".w-slide, .w-slide__content").css("transition","all 250ms"),i.back=!0,i.on.hide(),$(".w-slide, .w-slide__content").css("transition","all 0ms")})},addtionalControls:function(){},setBackLabel:function(){i.$back.html('<i class=" icon-arrow_l" aria-hidden="true"></i>'+i.backLabel)},on:{show:function(){if(i.backLabel="back",i.setBackLabel(),i.$slideinfo.hide().removeClass("js--open"),i.nested=i.$toggle.parents(".w-slide__content").length>0,i.nested&&(i.activeSlide++,i.$contents.append('<div class="w-slide__content nested--'+i.activeSlide+'"></div>'),i.$contents=$(".nested--"+i.activeSlide)),i.$contents.attr("original-target",i.$toggle.data("slide-target")),i.$target.hasClass("tab__pane")&&(i.$target.closest(".tab__content").find(".tab__pane").removeClass("active"),i.$target.addClass("active")),i.$toggle.is("[data-label]"))e=i.$toggle.data("label");else var e=i.$toggle.text();(i.$toggle.hasClass("loa")||i.$toggle.parents(".loa.mobile-authors").length>0)&&(e="AUTHORS");n=i.$target.children();if(i.on.destroyJcf(n),i.$toggle.is("[data-slide-clone]")){if(i.clone=i.$toggle.data("slide-clone"),"self"==i.clone)var n=i.$target}else i.clone="";i.oldInfo.push(e),i.$slideinfo.html(e),i.$target.find(".loi").length>0?(i.$contents.append(n.html()),$(".dropBlock-loi__holder .loi").remove(),i.$contents.find(".loi__list").each(function(){UX.loi.on.recalculate($(this))})):("self"==i.clone?i.nested?i.$target.after('<div class="returnNestedDataSlideHere"></div>'):i.$target.after('<div class="returnDataSlideHere"></div>'):i.nested?i.$target.append('<div class="returnNestedDataSlideHere"></div>'):i.$target.append('<div class="returnDataSlideHere"></div>'),i.$contents.append(n.clone()),(n.hasClass("addthis_toolbox")||n.find(".addthis_toolbox").length>0)&&addthis&&addthis.toolbox(".addthis_toolbox"),i.on.rebuildJcf(i.$contents),n.remove()),t.addClass("lock-screen").attr("data-active","slide"),i.$back.focus(),$(".coolBar").addClass("slide"),i.nested?(i.$contents.css("transform","translateX(-100vw)"),i.$slideinfo.show().addClass("js--open")):($(".w-slide").css("transform","translateX(-100vw)"),i.$slideinfo.show().addClass("js--open"))},hide:function(){if(i.$slideinfo.hide().removeClass("js--open"),i.back){i.nested=!0,0==i.activeSlide?(i.nested=!1,i.$contents=$(".w-slide").children(".w-slide__content")):i.$contents=$(".nested--"+i.activeSlide),i.on.destroyJcf(i.$contents);var e=$(i.$contents.attr("original-target"));e||(e=t),i.$elements.find(".loi").length>0?($(".dropBlock-loi__holder").append(i.$contents.html()),$(".dropBlock-loi__holder").find(".loi__list").each(function(){UX.loi.on.recalculate($(this))})):("self"==i.clone?i.nested?($(".returnNestedDataSlideHere").after(i.$contents.html()),$(".returnNestedDataSlideHere").remove()):($(".returnDataSlideHere").after(i.$contents.html()),$(".returnDataSlideHere").remove()):i.nested?($(".returnNestedDataSlideHere",e).after(i.$contents.html()),$(".returnNestedDataSlideHere",e).remove()):($(".returnDataSlideHere",e).after(i.$contents.html()),$(".returnDataSlideHere",e).remove()),i.on.rebuildJcf(e)),i.oldInfo.splice(i.activeSlide,1),i.$slideinfo.html(i.oldInfo[i.activeSlide-1]),i.$toggle&&i.$toggle.focus(),i.nested?(i.activeSlide--,i.$contents.css("transform","translateX(0vw)").on("transitionend webkitTransitionEnd oTransitionEnd",function(){i.back&&i.nested&&$(this).remove()}),i.$contents=$(".nested--"+i.activeSlide),0==i.activeSlide&&(i.$contents=$(".w-slide").children(".w-slide__content"))):(t.removeClass("lock-screen").removeAttr("data-active"),$(".coolBar").removeClass("slide"),$(".w-slide").css("transform","translateX(0vw)").on("transitionend webkitTransitionEnd oTransitionEnd",function(){i.back&&!i.nested&&i.$contents.empty()})),i.$slideinfo.show().addClass("js--open")}i.backLabel="back",i.setBackLabel()},off:function(){i.$slideinfo.hide().removeClass("js--open"),$(".w-slide").find(".loi").length>0&&(i.$contents=$(".loi").closest(".w-slide__content"),$(".dropBlock-loi__holder").append(i.$contents.html()),$(".dropBlock-loi__holder").find(".loi__list").each(function(){UX.loi.on.recalculate($(this))})),t.removeClass("lock-screen").removeAttr("data-active"),$(".coolBar").removeClass("slide"),i.$contents=$(".w-slide").children(".w-slide__content"),$(".w-slide").css("transform","translateX(0vw)").on("transitionend webkitTransitionEnd oTransitionEnd",function(){i.off&&i.$contents.empty()})},destroyJcf:function(e){jcf.destroy(e.find(".jcf"))},rebuildJcf:function(e){jcf.replace(e.find(".jcf"))}}};UX.slide=i}(),function(){var e={dateFormat:"yy-mm-dd",$datepicker:$(".datepicker"),$body:$("body"),lastModfied:"",vPort:"",test:function(){var e=!1;return function(e){var t=document.createElement("input");return t.setAttribute("type",e),t.type===e}("date")&&function(){var e=document.createElement("input");return e.setAttribute("type","date"),e.setAttribute("value","not-a-date"),"not-a-date"!==e.value}()&&(e=!0),e},init:function(){e.test()||(e.$datepicker=e.$datepicker.add($("[type=date]"))),e.$datepicker.each(function(){var t=$(this),i=t.data();void 0!==t.datepicker&&(t.datepicker({dateFormat:i.dateFormat?i.dateFormat:e.dateFormat}),i.altFieldName&&(t.datepicker("option","altField",'[name="'+i.altFieldName+'"]'),t.datepicker("option","altFormat",e.dateFormat)))})}};UX.datepicker=e}(),function(){var e={$editables:null,editable:null,editableInput:null,editableText:null,target:null,targetInput:null,targetText:null,CLASS_HIDDEN:"__hidden",init:function(){this.editable=".js-editable",this.editableInput=".js-editable__input",this.editableText=".js-editable__text",this.$editables=$(this.editable),$.each(this.$editables,function(t,i){""==$(i).find(e.editableText).text()&&$(i).find(e.editableText).text("Click to edit"),$(i).find(e.editableInput).css("display","none")}),e.controller()},controller:function(){e.$editables.on("click",e.on.show)},on:{show:function(t){t.stopPropagation(),e.target=t.currentTarget,e.targetText=$(e.target).find(e.editableText),e.targetInput=$(e.target).find(e.editableInput),e.targetText.addClass(e.CLASS_HIDDEN),e.targetInput.show().focus();var i=e.targetInput.val();e.targetInput.val(""),e.targetInput.val(i),e.targetInput.on("keyup",function(t){switch(t.stopPropagation(),t.keyCode){case 13:e.on.save();break;case 27:e.on.cancel();break;default:return}}),e.targetInput.on("blur",e.on.save)},cancel:function(){e.targetInput.val(e.targetText.text()),e.on.hide()},save:function(){e.targetText.text(e.targetInput.val()),e.on.hide()},hide:function(){e.targetText.removeClass(e.CLASS_HIDDEN),e.targetInput.off("blur",e.on.blur),e.targetInput.hide()}}};UX.editInPlace=e}(),function(){var e={$counters:null,counter:null,counterInput:null,counterOutput:null,$target:null,$targetInput:null,$argetOutput:null,maxlength:null,init:function(){this.counter=".js-counter",this.counterInput=".js-counter__input",this.counterOutput=".js-counter__output",this.$counters=$(this.counterInput),e.controller()},controller:function(){$.each(this.$counters,function(t,i){$(i).closest(e.counter).find(e.counterOutput).html($(i).attr("data-maxchars")-$(i).val().length)}),e.$counters.on("focus",e.on.focus)},on:{focus:function(t){e.$targetInput=$(t.currentTarget),e.$targetOutput=e.$targetInput.closest(e.counter).find(e.counterOutput),e.$targetInput.on("keyup",e.on.count),e.$targetInput.on("blur",e.on.blur),e.maxlength=e.$targetInput.attr("data-maxchars"),e.on.count()},blur:function(){e.$targetInput.off("keyup",e.on.count)},count:function(){var t=e.$targetInput.val(),i=t.length,n=e.maxlength-i;i>e.maxlength&&(e.$targetInput.val(t.substr(0,e.maxlength)),n=0),e.$targetOutput.text(n)}}};UX.charCounter=e}(),function(){var e={$tableBody:$(".sortable-table tbody"),init:function(){void 0!==e.$tableBody.sortable&&e.$tableBody.sortable({handle:".btn--handle",items:"tr.sortable-row",stop:e.afterStopSortRow,axis:"y"})},controller:function(){},afterStopSortRow:function(e,t){$(".submission-authors").length>0&&t.item.closest(".authors__table").find(".author__row").each(function(e){$(this).find("input.author__order").val(e)})}};UX.sortableTableRow=e}(),function(){$(window);var e=$("body"),t={containerName:".client-pagination",showPerPage:null,$currentPage:null,$pagesdisplyed:null,tableRow:".client-pagination-table .tablerow",init:function(){t.showPerPage=parseInt($(t.containerName).find(".show_per_page").val(),0),t.$currentPage=$(t.containerName).find(".current_page"),t.$pagesdisplyed=parseInt($(t.containerName).find(".pages-displyed").val(),0),t.buildPagination(),t.control()},set:{containerName:function(e){t.containerName=e},tableRowName:function(e){t.tableRow=e}},control:function(){e.on("click",t.containerName+" .pagination__btn--prev",function(e){e.preventDefault(),t.previous()}),e.on("click",t.containerName+" .pagination__btn--next",function(e){e.preventDefault(),t.next()}),e.on("click",t.containerName+" .page",function(e){e.preventDefault(),t.goToPage($(this).data("page-index"))})},buildPagination:function(){var e=$(t.tableRow).length,i=Math.ceil(e/t.showPerPage);if($(t.containerName).remove(".page"),e>t.showPerPage){$(t.tableRow).css("display","none"),$(t.containerName).removeClass("hidden"),$(t.tableRow).slice(0,t.showPerPage).css("display","table-row"),$(t.containerName).find(".prev").hide(),$(t.containerName).find(".next").show();var n=0;for($(t.containerName).find(".pages").empty();n<i;)n>=t.$pagesdisplyed?$(t.containerName).find(".pages").append('<a class="page hidden" href="#" title="page '+(n+1)+'" data-page-index="'+n+'">'+(n+1)+"</a>"):$(t.containerName).find(".pages").append('<a class="page" href="#" title="page '+(n+1)+'" data-page-index="'+n+'">'+(n+1)+"</a>"),n++;$(t.containerName).find('[data-page-index="0"]').addClass("selected")}else $(t.containerName).addClass("hidden")},goToPage:function(e){var n=$(t.tableRow).length,s=Math.ceil(n/t.showPerPage),o=e*t.showPerPage,a=o+t.showPerPage,r=$(t.containerName).find('[data-page-index="'+e+'"]');$(t.tableRow).css("display","none").slice(o,a).css("display","table-row"),t.$currentPage.val(e),$(t.containerName).find(".page").removeClass("selected"),r.addClass("selected");var l=Math.ceil(t.$pagesdisplyed/2);if($(t.containerName).find(".page").addClass("hidden"),e+1>l)for(i=e+1-l;i<e+l;i++)i<=s&&$(t.containerName).find('[data-page-index="'+i+'"]').removeClass("hidden");else for(i=0;i<t.$pagesdisplyed;i++)$(t.containerName).find('[data-page-index="'+i+'"]').removeClass("hidden");0==e?$(t.containerName).find(".prev").hide():$(t.containerName).find(".prev").show(),e==s-1?$(t.containerName).find(".next").hide():$(t.containerName).find(".next").show()},previous:function(){var e=parseInt(t.$currentPage.val(),0)-1;e>-1&&t.goToPage(e)},next:function(){var e=parseInt(t.$currentPage.val(),0)+1,i=$(t.tableRow).length;e<Math.ceil(i/t.showPerPage)&&t.goToPage(e)}};UX.clientPagination=t}(),function(){var e=$(window),t=$("body"),i={element:".back-to-top",footerBackToTop:"footer .back-to-top",init:function(){i.controller()},controller:function(){t.on("click",i.element,function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},600)}),e.on("scroll",function(){$(i.footerBackToTop).length&&($(this).scrollTop()>$("header").height()?$(i.footerBackToTop).addClass("back-to-top__is-visible"):$(i.footerBackToTop).removeClass("back-to-top__is-visible back-to-top__fade-out"),$(this).scrollTop()>400&&$(i.footerBackToTop).addClass("back-to-top__fade-out"),i.check.isfooterVisible()?$(i.footerBackToTop).addClass("back-to-top__static"):$(i.footerBackToTop).removeClass("back-to-top__static"))})},check:{isfooterVisible:function(){var e=$(window).scrollTop()+$(window).height();return $("footer").offset().top<=e}}};UX.backToTop=i}(),function(){var e=$(window),t=$("body"),i=!1,n={isMobile:!1,vPort:"screen-md",$scrollPoints:$(".section__title"),$block:$(".sections-block"),dateTime:new Date,checkScrollingEvery:500,vPort:"screen-sm",init:function(){n.$scrollPoints.length&&(n.$scrollPoints.each(function(e){n.$block.find("ul").append('<li><a title="'+$(this).text()+'" href="#'+$(this).attr("id")+'">'+$(this).text()+"</a></li>")}),n.set.selectedSection(),n.controller())},controller:function(){t.on("click",".sections-block a",function(e){n.$block.find("a").removeClass("active"),$(this).addClass("active")}),$(document).on(n.vPort+"-on",function(){i=!0}),$(document).on(n.vPort+"-off",function(){i=!1}),e.on("scroll",function(){if(!i){var e=new Date;if(0==$(window).scrollTop()&&n.$block.find("a").removeClass("active"),e-n.dateTime<n.checkScrollingEvery)return;n.dateTime=e,n.$scrollPoints.each(function(e){if($(window).scrollTop()>=$(this).offset().top-n.get.fixedpageElementsHeight()-$(this).height()-15){var t=$(this).attr("id");n.$block.find("a").removeClass("active"),n.$block.find('a[href="#'+t+'"]').addClass("active")}})}})},set:{selectedSection:function(){window.location.hash&&n.$block.find('a[href="'+window.location.hash+'"]').addClass("active")}},get:{fixedpageElementsHeight:function(){var e=$("header.fixed, .pageHeader").outerHeight();return e||(e=0),$(".fixed-element").length&&$.each($(".fixed-element"),function(t,i){$(i).outerHeight()&&(e+=$(i).outerHeight())}),e}}};UX.sidebarSections=n}(),function(){var e=$("body"),t={container:null,$wrapper:null,$toggle:null,$form:null,$terms:null,$markAll:null,maxClone:2,init:function(){t.$toggle=$(".reproducible"),t.$wrapper=$(".reproducible__wrapper"),t.container=".reproducible__container",t.control();var e=t.$wrapper.children(".reproducible").length;t.check.lastClone(e)},control:function(){e.on("keypress click",'[class*="-ctrl-field"]',function(e){e.preventDefault(),13!==e.which&&"click"!==e.type||(t.$wrapper=$(this).closest(".reproducible__wrapper"),t.$toggle=$(this).closest(".reproducible"),t.$terms=$(this).closest(".reproducible__wrapper").find(".reproducible"),0==$(t.container).length&&($(this).is(".add-ctrl-field")?t.$terms.length<t.maxClone+1&&t.on.clone($(this)):t.$terms.length>1&&t.on.remove($(this))))}),e.on("click",'[name="markall"]',function(e){t.on.markAll($(this))})},on:{clone:function(e){jcf.destroy($(".reproducible .jcf")),t.$toggle.clone(!0,!0).find("input").val("").end().appendTo(t.$wrapper),$(".reproducible .jcf").each(function(){jcf.replace($(this))}),t.check.terms(e);var i=t.$wrapper.children(".reproducible").length;t.check.lastClone(i)},remove:function(e){t.$toggle.remove(),t.check.terms(e);var i=t.$wrapper.children(".reproducible").length;t.check.lastClone(i)},markAll:function(e){t.$markAll=e.closest(".markAll"),e.prop("checked")?t.$markAll.find('[type="checkbox"]').prop("checked",!0):t.$markAll.find('[type="checkbox"]').prop("checked",!1)}},check:{terms:function(e){var i=e.closest(".reproducible").find("input").attr("name");if(i)var n=i.split("["),s=n[1].split("]");0==$(t.container).length?t.$terms=$(".reproducible"):t.$terms=e.parents(t.container).find(".reproducible");var o=0;t.$terms.each(function(e){if($(this).parents(".template").length)o=1;else{var t=e-o;$(this).find("input").attr("name",n[0]+"["+t+"]"+s[1])}})},lastClone:function(e){e==t.maxClone?t.$wrapper.children(".reproducible:last-child").children(".add-ctrl-field").addClass("hidden"):t.$wrapper.children(".reproducible:last-child").children(".add-ctrl-field").removeClass("hidden")}}};UX.fieldsCtrl=t}(),function(){$(window);var e=$("body"),t={$slider:null,options:{},vPort:"always",isMobile:!1,init:function(){t.additionalInit(),t.on.build(),t.control(),t.additionalControls()},control:function(){e.on("click",".owl-play",function(){t.$slider=$(this).closest(".owl-carousel"),t.$slider.data("owl.carousel").options.autoplay=!0,t.$slider.trigger("refresh.owl.carousel")}),e.on("click",".owl-pause",function(){t.$slider=$(this).closest(".owl-carousel"),t.$slider.trigger("stop.owl.autoplay")}),e.on("touchend",".owl-pause, .owl-play, .owl-prev, .owl-next",function(){$(this).css("background","#d6d6d6")}),$("body").on("touchstart",".owl-pause, .owl-play, .owl-prev, .owl-next",function(){$(this).css("background","#869791")}),$(".owl-carousel").each(function(){var e=$(this);void 0!==e.closest(".viewport-slider").data("slider-vport")&&(t.vPort=e.closest(".viewport-slider").data("slider-vport"),$(document).on(t.vPort+"-on",function(){t.isMobile=!0,t.get.options(e,!0)}),$(document).on(t.vPort+"-off",function(){t.isMobile=!1,t.on.destroy(e)}))}),$(".owl-item:not(.cloned)").first().hasClass("active")&&$(".owl-nav .owl-next").addClass("owl-nav-active")},additionalInit:function(){},additionalControls:function(){},get:{options:function(e,i){t.$slider=e,t.speed=t.$slider.data("speed"),t.autoplay=t.$slider.data("autoplay"),t.animation=t.$slider.data("animation"),t.autoWidth=t.set.autoWidth(),"fade"===t.animation?t.animation="fadeOut":"slide"===t.animation?t.animation="":"none"===t.animation&&(t.animation="fadeOut",t.speed=0),t.items=t.$slider.data("items"),t.set.responsive(),t.indicators=t.$slider.data("indicators"),t.arrow=t.$slider.data("arrow"),t.controls=t.$slider.data("controls"),t.stagePadding=t.$slider.data("stagepadding"),UX.slider.loop=UX.slider.$slider.data("loop"),UX.slider.slideBy=UX.slider.$slider.data("slideby"),t.options={stagePadding:t.stagePadding,loop:UX.slider.loop,items:t.items,responsive:t.responsive,autoplay:t.autoplay,smartSpeed:t.speed,autoWidth:t.autoWidth,animateOut:t.animation,dots:t.indicators,nav:t.arrow,slideBy:UX.slider.slideBy,autoHeight:!0,navText:["<span class='hidden-xs'>prev</span><i class='icon-arrow_l visible-xs'></i>","<span class='hidden-xs'>next</span><i class='icon-arrow_r visible-xs'></i>"],onInitialized:function(){t.$slider.find(".owl-item").attr("aria-selected","false"),t.$slider.find(".owl-item.active").attr("aria-selected","true"),t.$slider.find(".owl-prev").attr("role","button").attr("title","Previous"),t.$slider.find(".owl-next").attr("role","button").attr("title","Next"),t.$slider.attr("tabindex","0"),$(".owl-prev, .owl-next").attr("tabindex","0"),t.$slider.find(".owl-wrapper-outer").append(""),$(document).on("keydown",function(e){var i=$(document.activeElement),n=(t.$slider.data("owlCarousel"),39==e.which?"next":null),n=37==e.which?"prev":n,n=13==e.which?"enter":n;i.parents().hasClass("owl-loaded")||i.hasClass("owl-loaded")?"next"==n?t.$slider.trigger("next.owl.carousel"):"prev"==n&&t.$slider.trigger("prev.owl.carousel"):"enter"==n&&(i.hasClass("owl-next")?t.$slider.trigger("next.owl.carousel"):i.hasClass("owl-prev")&&t.$slider.trigger("prev.owl.carousel"))}),t.$slider.find(".owl-item").attr("aria-selected","false"),t.$slider.find(".owl-item.active").attr("aria-selected","true"),t.$slider.find(".owl-item.active").first().addClass("first"),t.$slider.closest(".equal-height-slides").length&&t.$slider.height()>0&&(t.$slider.find(".owl-item",".slide-item").css("height",t.$slider.height()),t.$slider.find(".slide-item").css("height","100%"))}},t.on.activate(t.$slider,i),t.controls&&t.on.buildControls(t.$slider)},responsiveData:function(){if(t.$slider.data("responsive"))return t.$slider.data("responsive");var e=t.$slider.closest(".responsive-slider").data("responsive");return e||null}},set:{responsive:function(){if(t.responsive=t.get.responsiveData(),t.responsive)for(var e in t.responsive){switch(e){case"xsMin":t.responsive[0]=t.responsive[e];break;case"smMin":t.responsive[UX.grid.screenXs]=t.responsive[e];break;case"mdMin":t.responsive[UX.grid.screenSm]=t.responsive[e];break;case"lgMin":t.responsive[UX.grid.screenMd]=t.responsive[e]}delete t.responsive[e]}},autoWidth:function(){return!1}},on:{destroy:function(e){t.vPort.length>0&&(e.hasClass("slide-removal")||(e.addClass("slide-removal").trigger("destroy.owl.carousel"),e.find(".owl-stage-outer").children(":eq(0)").unwrap()))},activate:function(e,i){i||"always"==t.vPort?(e.owlCarousel(t.options),e.hasClass("slide-removal")&&e.removeClass("slide-removal")):e.hasClass("slide-removal")||e.addClass("slide-removal")},build:function(){$(".owl-carousel").each(function(e){void 0!==$(this).closest(".viewport-slider").data("slider-vport")&&(t.vPort=$(this).closest(".viewport-slider").data("slider-vport")),t.get.options($(this),!1),$(this).on("changed.owl.carousel",function(e){t.on.changedSlide($(this),e)}),$(this).on("translated.owl.carousel",function(e){t.on.translated($(this))})})},translated:function(e){$(this).find(".owl-item").removeClass("first"),$(this).find(".owl-item.active").first().addClass("first")},changedSlide:function(e,t){$(".owl-item:not(.cloned)").last().hasClass("active")?($(".owl-nav .owl-next").addClass("owl-nav-active"),$(".owl-nav .owl-prev").removeClass("owl-nav-active")):$(".owl-item:not(.cloned)").first().hasClass("active")&&($(".owl-nav .owl-prev").addClass("owl-nav-active"),$(".owl-nav .owl-next").removeClass("owl-nav-active"))},rebuild:{responsive:function(){}},buildControls:function(e){var t=e.find(".owl-stage-outer");0==e.find(".owl-controls").length&&t.after('<div class="owl-controls"><div class="owl-play">Play</div><div class="owl-pause">Pause</div></div>')}}};UX.slider=t}(),function(){var e=$("body"),t=$(window),i={$wrapper:null,$list:null,$loiHolder:null,$controls:null,$nextBtn:null,$prevBtn:null,$listItem:null,revers:!1,isTouched:!1,pointerPosition:0,cumulativeShift:0,isMobile:!1,vPort:"screen-sm",year:null,widgetId:null,pagecontext:null,doi:null,decade:null,wrapper:$(".loi-wrapper"),targetPane:null,url:"/specs/products/ux3/widgets/list-of-issues/templates/list-of-issues/ajax/2009.html",init:function(){i.$wrapper=$(".swipe__wrapper"),i.$list=$(".loi__list"),i.$loiHolder=$(".dropBlock-loi__holder"),i.$controls='<div class="loi-list__controls"><span class="loi__btn--prev"><i class="icon-arrow_l" aria-hidden="true"></i></span><span class="loi__btn--next"><i class="icon-arrow_r" aria-hidden="true"></i></span></div>',i.addtionalInitialization(),i.on.build(),i.control(),i.addtionalControls(),t.resize(function(){i.on.rebuild()}),i.on.pageLoad()},addtionalInitialization:function(){},control:function(){i.$list.on("click","a",function(e){i.$listItem=$(this),i.$listItem.closest(".swipe__wrapper").find(".loi-list__controls").length>0&&i.on.select()}),e.on("click",".loi__btn--prev",function(){i.$prevBtn=$(this),i.on.prev()}),e.on("click",".loi__btn--next",function(){i.$nextBtn=$(this),i.on.next()}),e.on("click",".tab__nav a",function(){var e=$(this).attr("href");$(e).hasClass("nested-tab")&&setTimeout(function(){i.on.recalculate($(e).find(".tab__nav"))},50)}),e.on("touchmove",function(e){i.on.touch.move(e)}),$(document).on(i.vPort+"-on",function(){i.isMobile=!0,$(".loi").addClass("loi--res"),$(".loi__banner").addClass("loi--res"),$(".corrections-container__label").length>0&&$(".corrections-container__label").addClass("w-slide__btn")}),$(document).on(i.vPort+"-off",function(){i.isMobile=!1,$(".loi").removeClass("loi--res"),$(".loi__banner").removeClass("loi--res"),$(".corrections-container__label").length>0&&$(".corrections-container__label").removeClass("w-slide__btn")}),e.on("click",".loi__list a",function(){if(i.wrapper=$(this).closest(".loi-wrapper"),$(this).closest(".tab__pane").length?(i.get.activeDecade($(this)),i.get.year($(this))):(i.get.decade($(this)),i.get.activeYear($(this))),i.get.doi(),i.get.pagecontext(),i.get.url(),i.wrapper.find(".dropBlock-loi__holder").length)e=i.wrapper.find(".dropBlock-loi__holder").attr("data-grouptype");else var e=i.wrapper.attr("data-grouptype");"decade"==e&&i.year&&i.decade&&i.pagecontext&&i.doi&&i.load.ajax()})},addtionalControls:function(){},on:{select:function(){i.$list=i.$listItem.closest(".swipe__wrapper").find(".loi__list"),i.$nextBtn=i.$listItem.closest(".swipe__wrapper").find(".loi__btn--next"),i.$prevBtn=i.$listItem.closest(".swipe__wrapper").find(".loi__btn--prev"),i.$scroll=i.$list.closest(".scroll");var e=i.$listItem.offset().left,t=i.$nextBtn.offset().left,n=i.$prevBtn.offset().left;e>t-i.$listItem.outerWidth()?i.$scroll.stop().animate({scrollLeft:"+="+i.$listItem.outerWidth()},500,"linear",function(){i.on.activeArrows()}):e<n+i.$prevBtn.outerWidth()&&i.$scroll.stop().animate({scrollLeft:"-="+i.$listItem.outerWidth()},500,"linear",function(){i.on.activeArrows()})},next:function(){i.$list=i.$nextBtn.closest(".swipe__wrapper").find(".loi__list"),i.$prevBtn=i.$list.closest(".loi-list__wrapper").find(".loi__btn--prev"),i.$scroll=i.$list.closest(".scroll");var e=i.$scroll.width()-20;i.$nextBtn.hasClass("inactive")||i.$scroll.stop().animate({scrollLeft:"+="+e},500,"linear",function(){i.on.activeArrows()})},prev:function(){i.$list=i.$prevBtn.closest(".swipe__wrapper").find(".loi__list"),i.$nextBtn=i.$list.closest(".loi-list__wrapper").find(".loi__btn--next"),i.$scroll=i.$list.closest(".scroll");var e=i.$scroll.width()-20;i.$scroll.stop().animate({scrollLeft:"-="+e},500,"linear",function(){i.on.activeArrows()})},touch:{move:function(e){($(e.target).closest(".loi__list").length||$(e.target).hasClass("loi__list"))&&(i.$list=$(e.target).closest(".loi__list"),i.$wrapper=$(e.target).closest(".loi-list__wrapper"),i.$nextBtn=$(e.target).closest(".loi-list__wrapper").find(".loi__btn--next"),i.$prevBtn=$(e.target).closest(".loi-list__wrapper").find(".loi__btn--prev"),i.on.activeArrows())}},escape:function(){},tab:function(){},tabRevers:function(){},activeArrows:function(){i.$scroll=i.$list.closest(".scroll"),parseInt(i.$scroll.scrollLeft())>0?i.$prevBtn.removeClass("inactive"):i.$prevBtn.addClass("inactive");var e=i.$list.width(),t=i.$wrapper.width()+10;parseInt(i.$scroll.scrollLeft())>parseInt(e-t)?i.$nextBtn.addClass("inactive"):i.$nextBtn.removeClass("inactive")},build:function(){i.$wrapper=i.$list.closest(".swipe__wrapper"),i.$wrapper.addClass("loi-list__wrapper"),i.$list.each(function(e){$(this).width()>i.$wrapper.width()&&$(this).closest(".swipe__wrapper").prepend(i.$controls),$(".loi__btn--prev").addClass("inactive")}),i.$nextBtn=$(".loi__btn--next"),i.$prevBtn=$(".loi__btn--prev"),$(".journal-home").length&&(i.vPort="screen-md")},rebuild:function(){$(".loi-list__controls").remove(),i.$list=$(".loi__list"),i.$list.each(function(e){$(this).width()>i.$wrapper.width()?($(this).closest(".swipe__wrapper").prepend(i.$controls),$(".loi__btn--prev").addClass("inactive")):$(this).closest(".swipe__wrapper").find(".loi-list__controls").remove()})},recalculate:function(e){var t=25;e.find("li").each(function(e){t+=$(this).innerWidth()}),e.width(t),i.$wrapper=e.closest(".swipe__wrapper").addClass("loi-list__wrapper"),t>i.$wrapper.width()?(0==e.closest(".swipe__wrapper").find(".loi-list__controls").length&&e.closest(".swipe__wrapper").prepend(i.$controls),$(".loi__btn--prev").addClass("inactive")):e.closest(".swipe__wrapper").find(".loi-list__controls").remove()},pageLoad:function(){var e={};window.location.search.substr(1).split("&").map(function(t){var i=t.split("=");e[i[0]]=i[1]}),i.$loiHolder.each(function(t,i){var n=$(i).attr("data-grouptype"),s=$(i).prev(".loi__banner-list");if(e.year)if("decade"===n){var o=$("[data-expand="+e.year+"]",i);if(o.length){var a=o.closest("li[role=tabpanel]").attr("id"),r=$("a[href$=#"+a+"]",i);$(".loi__archive",s).trigger("click"),r.length&&r.trigger("focus").trigger("click"),setTimeout(function(){o.trigger("focus").trigger("click")},100)}}else"year"===n&&($(".loi__archive",s).trigger("click"),$("[data-expand="+e.year+"]",i).trigger("focus").trigger("click"));e.volume&&"volume"===n&&($(".loi__archive",s).trigger("click"),$("[data-expand="+e.volume+"]",i).trigger("click"))})}},load:{ajax:function(){($(i.targetPane).is(":empty")||$(i.targetPane).children("ul").is(":empty"))&&($(i.targetPane).addClass("loading"),$(i.targetPane).load(i.url,function(e,t,n){if("error"==t){console.log("Sorry but there was an error: "+n.status+" "+n.statusText+"=========="+i.url)}$(i.targetPane).removeClass("loading")}))}},get:{year:function(e){i.year=e.find("span").text(),i.targetPane=e.attr("href")},activeDecade:function(e){var t=e.closest(".tab__pane").attr("aria-labelledby");i.decade=$("#"+t).find("span").text()},decade:function(e){i.decade=e.find("span").text()},activeYear:function(e){var t=e.attr("href");i.year=$(t).find(".loi__list").find(".active").find("span").text(),i.targetPane=$(t).find(".loi__list").find(".active").find("a").attr("href")},url:function(){i.widgetId=i.wrapper.attr("data-db-parent-of"),void 0==i.widgetId&&(i.widgetId=i.wrapper.attr("data-widget-id")),i.url="/pb/widgets/loi/loiAjax?widgetId="+i.widgetId+"&pbContext="+i.pagecontext+"&doi="+i.doi+"&decadeRange="+i.decade+"&yearParam="+i.year},doi:function(){i.doi=i.wrapper.attr("data-journal-doi")},pagecontext:function(){i.pagecontext=encodeURI($("[name='pbContext']").attr("content"))}},check:{viewPort:function(){$(".loi").each(function(){$(this).attr("data-ctrl-res")&&(i.vPort=$(this).attr("data-ctrl-res"))})}}};UX.loi=i}(),function(){var e={init:function(){e.control()},control:function(){$(document).on("change",".trustedProxyUserId",function(){this.closest("form").submit()})}};UX.trustedPoxy=e}(),$(document).ready(function(){$(".registration__personal .registration__button").on("click",function(e){e.preventDefault(),alert("Registration magic happens"),$(this).parents(".row").slideUp(200),$(this).parents(".row").next().find(".accordion__control").click()})}),function(e){"use strict";var t=function(t,i){var n=this,s=e.extend({},i),o=e.extend(!0,{},{allowFreeEntries:!0,allowDuplicates:!1,ajaxConfig:{},autoSelect:!0,selectFirst:!1,queryParam:"query",beforeSend:function(){},cls:"",data:null,dataUrlParams:{},disabled:!1,disabledField:null,displayField:"name",editable:!0,expanded:!1,expandOnFocus:!1,groupBy:null,hideTrigger:!1,highlight:!0,id:null,infoMsgCls:"",inputCfg:{},invalidCls:"ms-inv",matchCase:!1,maxDropHeight:290,maxEntryLength:null,maxEntryRenderer:function(e){return"Please reduce your entry by "+e+" character"+(e>1?"s":"")},maxSuggestions:null,maxSelection:10,maxSelectionRenderer:function(e){return"You cannot choose more than "+e+" item"+(e>1?"s":"")},method:"POST",minChars:0,minCharsRenderer:function(e){return"Please type "+e+" more character"+(e>1?"s":"")},mode:"local",name:null,noSuggestionText:"No suggestions",placeholder:"Type or click here",renderer:null,required:!1,resultAsString:!1,resultAsStringDelimiter:",",resultsField:"results",selectionCls:"",selectionContainer:null,selectionPosition:"inner",selectionRenderer:null,selectionStacked:!1,sortDir:"asc",sortOrder:null,strictSuggest:!1,style:"",toggleOnClick:!1,typeDelay:400,useTabKey:!1,useCommaKey:!0,useZebraStyle:!1,value:null,valueField:"id",vregex:null,vtype:null},s);this.addToSelection=function(t,i){if(!o.maxSelection||r.length<o.maxSelection){e.isArray(t)||(t=[t]);var s=!1;e.each(t,function(t,i){(o.allowDuplicates||-1===e.inArray(i[o.valueField],n.getValue()))&&(r.push(i),s=!0)}),!0===s&&(f._renderSelection(),this.empty(),!0!==i&&e(this).trigger("selectionchange",[this,this.getSelection()]))}this.input.attr("placeholder","inner"===o.selectionPosition&&this.getValue().length>0?"":o.placeholder)},this.clear=function(e){this.removeFromSelection(r.slice(0),e)},this.collapse=function(){!0===o.expanded&&(this.combobox.detach(),o.expanded=!1,e(this).trigger("collapse",[this]))},this.disable=function(){this.container.addClass("ms-ctn-disabled"),o.disabled=!0,n.input.attr("disabled",!0)},this.empty=function(){this.input.val("")},this.enable=function(){this.container.removeClass("ms-ctn-disabled"),o.disabled=!1,n.input.attr("disabled",!1)},this.expand=function(){!o.expanded&&(this.input.val().length>=o.minChars||this.combobox.children().size()>0)&&(this.combobox.appendTo(this.container),f._processSuggestions(),o.expanded=!0,e(this).trigger("expand",[this]))},this.isDisabled=function(){return o.disabled},this.isValid=function(){var t=!1===o.required||r.length>0;return(o.vtype||o.vregex)&&e.each(r,function(e,i){t=t&&f._validateSingleItem(i[o.valueField])}),t},this.getDataUrlParams=function(){return o.dataUrlParams},this.getName=function(){return o.name},this.getSelection=function(){return r},this.getRawValue=function(){return n.input.val()},this.getValue=function(){return e.map(r,function(e){return e[o.valueField]})},this.removeFromSelection=function(t,i){e.isArray(t)||(t=[t]);var s=!1;e.each(t,function(t,i){var a=e.inArray(i[o.valueField],n.getValue());a>-1&&(r.splice(a,1),s=!0)}),!0===s&&(f._renderSelection(),!0!==i&&e(this).trigger("selectionchange",[this,this.getSelection()]),o.expandOnFocus&&n.expand(),o.expanded&&f._processSuggestions()),this.input.attr("placeholder","inner"===o.selectionPosition&&this.getValue().length>0?"":o.placeholder)},this.getData=function(){return h},this.setData=function(e){o.data=e,f._processSuggestions()},this.setName=function(t){o.name=t,t&&(o.name+=t.indexOf("[]")>0?"":"[]"),n._valueContainer&&e.each(n._valueContainer.children(),function(e,t){t.name=o.name})},this.setSelection=function(e){this.clear(),this.addToSelection(e)},this.setValue=function(t){var i=[];e.each(t,function(t,n){var s=!1;if(e.each(h,function(e,t){if(t[o.valueField]==n)return i.push(t),s=!0,!1}),!s)if("object"==typeof n)i.push(n);else{var a={};a[o.valueField]=n,a[o.displayField]=n,i.push(a)}}),i.length>0&&this.addToSelection(i)},this.setDataUrlParams=function(t){o.dataUrlParams=e.extend({},t)};var a,r=[],l=0,c=!1,d=null,h=[],u=!1,p={BACKSPACE:8,TAB:9,ENTER:13,CTRL:17,ESC:27,SPACE:32,UPARROW:38,DOWNARROW:40,COMMA:188},f={_displaySuggestions:function(t){n.combobox.show(),n.combobox.empty();var i=0,s=0;if(null===d)f._renderComboItems(t),i=l*t.length;else{for(var a in d)s+=1,e("<div/>",{class:"ms-res-group",html:a}).appendTo(n.combobox),f._renderComboItems(d[a].items,!0);var r=n.combobox.find(".ms-res-group").outerHeight();if(null!==r){var c=s*r;i=l*t.length+c}else i=l*(t.length+s)}if(i<n.combobox.height()||i<=o.maxDropHeight?n.combobox.height(i):i>=n.combobox.height()&&i>o.maxDropHeight&&n.combobox.height(o.maxDropHeight),1===t.length&&!0===o.autoSelect&&n.combobox.children().filter(":not(.ms-res-item-disabled):last").addClass("ms-res-item-active"),!0===o.selectFirst&&n.combobox.children().filter(":not(.ms-res-item-disabled):first").addClass("ms-res-item-active"),0===t.length&&""!==n.getRawValue()){var h=o.noSuggestionText.replace(/\{\{.*\}\}/,n.input.val());f._updateHelper(h),n.collapse()}!1===o.allowFreeEntries&&(0===t.length?(e(n.input).addClass(o.invalidCls),n.combobox.hide()):e(n.input).removeClass(o.invalidCls))},_getEntriesFromStringArray:function(t){var i=[];return e.each(t,function(t,n){var s={};s[o.displayField]=s[o.valueField]=e.trim(n),i.push(s)}),i},_highlightSuggestion:function(t){var i=n.input.val();if(e.each(["^","$","*","+","?",".","(",")",":","!","|","{","}","[","]"],function(e,t){i=i.replace(t,"\\"+t)}),0===i.length)return t;var s=!0===o.matchCase?"g":"gi";return t.replace(new RegExp("("+i+")(?!([^<]+)?>)",s),"<em>$1</em>")},_moveSelectedRow:function(e){o.expanded||n.expand();var t,i,s,a;t=n.combobox.find(".ms-res-item:not(.ms-res-item-disabled)"),i="down"===e?t.eq(0):t.filter(":last"),(s=n.combobox.find(".ms-res-item-active:not(.ms-res-item-disabled):first")).length>0&&("down"===e?(0===(i=s.nextAll(".ms-res-item:not(.ms-res-item-disabled)").first()).length&&(i=t.eq(0)),a=n.combobox.scrollTop(),n.combobox.scrollTop(0),i[0].offsetTop+i.outerHeight()>n.combobox.height()&&n.combobox.scrollTop(a+l)):(0===(i=s.prevAll(".ms-res-item:not(.ms-res-item-disabled)").first()).length&&(i=t.filter(":last"),n.combobox.scrollTop(l*t.length)),i[0].offsetTop<n.combobox.scrollTop()&&n.combobox.scrollTop(n.combobox.scrollTop()-l))),t.removeClass("ms-res-item-active"),i.addClass("ms-res-item-active")},_processSuggestions:function(t){var i=null,s=t||o.data;if(null!==s){if("function"==typeof s&&(s=s.call(n,n.getRawValue())),"string"==typeof s){e(n).trigger("beforeload",[n]);var a={};a[o.queryParam]=n.input.val();var r=e.extend(a,o.dataUrlParams);return void e.ajax(e.extend({type:o.method,url:s,data:r,beforeSend:o.beforeSend,success:function(t){i="string"==typeof t?JSON.parse(t):t,f._processSuggestions(i),e(n).trigger("load",[n,i]),f._asyncValues&&(n.setValue("string"==typeof f._asyncValues?JSON.parse(f._asyncValues):f._asyncValues),f._renderSelection(),delete f._asyncValues)},error:function(){throw"Could not reach server"}},o.ajaxConfig))}h=s.length>0&&"string"==typeof s[0]?f._getEntriesFromStringArray(s):s[o.resultsField]||s;var l="remote"===o.mode?h:f._sortAndTrim(h);f._displaySuggestions(f._group(l))}},_render:function(t){if(n.setName(o.name),n.container=e("<div/>",{class:"ms-ctn form-control "+(o.resultAsString?"ms-as-string ":"")+o.cls+(e(t).hasClass("input-lg")?" input-lg":"")+(e(t).hasClass("input-sm")?" input-sm":"")+(!0===o.disabled?" ms-ctn-disabled":"")+(!0===o.editable?"":" ms-ctn-readonly")+(!1===o.hideTrigger?"":" ms-no-trigger"),style:o.style,id:o.id}),n.container.focus(e.proxy(m._onFocus,this)),n.container.blur(e.proxy(m._onBlur,this)),n.container.keydown(e.proxy(m._onKeyDown,this)),n.container.keyup(e.proxy(m._onKeyUp,this)),n.input=e("<input/>",e.extend({type:"text",class:!0===o.editable?"":" ms-input-readonly",readonly:!o.editable,placeholder:o.placeholder,disabled:o.disabled},o.inputCfg)),n.input.focus(e.proxy(m._onInputFocus,this)),n.input.click(e.proxy(m._onInputClick,this)),n.combobox=e("<div/>",{class:"ms-res-ctn dropdown-menu"}).height(o.maxDropHeight),n.combobox.on("click","div.ms-res-item",e.proxy(m._onComboItemSelected,this)),n.combobox.on("mouseover","div.ms-res-item",e.proxy(m._onComboItemMouseOver,this)),o.selectionContainer?(n.selectionContainer=o.selectionContainer,e(n.selectionContainer).addClass("ms-sel-ctn")):n.selectionContainer=e("<div/>",{class:"ms-sel-ctn"}),n.selectionContainer.click(e.proxy(m._onFocus,this)),"inner"!==o.selectionPosition||o.selectionContainer?n.container.append(n.input):n.selectionContainer.append(n.input),n.helper=e("<span/>",{class:"ms-helper "+o.infoMsgCls}),f._updateHelper(),n.container.append(n.helper),e(t).replaceWith(n.container),!o.selectionContainer)switch(o.selectionPosition){case"bottom":n.selectionContainer.insertAfter(n.container),!0===o.selectionStacked&&(n.selectionContainer.width(n.container.width()),n.selectionContainer.addClass("ms-stacked"));break;case"right":n.selectionContainer.insertAfter(n.container),n.container.css("float","left");break;default:n.container.append(n.selectionContainer)}!1===o.hideTrigger&&(n.trigger=e("<div/>",{class:"ms-trigger",html:'<div class="ms-trigger-ico"></div>'}),n.trigger.click(e.proxy(m._onTriggerClick,this)),n.container.append(n.trigger)),e(window).resize(e.proxy(m._onWindowResized,this)),null===o.value&&null===o.data||("string"==typeof o.data?(f._asyncValues=o.value,f._processSuggestions()):(f._processSuggestions(),null!==o.value&&(n.setValue(o.value),f._renderSelection()))),e("body").click(function(e){n.container.hasClass("ms-ctn-focus")&&0===n.container.has(e.target).length&&e.target.className.indexOf("ms-res-item")<0&&e.target.className.indexOf("ms-close-btn")<0&&n.container[0]!==e.target&&m._onBlur()}),!0===o.expanded&&(o.expanded=!1,n.expand())},_renderComboItems:function(t,i){var s=this,a="";e.each(t,function(t,n){var r=null!==o.renderer?o.renderer.call(s,n):n[o.displayField],l=null!==o.disabledField&&!0===n[o.disabledField],c=e("<div/>",{class:"ms-res-item "+(i?"ms-res-item-grouped ":"")+(l?"ms-res-item-disabled ":"")+(t%2==1&&!0===o.useZebraStyle?"ms-res-odd":""),html:!0===o.highlight?f._highlightSuggestion(r):r,"data-json":JSON.stringify(n)});a+=e("<div/>").append(c).html()}),n.combobox.append(a),l=n.combobox.find(".ms-res-item:first").outerHeight()},_renderSelection:function(){var t=this,i=0,s=0,a=[],l=!0===o.resultAsString&&!c;n.selectionContainer.find(".ms-sel-item").remove(),void 0!==n._valueContainer&&n._valueContainer.remove(),e.each(r,function(i,n){var s,c=null!==o.selectionRenderer?o.selectionRenderer.call(t,n):n[o.displayField],d=f._validateSingleItem(n[o.displayField])?"":" ms-sel-invalid";!0===l?s=e("<div/>",{class:"ms-sel-item ms-sel-text "+o.selectionCls+d,html:c+(i===r.length-1?"":o.resultAsStringDelimiter)}).data("json",n):(s=e("<div/>",{class:"ms-sel-item "+o.selectionCls+d,html:c}).data("json",n),!1===o.disabled&&e("<span/>",{class:"ms-close-btn"}).data("json",n).appendTo(s).click(e.proxy(m._onTagTriggerClick,t))),a.push(s)}),n.selectionContainer.prepend(a),n._valueContainer=e("<div/>",{style:"display: none;"}),e.each(n.getValue(),function(t,i){e("<input/>",{type:"hidden",name:o.name,value:i}).appendTo(n._valueContainer)}),n._valueContainer.appendTo(n.selectionContainer),"inner"!==o.selectionPosition||o.selectionContainer||(n.input.width(0),s=n.input.offset().left-n.selectionContainer.offset().left,i=n.container.width()-s-42,n.input.width(i)),r.length===o.maxSelection?f._updateHelper(o.maxSelectionRenderer.call(this,r.length)):n.helper.hide()},_selectItem:function(e){1===o.maxSelection&&(r=[]),n.addToSelection(e.data("json")),e.removeClass("ms-res-item-active"),!1!==o.expandOnFocus&&r.length!==o.maxSelection||n.collapse(),c?c&&(o.expandOnFocus||u)&&(f._processSuggestions(),u&&n.expand()):n.input.focus()},_sortAndTrim:function(t){var i=n.getRawValue(),s=[],a=[],r=n.getValue();return i.length>0?e.each(t,function(e,t){var n=t[o.displayField];(!0===o.matchCase&&n.indexOf(i)>-1||!1===o.matchCase&&n.toLowerCase().indexOf(i.toLowerCase())>-1)&&(!1!==o.strictSuggest&&0!==n.toLowerCase().indexOf(i.toLowerCase())||s.push(t))}):s=t,e.each(s,function(t,i){(o.allowDuplicates||-1===e.inArray(i[o.valueField],r))&&a.push(i)}),null!==o.sortOrder&&a.sort(function(e,t){return e[o.sortOrder]<t[o.sortOrder]?"asc"===o.sortDir?-1:1:e[o.sortOrder]>t[o.sortOrder]?"asc"===o.sortDir?1:-1:0}),o.maxSuggestions&&o.maxSuggestions>0&&(a=a.slice(0,o.maxSuggestions)),a},_group:function(t){return null!==o.groupBy&&(d={},e.each(t,function(e,t){var i=o.groupBy.indexOf(".")>-1?o.groupBy.split("."):o.groupBy,n=t[o.groupBy];if("string"!=typeof i)for(n=t;i.length>0;)n=n[i.shift()];void 0===d[n]?d[n]={title:n,items:[t]}:d[n].items.push(t)})),t},_updateHelper:function(e){n.helper.html(e),n.helper.is(":visible")||n.helper.fadeIn()},_validateSingleItem:function(e){if(null!==o.vregex&&o.vregex instanceof RegExp)return o.vregex.test(e);if(null!==o.vtype)switch(o.vtype){case"alpha":return/^[a-zA-Z_]+$/.test(e);case"alphanum":return/^[a-zA-Z0-9_]+$/.test(e);case"email":return/^(\w+)([\-+.][\w]+)*@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/.test(e);case"url":return/(((^https?)|(^ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i.test(e);case"ipaddress":return/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(e)}return!0}},m={_onBlur:function(){if(n.container.removeClass("ms-ctn-focus"),n.collapse(),c=!1,""!==n.getRawValue()&&!0===o.allowFreeEntries){var t={};t[o.displayField]=t[o.valueField]=n.getRawValue().trim(),n.addToSelection(t)}f._renderSelection(),!1===n.isValid()?n.container.addClass(o.invalidCls):""!==n.input.val()&&!1===o.allowFreeEntries&&(n.empty(),f._updateHelper("")),e(n).trigger("blur",[n])},_onComboItemMouseOver:function(t){var i=e(t.currentTarget);i.hasClass("ms-res-item-disabled")||(n.combobox.children().removeClass("ms-res-item-active"),i.addClass("ms-res-item-active"))},_onComboItemSelected:function(t){e(t.currentTarget).hasClass("ms-res-item-disabled")||f._selectItem(e(t.currentTarget))},_onFocus:function(){n.input.focus()},_onInputClick:function(){!1===n.isDisabled()&&c&&!0===o.toggleOnClick&&(o.expanded?n.collapse():n.expand())},_onInputFocus:function(){if(!1===n.isDisabled()&&!c){c=!0,n.container.addClass("ms-ctn-focus"),n.container.removeClass(o.invalidCls);var t=n.getRawValue().length;!0===o.expandOnFocus&&n.expand(),r.length===o.maxSelection?f._updateHelper(o.maxSelectionRenderer.call(this,r.length)):t<o.minChars&&f._updateHelper(o.minCharsRenderer.call(this,o.minChars-t)),f._renderSelection(),e(n).trigger("focus",[n])}},_onKeyDown:function(t){var i=n.combobox.find(".ms-res-item-active:not(.ms-res-item-disabled):first"),s=n.input.val();if(e(n).trigger("keydown",[n,t]),t.keyCode!==p.TAB||!1!==o.useTabKey&&(!0!==o.useTabKey||0!==i.length||0!==n.input.val().length))switch(t.keyCode){case p.BACKSPACE:0===s.length&&n.getSelection().length>0&&"inner"===o.selectionPosition&&(r.pop(),f._renderSelection(),e(n).trigger("selectionchange",[n,n.getSelection()]),n.input.attr("placeholder","inner"===o.selectionPosition&&n.getValue().length>0?"":o.placeholder),n.input.focus(),t.preventDefault());break;case p.TAB:case p.ESC:t.preventDefault();break;case p.ENTER:(""!==s||o.expanded)&&t.preventDefault();break;case p.COMMA:!0===o.useCommaKey&&t.preventDefault();break;case p.CTRL:u=!0;break;case p.DOWNARROW:t.preventDefault(),f._moveSelectedRow("down");break;case p.UPARROW:t.preventDefault(),f._moveSelectedRow("up");break;default:r.length===o.maxSelection&&t.preventDefault()}else m._onBlur()},_onKeyUp:function(t){var i,s=n.getRawValue(),l=e.trim(n.input.val()).length>0&&(!o.maxEntryLength||e.trim(n.input.val()).length<=o.maxEntryLength),c={};if(!/(^\s$)|(\s\s+)/g.test(s))if(e(n).trigger("keyup",[n,t]),clearTimeout(a),t.keyCode===p.ESC&&o.expanded&&n.combobox.hide(),t.keyCode===p.TAB&&!1===o.useTabKey||t.keyCode>p.ENTER&&t.keyCode<p.SPACE)t.keyCode===p.CTRL&&(u=!1);else switch(t.keyCode){case p.UPARROW:case p.DOWNARROW:t.preventDefault();break;case p.ENTER:case p.TAB:case p.COMMA:if(t.keyCode!==p.COMMA||!0===o.useCommaKey){if(t.preventDefault(),!0===o.expanded&&(i=n.combobox.find(".ms-res-item-active:not(.ms-res-item-disabled):first")).length>0)return void f._selectItem(i);!0===l&&!0===o.allowFreeEntries&&(c[o.displayField]=c[o.valueField]=s.trim(),n.addToSelection(c),n.collapse(),n.input.focus());break}default:r.length===o.maxSelection?f._updateHelper(o.maxSelectionRenderer.call(this,r.length)):s.length<o.minChars?(f._updateHelper(o.minCharsRenderer.call(this,o.minChars-s.length)),!0===o.expanded&&n.collapse()):o.maxEntryLength&&s.length>o.maxEntryLength?(f._updateHelper(o.maxEntryRenderer.call(this,s.length-o.maxEntryLength)),!0===o.expanded&&n.collapse()):(n.helper.hide(),o.minChars<=s.length&&(a=setTimeout(function(){!0===o.expanded?f._processSuggestions():n.expand()},o.typeDelay)))}},_onTagTriggerClick:function(t){n.removeFromSelection(e(t.currentTarget).data("json"))},_onTriggerClick:function(){if(!1===n.isDisabled()&&(!0!==o.expandOnFocus||r.length!==o.maxSelection))if(e(n).trigger("triggerclick",[n]),!0===o.expanded)n.collapse();else{var t=n.getRawValue().length;t>=o.minChars?(n.input.focus(),n.expand()):f._updateHelper(o.minCharsRenderer.call(this,o.minChars-t))}},_onWindowResized:function(){f._renderSelection()}};null!==t&&f._render(t)};e.fn.magicSuggest=function(i){var n=e(this);return 1===n.size()&&n.data("magicSuggest")?n.data("magicSuggest"):(n.each(function(n){var s=e(this);if(!s.data("magicSuggest")){"select"===this.nodeName.toLowerCase()&&(i.data=[],i.value=[],e.each(this.children,function(t,n){n.nodeName&&"option"===n.nodeName.toLowerCase()&&(i.data.push({id:n.value,name:n.text}),e(n).attr("selected")&&i.value.push(n.value))}));var o={};e.each(this.attributes,function(e,t){o[t.name]="value"===t.name&&""!==t.value?JSON.parse(t.value):t.value});var a=new t(this,e.extend([],e.fn.magicSuggest.defaults,i,o));s.data("magicSuggest",a),a.container.data("magicSuggest",a)}}),1===n.size()?n.data("magicSuggest"):n)},e.fn.magicSuggest.defaults={}}(jQuery),function(){var e={autoCompeteSearchUrl:"",suggestedData:[],enteredTerm:"",inputElem:"",maxWords:"",maxChars:"",confNumOfContributors:"",confNumOfHistoryItems:"",confNumOfPublicationTitles:"",confNumOfTopics:"",selectedOption:"",seriesKey:"",vPort:"screen-md",isMobile:!1,init:function(){e.inputElem=$(".quick-search .magicsuggest"),e.seriesKey=$("input[name=SeriesKey]","[name=thisJournalQuickSearch]").val(),e.controller(),e.additionalController()},controller:function(){$(".quick-search").find(".magicsuggest").each(function(){e.inputElem=$(this),e.maxWords=$(this).data("auto-complete-max-words"),e.maxChars=$(this).data("auto-complete-max-chars");var t=$(this).parent();e.enteredTerm=$(this).val(),t.hasClass("option-citation")?e.citationSuggestions():t.hasClass("option-journal")?e.journalSearchSuggestions():e.searchSuggistions()}),$(document).on("keyup",'[name="defaultQuickSearch"],[name="citationQuickSearch"],[name="thisJournalQuickSearch"]',function(e){13===(e.keyCode||e.which)&&$(e.currentTarget).trigger("submit")}),$(document).on("submit",'[name="defaultQuickSearch"],[name="citationQuickSearch"],[name="thisJournalQuickSearch"]',function(e){var t=!0;$(this).find('input[type="text"],input[type="search"]').each(function(){$(this).val()&&""!=$(this).val()&&(t=!1)}),$(this).find(".ms-sel-item").length>0&&(t=!1),t&&(window.location="/search/advanced",e.preventDefault())})},additionalController:function(){},doSuggest:function(t){e.inputElem.magicSuggest({data:t,method:"GET",valueField:"value",autoSelect:!1,displayField:"label",cls:"search-term",hideTrigger:"true",beforeSend:function(t,i){var n=i.url.substr(i.url.indexOf("query=")+6).replace(/[ââ+]/g," ");if(n.split(" ").length>e.maxWords||n.length>e.maxChars||!n.replace(/\s/g,"").length)return!1}})},citationSuggestions:function(){e.confNumOfPublicationTitles=e.inputElem.data("publication-titles-conf"),e.autoCompeteSearchUrl="/action/doSuggest?target=title-auto-complete&pts="+e.confNumOfPublicationTitles+"&fl=PubID",e.selectedOption="citation",e.doSuggest(e.autoCompeteSearchUrl)},searchSuggistions:function(){e.confNumOfPublicationTitles=e.inputElem.data("publication-titles-conf"),e.confNumOfContributors=e.inputElem.data("contributors-conf"),e.confNumOfTopics=e.inputElem.data("topics-conf"),e.confNumOfHistoryItems=e.inputElem.data("history-items-conf"),e.autoCompeteSearchUrl="/action/doSuggest?target=auto-complete&hs="+e.confNumOfHistoryItems+"&pts="+e.confNumOfPublicationTitles+"&ts="+e.confNumOfTopics+"&cs="+e.confNumOfContributors+"&fl=PubID",e.doSuggest(e.autoCompeteSearchUrl)},journalSearchSuggestions:function(){e.confNumOfPublicationTitles=e.inputElem.data("publication-titles-conf"),e.confNumOfContributors=e.inputElem.data("contributors-conf"),e.confNumOfTopics=e.inputElem.data("topics-conf"),e.confNumOfHistoryItems=e.inputElem.data("history-items-conf"),e.autoCompeteSearchUrl="/action/doSuggest?target=auto-complete&hs="+e.confNumOfHistoryItems+"&pts="+e.confNumOfPublicationTitles+"&ts="+e.confNumOfTopics+"&cs="+e.confNumOfContributors+"&fl=PubID&within="+e.seriesKey,e.doSuggest(e.autoCompeteSearchUrl)}};UX.quickSearch=e}(),function(){var e=$("body"),t={$wrapper:null,$form:null,$terms:null,escape:27,dateRangeVal:$("#staticRangeSelect").val(),vPort:"screen-sm",isMobile:!1,magicSuggestObjects:[],init:function(){t.$form=$(".advanced-search"),t.check.submitButton(),t.check.terms(),t.on.doSuggest(),t.control(),t.addtionalControls();var e=$(".advanced-search--searchIn").find(".searchIn--field:last-child");t.check.lastClone(e),t.select.dateRangeRadio($(this))},control:function(){e.on("click",'[class*="-ctrl-field"]',function(e){e.preventDefault(),e.stopPropagation(),t.$wrapper=$(this).closest(".searchIn--field"),$(this).is(".add-ctrl-field")?(t.$terms=$(this).closest(".advanced-search").find(".searchIn--field"),t.$terms.length<7&&t.on.clone($(this))):t.on.remove($(this))}),$(".time-frame").on("change","select",function(){t.select.dateRange($(this))}),$(".time-frame").on("change","input",function(){t.select.dateRangeRadio($(this))}),e.on("keyup input",".searchIn--field input",function(){t.$form=$(this).closest("form"),t.check.submitButton()}),t.click.toggleSearchBlock(),$(document).on(t.vPort+"-on",function(){t.isMobile=!0}),$(document).on(t.vPort+"-off",function(){t.isMobile=!1}),$(".advanced-search--advancedFilters .radio--primary input").change(function(){$(".advanced-search--advancedFilters .radio--primary input").prop("checked",!1),$(this).prop("checked",!0)}),$("body").on("change","#earlyCite",function(){var e=$("#earlyCite_hidden");""==e.val()?(e.val("off"),e.prop("disabled",!1)):(e.val(""),e.prop("disabled",!0))}),$("body").on("change","#earlyCite",function(){var e=$("#earlyCite_hidden");""==e.val()?(e.val("off"),e.prop("disabled",!1)):(e.val(""),e.prop("disabled",!0))})},addtionalControls:function(){},click:{toggleSearchBlock:function(){e.on("click",".search__result .advanced-search__ctrl",function(e){t.isMobile||(e.preventDefault(),$(this).toggleClass("js--open"),$(".search-result__meta .advanced-search__tabs").toggle())})}},on:{clone:function(e){jcf.destroy($(".searchIn--field .jcf")),t.$wrapper.clone(!0,!0).find("input").val("").end().appendTo(".advanced-search--searchIn"),e.addClass("hidden"),e.siblings(".remove-ctrl-field").removeClass("hidden"),$(".searchIn--field .jcf").each(function(){jcf.replace($(this))}),e=$(".advanced-search--searchIn").children(".searchIn--field:last-child"),t.check.lastClone(e)},remove:function(e){t.$form=e.closest("form"),t.$wrapper.remove(),t.check.submitButton(),e=$(".advanced-search--searchIn").children(".searchIn--field:last-child"),t.check.lastClone(e)},doSuggest:function(){$(t.$form).find(".magicsuggest").each(function(){var e=$(this).data("auto-complete-target"),i=$(this).data("auto-complete-within"),n=$(this).attr("name"),s=$(this).attr("id"),o=$(this).attr("data-values")?JSON.parse($(this).attr("data-values")):[];i&&(e=e+"&within="+i);var a=$(this).magicSuggest({data:"/action/doSuggest?target="+e,method:"GET",valueField:"value",autoSelect:!1,allowFreeEntries:"false",displayField:"label",cls:"search-term",hideTrigger:"true",inputCfg:{id:s,name:n},beforeSend:function(e,t){var i=t.url.substr(t.url.indexOf("query=")+6).replace(/[ââ+]/g," ");if(i.split(" ").length>200||i.length>222||!i.replace(/\s/g,"").length)return!1}});o.length&&a.setSelection(o),t.magicSuggestObjects.push(a)})}},select:{dateRange:function(e){e.closest(".time-frame").find("input[type=radio]").trigger("click"),"staticRangeSelect"==e.attr("id")&&(t.dateRangeVal=$("#staticRangeSelect").find('option:contains("'+$(".jcf-select-staticRange .jcf-select-text span").text()+'")').val(),$("#staticRangeSelect").val(t.dateRangeVal)),t.$form=e.closest("form"),t.check.submitButton()},dateRangeRadio:function(e){$("#staticRange:checked").length?(t.dateRangeVal=$("#staticRangeSelect").find('option:contains("'+$(".jcf-select-staticRange .jcf-select-text span").text()+'")').val(),$("#staticRangeSelect").val(t.dateRangeVal)):$("#staticRangeSelect").val("")}},check:{emptyInputs:function(e){var t=$(e).find("input[type=search]");return 0==t.length&&(t=$(e).find("input[type=text]")),$(t).filter(function(){return""===this.value}).length===t.length},submitButton:function(){t.check.emptyInputs(t.$form)?$(t.$form).find("button[type=submit]").attr("disabled",!0):$(t.$form).find("button[type=submit]").removeAttr("disabled",!0)},terms:function(){t.$terms=$(".advanced-search--searchIn .searchIn--field"),t.$terms.each(function(e){var t=e+1;$(this).find("select").attr("name","field"+t),$(this).find("input").attr("name","text"+t)})},lastClone:function(e){6==e.index()?(e.children(".add-ctrl-field").addClass("hidden"),e.children(".remove-ctrl-field").removeClass("hidden")):(e.children(".add-ctrl-field").removeClass("hidden"),e.children(".remove-ctrl-field").addClass("hidden")),t.check.terms()}}};UX.searchFieldsCtrl=t}(),function(){$(window);var e=$("body"),t={url:location.href,init:function(){t.control(),t.additionalInit(),t.additionalControl(),t.set.userPublicationLayout()},control:function(){e.on("click","#saveSearchTriggerButton",function(){t.openSaveSearchDialog()}),e.on("submit","#saveSearchDialog form",function(e){return t.onSaveSearchSubmitHandler(e)}),e.on("click",".search__layout>span",function(){$(".search__layout>span").removeClass("active"),$(this).addClass("active"),$(this).hasClass("search__layout-tile")?($(".search-result__body").addClass("search-result--tile"),localStorage.setItem("userPublicationLayout","tile")):($(".search-result__body").removeClass("search-result--tile"),localStorage.setItem("userPublicationLayout","list"))})},additionalControl:function(){},additionalInit:function(){},set:{userPublicationLayout:function(){"tile"==localStorage.userPublicationLayout?$(".search__layout-tile").click():"list"==localStorage.userPublicationLayout&&$(".search__layout-list").click()}},get:{url:function(){},text:function(e){var i="[\\?&]"+(e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"))+"=([^&#]*)",n=new RegExp(i).exec(t.url);return null==n?null:n[1]},value:function(){$(".refineSearch").find("input").each(function(){this.attr(!1)})}},openSaveSearchDialog:function(){var e=t.getCookie("openDialog");if(null!=e&&""!=e){var i=$("#saveSearchTriggerButton");i.length>0&&(document.cookie="openDialog=;expires=Wed; 01 Jan 1970",i.click())}},getCookie:function(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var s=i[n];" "==s.charAt(0);)s=s.substring(1);if(-1!=s.indexOf(t))return s.substring(t.length,s.length)}return null},onSaveSearchSubmitHandler:function(e){return $("#newSearchSaveButton").hide(),$(".saveSearchProgress").show(),$.ajax({type:"POST",url:"/action/doSaveSearch",data:$(e.target).serialize(),success:t.saveSearchSuccessHandler,error:function(e){$(".error.saveSearchMsg").show("fade"),$("#newSearchSaveButton").show(),$(".saveSearchProgress").hide(),$("#saveSearchDialog").modal("toggle")}}),!1},saveSearchSuccessHandler:function(e){$(".success.saveSearchMsg").show("fade"),$("#newSearchSaveButton").show(),$(".saveSearchProgress").hide(),$("#saveSearchDialog").modal("toggle"),UX.modal.on.hide(),t.redrawSavedSearchesPanel(JSON.parse(e).favQueries)},redrawSavedSearchesPanel:function(e){for(var t=$(".advancedSearch__tabs .saved-searches"),i=$(t).data("queries"),n=0;n<i;n++)if(void 0!=e[n]){var s=$(t).find("tbody tr")[n];$(s).find("td:first-child").html(e[n].qName);var o="/action/doSearch?target=saved&runSaved="+e[n].qId;$(s).find('[title="Run"]').attr("href",o);var a="/action/doDeleteSearch?queryId="+e[n].qId+"&searchType=saved";$(s).find('[title="Delete"]').attr("href",a),$(s).hasClass("hidden")&&($(s).removeClass("hidden"),$(".table-responsive").parent().removeClass("hidden"),$(".emptySavedSearches").remove())}}};UX.searchResult=t}(),function(){var e={element:"",target:"",$activator:"",doi:"",figure:"",references:"",related:"",details:"",tabFigure:"#pane-pcw-Figures , #pane-pcw-figures",tabReferences:"#pane-pcw-References, #pane-pcw-references",tabRelated:"#pane-pcw-Related, #pane-pcw-related",tabDetails:"#pane-pcw-Details, #pane-pcw-details",vPort:"screen-xs",isMobile:!1,init:function(){e.get.figures(),e.get.references(),e.get.related(),e.get.details(),e.controller(),e.additionalController(),e.truncation.init()},controller:function(){$(window).on("load",function(){$("article")&&e.load.articleTabs()}),$("body").on("click",".boxed-text",function(e){e.preventDefault();var t=$(this).attr("href"),i=$(t).html(),n=$("#myModal");if(0===n.length){$("body").append('<div class="ux-modal-container"><div id="myModal" class="modal"><div class="modal__dialog  modal--large"><div class="modal-content"><div class="modal__header clearfix"><button type="button" data-dismiss="modal" class="close">X</button></div><div class="modal__body"></div></div></div></div></div>')}n.find(".modal__body").html(i),n.modal("show")}),$(document).on(e.vPort+"-on",function(){e.isMobile=!0,$("article"),e.rebuild.responsive(),e.figures.accordion()}),$(document).on(e.vPort+"-off",function(){e.isMobile=!1,e.rebuild.original(),e.figures.back()}),$(".access-tab").length?$(".access-tab").trigger("click"):$(".details-tab").trigger("click"),e.get.mathjax()},additionalController:function(){},rebuild:{original:function(){var e=$(".loa-wrapper");e.find(".accordion-tabbed__tab").removeClass("accordion-tabbed__tab").addClass("accordion-tabbed__tab-mobile"),e.find(".delimiter").removeClass("hidden"),e.find(".accordion-tabbed__control").each(function(){var e=$(this).attr("data-id");$(this).attr("data-db-target-for",e),$(this).next().attr("data-db-target-of",e).removeAttr("style")})},responsive:function(){var e=$(".loa-wrapper");e.find(".accordion-tabbed__tab-mobile").removeClass("accordion-tabbed__tab-mobile").addClass("accordion-tabbed__tab ").find(".accordion-tabbed__control").removeAttr("data-db-target-for"),e.find(".loa-accordion").contents().map(function(){3===this.nodeType&&$(this).wrap('<span class="delimiter hidden"></span>'),$(this).hasClass("delimiter")&&$(this).addClass("hidden")}),e.find(".accordion-tabbed__content").removeAttr("data-db-target-of").hide()}},get:{figures:function(){e.figure=$("article").attr("data-figures")},references:function(){e.references=$("article").attr("data-references")},related:function(){e.related=$("article").attr("data-related"),e.truncation.creativeWorkMeta()},details:function(){e.details=$("article").attr("data-details")},mathjax:function(){if("true"==$("article").attr("data-enable-mathjax")&&($(".math-formula").length||$(".disp-formula").length||$(".inline-formula").length)){var e=document.createElement("script");e.type="text/javascript",e.src="https:cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML";var t='MathJax.Hub.Config({CommonHTML: { linebreaks: { automatic: true } },"HTML-CSS": { linebreaks: {automatic: true}},SVG: { linebreaks: { automatic: true} },});';window.opera?e.innerHTML=t:e.text=t,document.getElementsByTagName("head")[0].appendChild(e)}}},load:{articleTabs:function(){e.load.figures();var t=$(".article__body .article__references");if(t.length){if($(".article__body.show-references").length){var i=t.clone();i.find("[id]").each(function(){this.id=this.id+"_copy"}),i.appendTo(e.tabReferences)}else t.appendTo(e.tabReferences),t.show();$(e.tabReferences).removeClass("empty")}else e.load.references();e.load.related(),e.load.details()},figures:function(){if(void 0===e.figure)return!1;e.element=e.figure,e.target=e.tabFigure,e.check.empty()&&e.getContent("figure")},references:function(){if(void 0===e.references)return!1;e.element=e.references,e.target=e.tabReferences,e.check.empty()&&e.getContent("references")},related:function(){if(void 0===e.related)return!1;e.element=e.related,e.target=e.tabRelated,e.check.empty()&&e.getContent("related"),e.truncation.creativeWorkMeta()},details:function(){if(void 0===e.details)return!1;e.element=e.details,e.target=e.tabDetails,e.check.empty()&&e.getContent("details")}},getContent:function(t){$(".tab__spinner").show(),$(e.target).load(e.element,function(i,n,s){if("error"===n){console.log("Sorry but there was an error: "+s.status+" "+s.statusText)}$(".tab__spinner").hide(),$(e.target).removeClass("empty").trigger("content-loaded"),e.check.empty(),e.attach();var o=$(this).attr("id");-1!=e.tabFigure.indexOf(o)&&e.isMobile&&e.figures.accordion(),e.getContentSuccess(t)})},getContentSuccess:function(e){},check:{empty:function(){return!!$(e.target).is(":empty")&&($(e.target).removeClass("empty"),!0)}},attach:function(){UX.figureViewer.expand()},figures:{figcaption:"figcaption",figureTitle:".figure__title",figureCaption:".figure__caption",accordionClass:"accordion",accordionContent:"accordion__content",accordionTrigger:$('<button title="Toggle figure caption" class="accordion__control"/>'),accordionTriggerIcon:$('<i aria-hidden="true" class="icon-section_arrow_d"/>'),accordionTriggerCaption:$("<span>Caption</span>"),accordion:function(){$(e.tabFigure).find(e.figures.figcaption).hasClass(e.figures.accordionClass)||(e.figures.accordionTriggerCaption.appendTo(e.figures.accordionTrigger),e.figures.accordionTriggerIcon.appendTo(e.figures.accordionTrigger),$(e.figures.figcaption).find(e.figures.figureCaption).before(e.figures.accordionTrigger),$(e.tabFigure).find(e.figures.figcaption).addClass(e.figures.accordionClass),$(e.figures.figcaption).find(e.figures.figureCaption).addClass(e.figures.accordionContent).hide())},back:function(){$(e.tabFigure).find(e.figures.figcaption).hasClass(e.figures.accordionClass)&&($(e.tabFigure).find(".accordion__control").remove(),$(e.tabFigure).find(e.figures.figcaption).removeClass(e.figures.accordionClass),$(e.figures.figcaption).find(e.figures.figureCaption).removeClass(e.figures.accordionContent).show())}},truncation:{toTrunk8:".loa-accordion",toTrunk8Mobile:".loa.mobile-authors",linesToShow:3,showMoreText:"Show all Authors",showLessText:"Show less Authors",init:function(){e.isMobile?$(e.truncation.toTrunk8Mobile).truncate({lines:e.truncation.linesToShow,type:"list",seeMoreLink:!0,seeMoreText:e.truncation.showMoreText,seeLessText:e.truncation.showLessText,isMobile:!0,mobileTarget:"#sb-1"}):$(e.truncation.toTrunk8).truncate({lines:e.truncation.linesToShow,type:"list",seeMoreLink:!0,seeMoreText:e.truncation.showMoreText,seeLessText:e.truncation.showLessText})},creativeWorkMeta:function(){$(".creative-work .meta").truncate({lines:1})}}};UX.loader=e}(),$(document).ready(function(){$(".to-section").length?$(".to-section").each(function(){var e=$(this).text(),t=$(this).attr("id");$('<li role="menuitem"><a class="w-slide__hide" href="#'+t+'"><span>'+e+"</span></a></li>").appendTo(".sections__drop")}):$(".toc-go-section").remove(),$(window).on("load",function(){$(".issue-item .loa, .search__item .loa").truncate({lines:2,type:"list",seeMoreLink:!0,seeMoreText:"See all authors",seeLessText:"See fewer authors"})}),$(window).on("resize orientationchange",function(e){try{$(".issue-item .loa, .search__item .loa").truncate()}catch(e){}})}),document.addEventListener("DOMContentLoaded",function(e){var t,i={ENDPOINT:"https://crossmark.crossref.org/dialog",SCRIPT_VERSION:"v2.0",STYLESHEET_URL:"https://crossmark-cdn.crossref.org/widget/v2.0/style.css"},n=!1,s=function(e,i){e.addEventListener("click",function(e){if(!(e.ctrlKey||e.shiftKey||e.metaKey||1!==e.which))return i(e)},!1),e.addEventListener("touchstart",function(i){if(i.touches.length>1)return n=!1;t={x:i.touches[0].screenX,y:i.touches[0].screenY},n=e,i.stopPropagation()},!1),window.addEventListener("touchstart",function(e){n=!1}),e.addEventListener("touchmove",function(e){if(e.touches.length>1)return n=!1;var i={x:e.touches[0].screenX,y:e.touches[0].screenY};Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2)>500&&(n=!1)},!1),e.addEventListener("touchend",function(e){if(n){n=!1;var t=e.changedTouches[0].pageX-window.pageXOffset,s=e.changedTouches[0].pageY-window.pageYOffset;document.elementFromPoint(t,s);return i(e)}e.preventDefault()},!1)},o=function(e){var t=[];for(var i in e)t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return"?"+t.join("&")},a=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,r=function(){var e=document.querySelectorAll("meta");for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];if("dc.identifier"==(i.name||"").toLowerCase()&&"doi"==i.scheme)return i}}(),l=r?r.getAttribute("content").replace(/^(info:doi\/|doi:)/,""):null;null==l&&(l=$("#crossMark").data("doi"));var c={doi:l,domain:window.location.hostname,uri_scheme:window.location.protocol,cm_version:i.SCRIPT_VERSION},d=document.createElement("link");d.setAttribute("href",i.STYLESHEET_URL),d.setAttribute("type","text/css"),d.setAttribute("rel","stylesheet"),document.querySelector("head").appendChild(d);var h=document.createElement("div");h.setAttribute("id","crossmark-widget"),h.style.display="none",h.innerHTML='<div class="crossmark-reset crossmark-overlay"></div><div class="crossmark-reset crossmark-popup"><div class="crossmark-reset crossmark-popup__offset"><div class="crossmark-reset crossmark-popup__inner"><div class="crossmark-reset crossmark-popup__header"><a target="_blank" href="http://www.crossref.org/crossmark"><img class="crossmark-reset crossmark-popup__logo"></a><button class="crossmark-reset crossmark-popup__btn-close"></button></div><div class="crossmark-reset crossmark-popup__content-wrapper"><iframe class="crossmark-reset crossmark-popup__content"></iframe></div></div></div></div>';var u=h.querySelector(".crossmark-overlay"),p=h.querySelector(".crossmark-popup"),f=h.querySelector(".crossmark-popup__offset"),m=h.querySelector(".crossmark-popup__inner"),g=(h.querySelector(".crossmark-popup__logo"),h.querySelector(".crossmark-popup__content")),v=h.querySelector(".crossmark-popup__btn-close");a&&f.classList.add("is-ios"),document.body.appendChild(h),[u,p,v].map(function(e){s(e,function(e){h.style.display="none",e.preventDefault(),e.stopPropagation()})}),s(m,function(e){e.stopPropagation()});var b=!1;[].slice.call(document.querySelectorAll("[data-target=crossmark]"),0).map(function(e){e.style.cursor="pointer",e.setAttribute("href",i.ENDPOINT+o(c)),s(e,function(e){b||(g.setAttribute("src",i.ENDPOINT+o(c)),b=!0),h.style.display="block",a&&(m.style.top=window.scrollY+"px"),e.preventDefault(),e.stopPropagation()})})}),function(){var e={init:function(){$(".js__toggleAdForm").on("click",function(e){e.preventDefault();var t="#"+$(this).data("toggle");$(t).slideToggle()})}};UX.adplaceholder=e}(),function(){function e(e,t,i){var n=document.createElement("input");n.type="hidden",n.name=e,n.value=t,i.append(n)}$(window);var t=$("body"),i={$target:null,$toggle:null,init:function(){i.$toggle=$("[name='markall']"),i.control()},control:function(){t.on("click",'[name="markall"]',function(e){i.$target=$(this).closest(".alert__list"),$(this).closest("#citationAlerts").length&&(i.$target=$("#citationAlerts")),$(this).prop("checked")?i.$target.find('[type="checkbox"]:not(:checked)').click():i.$target.find('[type="checkbox"]:checked').click()}),t.on("change",".alert__freq",function(e){i.on.frequency_change($(this))}),t.on("change",".alert__sort",function(e){i.on.sorting_change($(this))}),t.on("click",".js__citActions",function(e){i.on.cit_actions_change($(this))}),t.on("click",".btn--cancel",function(e){e.preventDefault(),i.on.reset_form($(this))})},on:{build:function(){},error_msg:function(){alert("Please select one publication at least")},frequency_change:function(t){var i=t.parents("form");t.find("select").val();i.find("input[name=action]").val(""),e("save","true",i),e("updateAxa","true",i),i.submit()},sorting_change:function(e){var t=e.find("select").val(),i="#"+e.closest("li[role='tabpanel']").attr("id");sessionStorage.setItem("activeTab",i),$('<form action="/action/showAlertSettings"><input type="hidden" name="type" value="citation" /><input type="hidden" name="menuTab" value="Alerts"/><input type="hidden" name="sortBy" value="'+t+'"/></form>').appendTo("body").submit()},cit_actions_change:function(e){var t=e.parents("form"),n=e.attr("data-value");if(n)if($('input[type=checkbox][name="citId"]:checked').length){t.find("input[name=action]").val(n),e.parents(".dropBlock__holder").length&&UX.dropBlock.on.hide();var s="#"+e.closest("li[role='tabpanel']").attr("id");sessionStorage.setItem("activeTab",s),t.get(0).submit()}else i.on.error_msg()},reset_form:function(e){var t=e.closest("form");t.trigger("reset"),t.find("input[name=pubCode], input[name=markall]").prop("checked",!1),t.find("input[name=format][value=T]").prop("checked",!0)}}};UX.alerts=i}(),function(){var e={actions_select:".favoritePublicationsOptions",sort_select:".sortOptions",actions_activator:".js__favActions",sort_activator:".js__favSort",tabs_nav:".account-tab__nav a",$body:$("body"),lastModfied:"",vPort:"",type:"Article",init:function(){e.controller(),e.manipulateUrl(),e.additionalController()},controller:function(){$(e.actions_select).change(function(){e.fav_actions(this)}),e.$body.on("click",e.actions_activator,function(){$(this).closest(e.actions_select).val($(this).data("value")),$(this).closest(e.actions_select).trigger("change")}),$(e.sort_select).change(function(){e.fav_sort(this)}),e.$body.on("click",e.sort_activator,function(){$(this).closest(e.sort_select).val($(this).data("value")),$(this).closest(e.sort_select).trigger("change")}),e.$body.on("click",'[name="markall"]',function(e){var t=$(this).parents("form").find("tbody .table__mark"),i=t.find('[type="checkbox"]'),n=t.find(".jcf-checkbox"),s=$(this).prop("checked");i.prop("checked",s),s?(n.removeClass("jcf-unchecked"),n.addClass("jcf-checked")):(n.removeClass("jcf-checked"),n.addClass("jcf-unchecked"))}),e.$body.on("click",e.tabs_nav,function(){e.type=$(this).attr("data-type")})},additionalController:function(){},error_msg:function(){alert("Please select one publication at least")},fav_actions:function(t){if(!$('input[type=checkbox][name="doi"]:checked').length)return e.error_msg(),void $(t).val("");var i=$(t).val(),n=$(t).parents("form"),s="";if(i){"alert"==i?(s="/action/doUpdateAlertSettings",$("option[value="+i+"]",t).val("addJournalBookAlert")):"delete"==i?s=n.attr("action"):"publicationAddJournalBookAlert"==i?(s="/action/doUpdateAlertSettings",$("option[value="+i+"]",t).val("addJournalBookAlert"),$("input[type=checkbox][name=doi]").each(function(){$(this).val($(t).parent("td").attr("serialDoi"))})):s=i,n.attr("action",s);var o="#"+$(t).closest("li[role='tabpanel']").attr("id");sessionStorage.setItem("activeTab",o),n.get(0).submit()}},fav_sort:function(t){var i=$(t).val();if(i){var n=['<form method="GET" action="'+$('[name="currentUrl"]').val()+'">'];n.push('<input type="hidden" name="menuTab" value="favorites"/>'),n.push('<input type="hidden" name="sortBy" value="'+i+'"/>'),n.push('<input type="hidden" name="publicationSortBy" value="'+$(".js__favSort").val()+'"/>'),n.push('<input type="hidden" name="type" value="'+e.type+'"/>'),n.push("</form>");var s="#"+$(t).closest("li[role='tabpanel']").attr("id");sessionStorage.setItem("activeTab",s),$(n.join("")).appendTo("body")[0].submit(),n.submit(),$(n).remove()}},manipulateUrl:function(){var t=e.getLocationUrl();$('[name="href"]').val(t);var i=e.stripParam(t,"sortBy");$('[name="currentUrl"]').val(i);var n=e.getParam(t,"type");n&&(e.type=n,$(e.tabs_nav+"[data-type='"+n+"']").length&&$(e.tabs_nav+"[data-type='"+n+"']").trigger("click"))},getLocationUrl:function(){var e=window.location.pathname;return e+window.location.href.split(e)[1]},stripParam:function(e,t){var i="",n=e.split("&");return $.each(n,function(e,s){var o=this.indexOf(t);0==o&&(n[e]=""),i+=n[e],e<n.length-1&&0!=o&&(i+="&")}),i},getParam:function(e,t){var i=e.split("&"),n="";return $.each(i,function(e,i){var s=this.split("=");if(s[0]===t)return n=s[1],!1}),n}};UX.favorites=e}(),function(){var e=$("body"),t={$select:null,init:function(){t.control()},control:function(){e.on("change","#institutionList",function(e){e.preventDefault(),t.$select=$(this);var i=t.$select.val();location.href=i}),$("#institutionList option").length<=2?$("#institutionList").val($("#institutionList option").eq(1).val()):$("#institutionList").find("option[value='"+location.toString()+"']").length?$("#institutionList").val(location.toString()):$("#institutionList").val("#")}};UX.profileMain=t}(),function(){var e={$form:$("#institutionUsageReport"),report_input_name:"counterIds",submitActor:null,$submitActors:null,init:function(){this.$submitActors=this.$form.find("button[type=submit]"),e.controller()},controller:function(){e.$submitActors.click(function(t){e.submitActor=this}),e.$form.submit(function(t){t.preventDefault(),null===e.submitActor&&(e.submitActor=e.$submitActors[0]),$("<input />").attr("type","hidden").attr("name",e.submitActor.name).attr("value","").appendTo(e.$form);var i=$(this).children(".error_msg"),n=e.check.dateRange(),s=e.check.selectedReports();if(n&&s)$(this).unbind("submit").submit(),i.hide();else{var o=$('[name="notify"]').next(".error_msg");o.hide(),i.hide(),"notify"==e.submitActor.name?(o.html("Please fix the errors below in order to complete your request."),o.show()):(i.html("Please fix the errors in order to complete report request."),i.show())}}),e.$form.on("click change",".ranges-selects select",function(){e.on.selectRange()}),e.$form.on("click change",".year-select select",function(){e.on.selectYear()})},error_msg:function(e){alert("Errors:\n"+e)},on:{selectRange:function(){var t=e.$form.find("#dateRange");t.find('input[type="radio"]').prop("checked",!1),t.find("input#range-date").prop("checked",!0)},selectYear:function(){var t=e.$form.find("#dateRange");t.find('input[type="radio"]').prop("checked",!1),t.find("input#year-date").prop("checked",!0)}},check:{dateRange:function(){var t=e.$form.find("#dateRange");if(t.find("input#range-date:checked").length){var i=t.find("select#startMonthId").val(),n=t.find("select#startYear").val(),s=new Date(n,i,1);i=t.find("select#endMonthId").val(),n=t.find("select#endYear").val();var o=new Date(n,i,1),a=[];s>o&&a.push("This is not a valid month range"),e.monthDiff(s,o)>12&&a.push("Number of report months must be less than or equal to 12");var r=t.find(".error_msg");return a.length?(r.html(a.join("<br>")),r.show(),!1):(r.html(""),r.hide(),!0)}return!0},selectedReports:function(){var t=e.$form.find("#reports"),i=t.find(".error_msg");return t.find('input[name="'+e.report_input_name+'"]:checked').length?(i.html(""),i.hide(),!0):(i.html("Please select at least one report"),i.show(),!1)}},monthDiff:function(e,t){var i;return i=12*(t.getFullYear()-e.getFullYear()),i-=e.getMonth()+1,(i+=t.getMonth())<=0?0:i}};UX.reports=e}(),function(){var e={$element:$(".cookiePolicy-popup"),acceptUrl:"/action/cookiePolicy?response=accept",init:function(){e.control()},control:function(){e.$element.on("click",".cookiePolicy-popup__close",function(t){t.preventDefault(),$.get(e.acceptUrl,function(){console.log("Cookies Accepted!")}),e.$element.slideUp("fast",function(){e.$element.remove(),e.cookieRemoved()})})},cookieRemoved:function(){}};UX.cookiePolicyPopupWidget=e}(),function(){var e={$removeBtn:$(".js__removeAdmins"),init:function(){e.controller()},controller:function(){e.$removeBtn.on("click",function(t){t.preventDefault(),t.stopPropagation(),e.form.submit()})},form:{submit:function(){e.form.conflictCheck()?e.$removeBtn.closest("form").submit():e.form.error_msg()},conflictCheck:function(){return 0!==e.$removeBtn.closest("form").find('[type="checkbox"]:checked').length},error_msg:function(){alert("Please select an administrator to remove.")}}};UX.administrators=e}(),function(){function e(e){var t=e.parents("[data-widget-id]")[0];return t?$(t).data("widget-id"):""}function t(){var e=$('[name="pbContext"]').attr("content");return e||""}var i,n,s=$("body"),o={init:function(){i=$(".multi-search__dropblock__holder"),o.constrol()},constrol:function(){s.on("click",".multi-search__dropblock__holder a",function(){var e=$(this);o.set.parent(e),o.on.select.dropdown(e)}),s.on("click","a.remove-topic",function(){var t=$(this),i=e(t);o.set.parent(t),o.topic.remove(i)})},on:{select:{dropdown:function(t){var i=t.data("label"),n=t.data("value"),s=e(t);o.topic.add(i,n,s)}}},topic:{add:function(e,t,i){var n={multiSearchAction:"applyTopic",tagId:t,tagLabel:e,widgetId:i};o.ajax(n)},remove:function(e){var t={multiSearchAction:"removeTopic",widgetId:e};o.ajax(t)},lazyload:function(){$(".delayLoad").show(),$(".lazy-load").remove(),$(".creative-work .loa").truncate({lines:2,type:"list",addClass:"loa-height"}),$(".card .creative-work .loa").truncate({lines:1,type:"list",addClass:"loa-height"})}},set:{parent:function(e){n=$(e.parents(".multi-search")[0])}},ajax:function(e){e.pbContext=t(),$.ajax({type:"GET",url:"/pb/widgets/multiSearch/updateTopic",dataType:"html",data:e,async:!0,success:function(e){o.render(e),o.topic.lazyload()},error:function(e){console.log(e)}})},render:function(e){n.html(""),n.replaceWith(e)}};UX.multiSearch=o}(),$(document).ready(function(){$(document).on("click","#indivLogin",function(e){e.preventDefault(),e.stopPropagation(),$(this).toggleClass("active"),$(".navigation-login-dropdown-container:not(.login-options)").toggleClass("hidden"),$(".search-open").is(":visible")&&toggleQuickSearch()}),$(document).on("click",function(e){"indivLogin"===$(e.target).attr("id")||$(".navigation-login-dropdown-container").hasClass("hidden")||$(".navigation-login-dropdown-container").addClass("hidden")}),$("#accessTokenForm div.input-group input[type=text]").on("keyup input change",function(){$("#accessTokenForm div.input-group #tokenAccess").val().length?$("#accessTokenForm input[type=submit]").removeAttr("disabled"):$("#accessTokenForm input[type=submit]").attr("disabled","disabled")}),$(".registration-popup input[type=submit]").attr("disabled","disabled"),$(".registration-popup input[type=text]").on("keyup input change",function(){$(this).val().length?$(".registration-form input[type=submit]").removeAttr("disabled"):$(".registration-form input[type=submit]").attr("disabled","disabled")}),$(".g-recaptcha").length&&loadRecaptcha(),$("#check-if-exist")&&setTimeout(function(){$("#hidden-message").css("visibility","visible")},3e4),$("#check-if-exist input[type=input]").on("keyup input change",function(){$("#check-if-exist input[type=input]").val().length?$("#check-if-exist input[type=submit]").removeAttr("disabled"):$("#check-if-exist input[type=submit]").attr("disabled","disabled")})}),window.loadInstitutionPage=loadInstitutionPage,function(){$(window);var e={$element:null,$target:null,$order:null,$cloneData:null,init:function(){$('[data-toggle="transplant"]').each(function(t){if(e.$element=$(this).data("transplant"),e.$target=$($(this).data("target")),e.$direction=$($(this).data("direction")),e.$order=$(this).data("transplant-order"),e.$remove=$(this).data("remove"),e.$targetClass=$(this).data("target-class"),e.$classNames=$(this).data("class-names"),"to"==e.$direction||void 0===e.$direction)"self"===e.$element?e.$element=$(this):e.$element=$(this).find(e.$element),e.$cloneData=e.$element.clone(!0,!0).removeAttr("data-toggle").attr("data-transplant-order",e.$order),e.clone(),e.$targetClass&&e.$target.find(".transplanted-clone").addClass(e.$targetClass),e.$classNames&&e.$element.addClass(e.$classNames),1==e.$remove&&e.remove();else{e.$target=$(this);var i=$(this).data("target").split(",");$.each(i,function(t,i){e.$element=$(i),e.$cloneData=e.$element.clone(!0,!0).attr("data-transplant-order",e.$order),e.clone(),e.$targetClass&&e.$element.addClass(e.$targetClass),e.$classNames&&e.$target.find(".transplanted-clone").addClass(e.$classNames),1==e.$remove&&e.remove()})}}),e.order()},clone:function(){e.$element.hasClass("cloned")||(e.$target.find(".transplanted-clone").length<=0&&e.$target.append('<div class="transplanted-clone"></div>'),e.$target.find(".transplanted-clone").append(e.$cloneData),e.$element.addClass("cloned"))},order:function(){var t=e.$target.find(".transplanted-clone").children();t.sort(function(e,t){return $(e).data("transplant-order")-$(t).data("transplant-order")}),e.$target.find(".transplanted-clone").html(t)},remove:function(){e.$target?e.$element.remove():e.$source.remove()}};UX.transplant=e}(),function(){$("body"),$(document);var e={init:function(){e.on.build()},on:{build:function(){var t=e.get.letter("alphabetRange");t&&null!=t&&$(".author-index__filters .alphanumeric-title[title="+t+"]").addClass("is--selected"),$("#alphaFace .is--selected").each(function(){$(".author-index__alphanumeric").append("<span class='letter'>"+$(this).text()+"</span>")})}},get:{letter:function(e){var t="[\\?&]"+(e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"))+"=([^&#]*)",i=new RegExp(t).exec(location.href);return null==i?null:i[1]}}};UX.authorIndex=e}(),function(){$(window);var e=$("body"),t={$pairedDevicesTable:$(".device-pairing__devices table"),$noPairedDevicesResult:$(".device-pairing__devices .no-result"),$pairingHistoryTable:$(".device-pairing__history table"),pairingHistoryTableRow:".device-pairing__history tbody tr",$noPairedDevicesHistoryResult:$(".device-pairing__history .no-result"),$instAdminUnpairSelectedBtn:$("#instAdminUnpairSelected"),$instAdminUnpairAllBtn:$("#instAdminUnpairAll"),$unpairDialogForm:$("#unpairDevicesDialogForm"),selectedDevicesArray:[],$deviceSelectedList:$(".device-pairing__selectedList"),$unpairButtonsPanel:$(".unpairButtonsPanel"),paginationContainer:".device-pairing__pagination",widgetId:$("#widgetId").text(),pbContext:encodeURI($("[name='pbContext']").attr("content")),$selectEmailInstButton:$(".selectEmailInstButton"),$confirmAddEmailButton:$(".confirmAddEmailButton"),$continueInstButton:$(".continueInstButton"),isInstitutionMode:$(".dp-institution-template").length>0,clientPagination:null,init:function(){$(".device-pairing-demo").length||t.initialization(),t.clientPagination=jQuery.extend(!0,{},UX.clientPagination),t.clientPagination.set.containerName(t.paginationContainer),t.clientPagination.set.tableRowName(t.pairingHistoryTableRow),t.clientPagination.init(),t.control()},initialization:function(){t.$pairedDevicesTable.length>0&&(t.isInstitutionMode?$.get("/pb/widgets/ux3/DevicePairingManagementController/pairedDevicesOfUser?widgetId="+t.widgetId+"&pbContext="+t.pbContext,{serviceName:$(".serviceNameHidden").text(),userEmail:$(".userEmailHidden").text()}).done(function(e){t.on.fillPairedDevicesTable(e)}).fail(function(e,i,n){t.on.displayErrorDialog("error occure on the server : "+n)}):$.get("/pb/widgets/ux3/DevicePairingController/pairedDevices?widgetId="+t.widgetId+"&pbContext="+t.pbContext,{}).done(function(e){t.on.fillPairedDevicesTable(e)}).fail(function(e,i,n){t.on.displayErrorDialog("error occure on the server : "+n)})),t.$pairingHistoryTable.length>0&&$.get("/pb/widgets/ux3/DevicePairingManagementController/pairingHistory?widgetId="+t.widgetId+"&pbContext="+t.pbContext,{serviceName:$(".serviceNameHidden").text(),userEmail:$(".userEmailHidden").text()}).done(function(e){e.indexOf("device-pairing__row")>=0?(t.$pairingHistoryTable.find("tbody").html(e),t.$pairingHistoryTable.trigger("update"),t.clientPagination.buildPagination(),t.$pairingHistoryTable.removeClass("hidden"),t.$noPairedDevicesHistoryResult.addClass("hidden")):(t.$pairingHistoryTable.addClass("hidden"),t.$noPairedDevicesHistoryResult.removeClass("hidden"))}).fail(function(e,i,n){t.on.displayErrorDialog("error occure on the server : "+n)})},control:function(){e.on("change",".institutionId-radio",function(e){t.$continueInstButton.prop("disabled",!1)}),e.on("change",".instEmailSelected-checkbox",function(e){$("input[name=instEmailSelected]:checked").length>0?t.$selectEmailInstButton.prop("disabled",!1):t.$selectEmailInstButton.prop("disabled",!0)}),e.on("keyup",".instEmailSelected-textbox",function(e){$(".device-pairing__add-instEmail .error").addClass("hidden"),""!=$(this).val()&&t.check.isValidEmail($(this).val())?t.$confirmAddEmailButton.prop("disabled",!1):t.$confirmAddEmailButton.prop("disabled",!0)}),e.on("focusout",".instEmailSelected-textbox",function(e){""!=$(this).val()&&(t.check.isValidEmail($(this).val())?t.$confirmAddEmailButton.prop("disabled",!1):$(".device-pairing__add-instEmail .error").removeClass("hidden"))}),e.on("change","input[name=deviceId]",function(e){$("input[name=deviceId]:checked").length>0?t.$instAdminUnpairSelectedBtn.prop("disabled",!1):t.$instAdminUnpairSelectedBtn.prop("disabled",!0)}),e.on("click","#instAdminUnpairSelected",function(e){e.preventDefault(),t.selectedDevicesArray=[],t.$deviceSelectedList.empty(),t.$pairedDevicesTable.find("input[name='deviceId']:checked").each(function(){t.selectedDevicesArray.push($(this).attr("id")),t.$deviceSelectedList.append("<li>"+$(this).val()+"</li>")})}),e.on("click","#instAdminUnpairAll",function(e){e.preventDefault(),t.selectedDevicesArray=[],t.$deviceSelectedList.empty(),t.$pairedDevicesTable.find("input[name='deviceId']").each(function(){t.selectedDevicesArray.push($(this).attr("id")),t.$deviceSelectedList.append("<li>"+$(this).val()+"</li>")})}),e.on("click","#ConfirmUnpairDevices",function(e){e.preventDefault(),t.isInstitutionMode?$.get("/pb/widgets/ux3/DevicePairingManagementController/unpairSelected?widgetId="+t.widgetId+"&pbContext="+t.pbContext,{serviceName:$(".serviceNameHidden").text(),userEmail:$(".userEmailHidden").text(),devices:JSON.stringify(t.selectedDevicesArray),antiForgeryToken:$(".antiForgeryToken").text()}).done(function(e){t.on.fillPairedDevicesTable(e)}).fail(function(e,i,n){t.on.displayErrorDialog("error occure on the server : "+n)}):$.get("/pb/widgets/ux3/DevicePairingController/unpairSelected?widgetId="+t.widgetId+"&pbContext="+t.pbContext,{devices:JSON.stringify(t.selectedDevicesArray)}).done(function(e){t.on.fillPairedDevicesTable(e)}).fail(function(e,i,n){t.on.displayErrorDialog("error occure on the server : "+n)}),t.selectedDevicesArray=[],t.$unpairDialogForm.modal("toggle")})},on:{fillPairedDevicesTable:function(e){t.$pairedDevicesTable.find("tbody").html(e),t.$pairedDevicesTable.trigger("update"),t.$instAdminUnpairSelectedBtn.prop("disabled",!0),e.indexOf("device-pairing__row")>=0?(t.$pairedDevicesTable.removeClass("hidden"),t.$unpairButtonsPanel.removeClass("hidden"),t.$noPairedDevicesResult.addClass("hidden")):(t.$pairedDevicesTable.addClass("hidden"),t.$unpairButtonsPanel.addClass("hidden"),t.$noPairedDevicesResult.removeClass("hidden"))},displayErrorDialog:function(e){$("#devicePairingError").find(".message").html(e),$("#devicePairingError").modal("toggle")}},check:{isValidEmail:function(e){return!!/^\b[A-Z0-9._%-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b$/i.test(e)}}};UX.devicePairing=t}(),function(){$("body");var e={$uploaders:null,init:function(){e.$uploaders=$(".uploader"),$.each(e.$uploaders,function(e,t){var i=t.querySelector(".uploader__file"),n=t.querySelector('[name="pdf.path__validator"]'),s=t.querySelector(".uploader__input label"),o=t.querySelector(".uploader__message"),a=t.querySelector(".uploader__button"),r=t.querySelector(".uploader__progress"),l=(t.querySelector(".uploader__input"),t.querySelector(".uploader__processing")),c=t.querySelector(".uploader__input-wrapper"),d=!1,h=function(e){s.textContent=e.length>1?(i.getAttribute("data-multiple-caption")||"").replace("{count}",e.length):e[0].name,$(o).html(""),$(c).removeClass("error-input"),$(a).removeAttr("disabled")};i.addEventListener("change",function(e){d=e.target.files,h(e.target.files),a&&$(a).trigger("click")}),["drag","dragstart","dragend","dragover","dragenter","dragleave","drop"].forEach(function(e){t.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation()})}),["dragover","dragenter"].forEach(function(e){t.addEventListener(e,function(){$(t).addClass("is-dragover")})}),["dragleave","dragend","drop"].forEach(function(e){t.addEventListener(e,function(){$(t).removeClass("is-dragover")})}),t.addEventListener("drop",function(e){d=e.dataTransfer.files,h(d),a&&$(a).trigger("click")}),a&&a.addEventListener("click",function(e){if($(n).val("false"),$(".metadata-form__message").addClass("hidden"),!d)return $(o).text("Please choose file to upload!"),$(c).addClass("error-input"),!1;$(l).removeClass("hide"),$(r).removeClass("hide"),$(a).attr("disabled"),$(o).text(""),$(c).removeClass("error-input"),e.preventDefault();var h=new FormData;switch(h.append("doi",t.getAttribute("data-doi")),h.append("anti-forgery-token",t.getAttribute("data-forgery")),h.append("signature",t.getAttribute("data-signature")),$(i).attr("id")){case"pdf.path":h.append("type","pdf");break;case"supplementalFiles":h.append("type","supplementary_material");break;default:h.append("type","")}Array.prototype.forEach.call(d,function(e){h.append("files",e)}),$.ajax({xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",function(e){if(e.lengthComputable){var t=e.loaded/e.total;$(r).css({width:100*t+"%"})}},!1),e.addEventListener("progress",function(e){if(e.lengthComputable){var t=e.loaded/e.total;$(r).css({width:100*t+"%"})}},!1),e},type:"POST",url:t.getAttribute("data-uploadLink"),dataType:"json",data:h,contentType:!1,processData:!1,cache:!1,async:!0,success:function(e){$("[data-related-field='pdf.path__validator']").addClass("hidden"),$(l).addClass("hide"),$(r).css({width:0}),$(r).addClass("hide"),1==e.success?($(n).val("1"),$(a).attr("disabled"),"supplementalFiles"==$(i).attr("id")&&UX.supplementalFiles?($(s).html('<span>File successfully uploaded.</span> <br/><span class="uploader__dragndrop">Drag and Drop File or</span> <span class="link">Select Another File to Upload</span>.'),UX.supplementalFiles.on.add(h)):"pdf.path"==$(i).attr("id")&&UX.pdPdf&&($(s).html('<span>File successfully uploaded.</span> <br/><span>Drag and drop or </span> <span class="link">select to replace the existing file</span>. '),UX.pdPdf.on.add(h))):($(n).val($(n).val()),$(s).html("<span>"+e.message+'</span> <br/><span class="uploader__dragndrop">Drag and Drop File or</span> <span class="link">Select Another File to Upload</span>.'),$(a).removeAttr("disabled"))},error:function(e){$(n).val("false"),$(r).css({width:0}),$(r).addClass("hide"),$(l).addClass("hide"),$(a).removeAttr("disabled"),$(o).text("Error. Please, try again!"),$(c).addClass("error-input")}})})})}};UX.fileUploader=e}(),function(){$(window);var e=$("body"),t={widgetId:$("#pairingManagmentWidgetId").text(),pbContext:encodeURI($("[name='pbContext']").attr("content")),$pairedEmailsTable:$(".pairedEmailsTable"),emailsTableRow:".pairing-management__row",paginationContainer:".pairing-management__pagination",clientPagination:null,init:function(){t.initialization(),t.addtionalInitialization(),t.control()},initialization:function(){t.on.setDatePickers(),$(".pairing-management-demo").length||t.on.refreshPairedDevices(),t.clientPagination=jQuery.extend(!0,{},UX.clientPagination),t.clientPagination.set.containerName(t.paginationContainer),t.clientPagination.set.tableRowName(t.emailsTableRow),t.clientPagination.init()},addtionalInitialization:function(){},control:function(){e.on("click",".dateFilter .calendar",function(e){e.preventDefault(),$(this).siblings(".datepicker").datepicker("show")}),e.on("click",t.paginationContainer+" .prev, "+t.paginationContainer+" .next, "+t.paginationContainer+" .page",function(e){e.preventDefault(),$("input[name=userEmail]").prop("checked",!1),t.on.disableActionButtons()}),e.on("click","#refreshButton",function(e){e.preventDefault(),t.on.refreshPairedDevices()}),e.on("click","#addExternalEmailButton",function(e){e.preventDefault(),t.clear.dialog($("#externalEmailDialogForm"))}),e.on("click","#confirmAddExternalEmail",function(e){e.preventDefault(),t.on.addExternalEmail()}),e.on("click","#confirmExtendReinstate",function(e){e.preventDefault(),t.on.extendReinstateEmail()}),e.on("click","#confirmRevokeAccess",function(e){e.preventDefault(),t.on.revokeEmail()}),$("#viewDetailButton").click(function(){var e=$("input[name=userEmail]:checked").attr("id");$(this).closest("form").append("<input type='hidden' name='userEmail' value='"+e+"'/>")}),e.on("click","#extendReinstateButton",function(e){e.preventDefault(),t.clear.dialog($("#extendReinstateAccessDialogForm"));var i=$("input[name=userEmail]:checked").val();$("#extendEmail").val(i)}),e.on("click","#revokeButton",function(e){e.preventDefault(),t.clear.dialog($("#revokeAccessDialogForm"));var i=$("input[name=userEmail]:checked").val();$("#revokeAccessEmail").val(i)}),e.on("change","input[name=userEmail]",function(e){$("#extendReinstateButton").prop("disabled",!1),$("#revokeButton").prop("disabled",!1),$("#viewDetailButton").prop("disabled",!1),$(".pairing-management__actions .withSelected").removeClass("disabled")})},check:{expirationDays:function(e){return!!/^\d+$/.test(e.val())||(e.addClass("ui-state-error"),!1)},reason:function(e){return!!e.val()||(e.addClass("ui-state-error"),!1)},email:function(e){return!(!e.val()||0==$.trim($(e).val()).length)||(e.addClass("ui-state-error"),!1)}},clear:{dialog:function(e){e.find("input").removeClass("ui-state-error").val(""),e.find(".expdays").val("180")},filters:function(){$("input[name=emailFilter]").prop("checked",function(){return"checked"==this.getAttribute("checked")}),$("input[name=permissionFilter]").prop("checked",function(){return"checked"==this.getAttribute("checked")}),$("input[name=emailAddress]").val(""),$("input[name=name]").val(""),t.on.setDatePickers()}},on:{setDatePickers:function(){var e=$("#fromDate"),t=$("#toDate");e.datepicker({defaultDate:"-1w",numberOfMonths:1,onClose:function(e){$("#toDate").datepicker("option","minDate",e)}}),e.datepicker("setDate","-180d"),t.datepicker({defaultDate:"+0",numberOfMonths:1,onClose:function(e){$("#fromDate").datepicker("option","maxDate",e)}}),t.datepicker("setDate","+1d")},addExternalEmail:function(){var e=$("#addExternalEmail"),i=$("#addExternalEmailExp"),n=$("#addExternalEmailReason"),s=!0;(s=(s=(s=s&&t.check.email(e))&&t.check.expirationDays(i))&&t.check.reason(n))&&($.get("/pb/widgets/ux3/DevicePairingManagementController/addExternalEmail?widgetId="+t.widgetId+"&pbContext="+t.pbContext,{serviceName:$(".serviceNameHidden").text(),email:e.val(),daysToExpiration:i.val(),reason:n.val(),antiForgeryToken:$(".antiForgeryToken").text()}).done(function(e){-1==e.indexOf("externalEmailError")?(t.$pairedEmailsTable.find("tbody").html(e),t.$pairedEmailsTable.trigger("update"),t.on.disableActionButtons(),t.clientPagination.buildPagination(),t.clear.filters()):t.on.displayErrorDialog(e)}).fail(function(e,i,n){t.on.displayErrorDialog("error occure on the server : "+n)}),$("#externalEmailDialogForm").modal("toggle"))},extendReinstateEmail:function(){var e=$("#extendEmail"),i=$("#extendEmailExp"),n=$("#extendEmailReason"),s=!0;s=(s=s&&t.check.expirationDays(i))&&t.check.reason(n);var o=e.val();s&&($.get("/pb/widgets/ux3/DevicePairingManagementController/extendReinstateEmail?widgetId="+t.widgetId+"&pbContext="+t.pbContext,{serviceName:$(".serviceNameHidden").text(),extendReinstateEmail:o,daysToExpiration:i.val(),reason:n.val(),emailFilter:$("input[name=emailFilter]:checked").attr("id"),permissionFilter:$("input[name=permissionFilter]:checked").attr("id"),emailAddress:$("input[name=emailAddress]").val(),name:$("input[name=name]").val(),fromDate:$("input[name=fromDate]").val(),toDate:$("input[name=toDate]").val(),antiForgeryToken:$(".antiForgeryToken").text()}).done(function(e){t.$pairedEmailsTable.find("tbody").html(e),t.$pairedEmailsTable.trigger("update"),t.clientPagination.buildPagination(),$("input[value='"+o+"']").prop("checked",!0)}).fail(function(e,i,n){t.on.displayErrorDialog("error occure on the server : "+n)}),$("#extendReinstateAccessDialogForm").modal("toggle"))},revokeEmail:function(){var e=$("#revokeAccessEmail"),i=$("#revokeAccessReason"),n=e.val();$.get("/pb/widgets/ux3/DevicePairingManagementController/revokeAccess?widgetId="+t.widgetId+"&pbContext="+t.pbContext,{serviceName:$(".serviceNameHidden").text(),revokeEmail:n,reason:i.val(),emailFilter:$("input[name=emailFilter]:checked").attr("id"),permissionFilter:$("input[name=permissionFilter]:checked").attr("id"),emailAddress:$("input[name=emailAddress]").val(),name:$("input[name=name]").val(),fromDate:$("input[name=fromDate]").val(),toDate:$("input[name=toDate]").val(),antiForgeryToken:$(".antiForgeryToken").text()}).done(function(e){t.$pairedEmailsTable.find("tbody").html(e),t.$pairedEmailsTable.trigger("update"),t.clientPagination.buildPagination(),$("input[value='"+n+"']").prop("checked",!0)}).fail(function(e,i,n){t.on.displayErrorDialog("error occure on the server : "+n)}),$("#revokeAccessDialogForm").modal("toggle")},refreshPairedDevices:function(){$.get("/pb/widgets/ux3/DevicePairingManagementController/institutionPairedDevices?widgetId="+t.widgetId+"&pbContext="+t.pbContext,{serviceName:$(".serviceNameHidden").text(),emailFilter:$("input[name=emailFilter]:checked").attr("id"),permissionFilter:$("input[name=permissionFilter]:checked").attr("id"),emailAddress:$("input[name=emailAddress]").val(),name:$("input[name=name]").val(),fromDate:$("input[name=fromDate]").val(),toDate:$("input[name=toDate]").val()}).done(function(e){t.$pairedEmailsTable.find("tbody").html(e),t.$pairedEmailsTable.trigger("update"),t.on.disableActionButtons(),t.clientPagination.buildPagination()}).fail(function(e,i,n){t.on.displayErrorDialog("error occure on the server : "+n)})},disableActionButtons:function(){$("#extendReinstateButton").prop("disabled",!0),$("#revokeButton").prop("disabled",!0),$("#viewDetailButton").prop("disabled",!0),$(".pairing-management__actions .withSelected").addClass("disabled")},displayErrorDialog:function(e){$("#externalEmailError").find(".message").html(e),$("#externalEmailError").modal("toggle")}}};UX.pairingManagment=t}(),function(){var e=$("body"),t={actionBarSelector:".pd-action-bar",defaultCommentsSelector:".js-defaultComments",btnSubmit:"[data-action]",btnRedirect:"[data-redirect]",confirmationHTML:'<div class="toast toast--success"><i aria-hidden="true" class="icon-check"></i><div class="toast__text">You have successfully submitted the article</div> </div>',validReferrer:"/action/showDraft",init:function(){if(t.controller(),t.on.build(),window.performance&&0==performance.navigation.type){var e=document.referrer;if(e){var i=new URL(e),n=new URL(document.location);"#submission-successful"==n.hash&&i.pathname==t.validReferrer&&this.showConfirmation(n.pathname)}}},controller:function(){e.on("click",t.btnSubmit,function(e){e.preventDefault();var i=e.target;if("BUTTON"===i.tagName){var n=$(t.actionBarSelector).find("form");n.attr("action",$(i).attr("data-action")),n.submit()}}),e.on("click",t.btnRedirect,function(e){e.preventDefault();var t=e.target;"BUTTON"===t.tagName&&(window.location=$(t).attr("data-redirect"))});var i=$(t.defaultCommentsSelector);i.length&&i.on("change","[type='radio']",function(e){var i=$(this).closest(t.defaultCommentsSelector).data("defaultcommenttarget"),n=$(this).data("defaultcomment");$(i).val(n),$(i).focus()})},on:{build:function(){var e=$(".ux-modal-container").find(".ux3-autocomplete");e.autocomplete({source:function(t,i){$.ajax({url:e.data("url"),dataType:"json",data:{query:t.term},success:function(e){i($.map(e,function(e){return{label:e.label,value:e.label,id:e.value}}))}})},open:function(){$(".ui-menu.ui-autocomplete").width($(this).innerWidth())},minLength:2,select:function(e,t){$("[name='submitted-to']").val(t.item.id)}})}},showConfirmation:function(e){var i=$(".pdActionBar");if(i){i.prepend(t.confirmationHTML);window.setTimeout(function(){$(".toast").fadeOut(),document.location=e},3e3)}}};UX.pdActionBar=t}(),function(){var e=$("body"),t={list:[],$modal:$("#authors-modal"),$modalinput1:$("#author-orcid"),$modalinput1err:$("#author-orcid + .error"),$modalinput2:$("#author-name"),$modalinput2err:$("#author-name + .error"),$modalinput3:$("#author-last-name"),$modalinput3err:$("#author-last-name + .error"),$modalinput4:$("#author-affilation"),$modalinput5:$("#author-email"),$modalinput5err:$("#author-email + .error"),$modalValidationMessage:$(".modal-validation-message"),td1:".author-orcid-td",td2:".author-name-td",td3:".author-surname-td",td4:".author-affiliation-td",td5:".author-email-td",$table:$(".authors__table"),$templateRow:$(".submission-authors .rowTemplate tr"),$modalTitle:$("#authors-modal .modal__header"),$affiliationsAjaxLink:$("#affiliationAjaxLink"),$affiliationsInputTemplate:$(".affiliationsInputTemplate"),affiliationsValues:".td-affiliations-val",affilationMagicSuggest:null,authorAjaxLink:".authorAjaxLink",$container:$(".submission-authors"),$affiliationsTypes:$(".affiliations-types"),affilationsSplitter:"|#|",errText:"Field is missing",errEmailText:"Please enter a valid email address",init:function(){t.saveAuthorsToArray(),t.controller(),t.on.doSuggest()},saveAuthorsToArray:function(){t.list=[];var e=$(".authors__table tbody tr:not(.deleted)");$.each(e,function(e,i){t.list.push($(i).find(".author-name-td .td-text").text()+" "+$(i).find(".author-surname-td .td-text").text())}),UX.funders.fillAuthors&&UX.funders.fillAuthors()},controller:function(){e.on("click",t.authorAjaxLink,function(e){if(e.preventDefault(),t.$modalinput1err.text(""),""==t.$modalinput1.val())t.$modalinput1err.text("Please enter ORCID number");else{var i=$(t.authorAjaxLink).attr("href")+"?orcid="+t.$modalinput1.val();$.ajax({type:"GET",url:i,success:function(e){if(e&&null!=e){if(t.$modalinput2.val(e.firstName),t.$modalinput3.val(e.lastName),t.$modalinput5.val(e.email),t.affilationMagicSuggest.clear(),t.$affiliationsTypes.text(""),e.affiliations){var i="",n=[];$.each(e.affiliations,function(e,t){i+=t.id+"="+t.type+",",n.push({label:t.name,value:t.id})}),""!=i&&(i=i.slice(0,-1),t.$affiliationsTypes.text(i)),0!==n.length&&t.affilationMagicSuggest.setSelection(n)}}else t.$modalValidationMessage.text("Error occure when check orcid in the server")},error:function(e){t.$modalValidationMessage.text("Error occure when check orcid in the server")}})}}),e.on("click","#saveAuthor",function(e){if(e.preventDefault(),t.on.beforeValidate(),t.on.validate()){var i="",n="",s=$('[name="author-affilation[]"]'),o=$("#author-affilation .ms-sel-item"),a=t.$modal.find(".row-num").val(),r="",l=t.$affiliationsTypes.text();if(s.each(function(e){var n=$(this).val();n=$(this).val()==$(o[e]).text()?"text":""!=l&&l.indexOf($(this).val())>=0?t.getAffiliationsType(l,$(this).val())+"|"+$(this).val():"isni|"+$(this).val(),n+="|"+$(o[e]).text(),i+=n+t.affilationsSplitter,r+=t.$affiliationsInputTemplate.html().replace(/\{\{0\}\}/gi,n).replace(/\{\{1\}\}/gi,a).replace(/fakedinput/gi,"input")}),o.each(function(e){n+=$(this).text(),e!=o.length-1&&(n+=", ")}),""!=i&&(i=i.substring(0,i.lastIndexOf(t.affilationsSplitter))),"add"==t.$modal.find(".mode").val()){var c=t.$templateRow[0].outerHTML;c=c.replace(/\{\{0\}\}/gi,t.$modalinput1.val()).replace(/\{\{1\}\}/gi,t.$modalinput2.val()).replace(/\{\{2\}\}/gi,t.$modalinput3.val()).replace(/\{\{3\}\}/gi,n).replace(/\{\{3_val\}\}/gi,i).replace(/\{\{3_inputs\}\}/gi,r).replace(/\{\{4\}\}/gi,t.$modalinput5.val()).replace(/\{\{5\}\}/gi,a).replace(/fakedinput/gi,"input"),t.$table.find("tbody").append(c)}else{var d=t.$table.find("tr[data-row-num="+a+"]"),h=d.find(t.td1);h.find(".td-text").text(t.$modalinput1.val()),h.find("input").val(t.$modalinput1.val());var u=d.find(t.td2);u.find(".td-text").text(t.$modalinput2.val()),u.find("input").val(t.$modalinput2.val());var p=d.find(t.td3);p.find(".td-text").text(t.$modalinput3.val()),p.find("input").val(t.$modalinput3.val());var f=d.find(t.td4);f.find(".td-text").text(n),f.find(".affiliations__hidden-inputs").html(r),f.find(t.affiliationsValues).html(i);var m=d.find(t.td5);m.find(".td-text").text(t.$modalinput5.val()),m.find("input").val(t.$modalinput5.val())}t.$modal.modal("toggle"),t.saveAuthorsToArray()}}),e.on("click","#addAuthor",function(e){e.preventDefault(),t.$modal.find(".mode").val("add"),t.$modal.find(".row-num").val(t.$table.find("tbody tr").length),t.$modalinput1.val(""),t.$modalinput2.val(""),t.$modalinput3.val(""),t.affilationMagicSuggest.clear(),t.$modalinput5.val(""),t.$modalValidationMessage.text(""),t.$modalTitle.text("Add Author"),t.$affiliationsTypes.text(""),t.$modal.modal({backdrop:"static",keyboard:!1},"toggle")}),e.on("click",".submission-authors .delete",function(e){e.preventDefault(),$(this).closest("tr").addClass("deleted hidden"),$(this).closest("tr").html(""),t.saveAuthorsToArray()}),e.on("click",".submission-authors .edit",function(e){e.preventDefault(),t.on.beforeValidate();var i=$(this).closest("tr").data("row-num");t.$modal.find(".mode").val("edit"),t.$modal.find(".row-num").val(i),t.$modalValidationMessage.text(" "),t.$modalinput1.val($(this).closest("tr").find(t.td1+" .td-text").html()),t.$modalinput2.val($(this).closest("tr").find(t.td2+" .td-text").html()),t.$modalinput3.val($(this).closest("tr").find(t.td3+" .td-text").html()),t.affilationMagicSuggest.clear();var n=t.getAffiliationsSelectedItems($(this).closest("tr").find(t.affiliationsValues).html());0!==n.length&&t.affilationMagicSuggest.setSelection(n),t.$affiliationsTypes.text(t.getAffiliationsTypes($(this).closest("tr"))),t.$modalinput5.val($(this).closest("tr").find(t.td5+" .td-text").html()),t.$modalTitle.text("Edit Author"),t.$modal.modal({backdrop:"static",keyboard:!1},"toggle")})},getAffiliationsType:function(e,t){var i=e.split(","),n="";return $.each(i,function(e,i){if(i.indexOf(t)>=0)return n=i.replace(t+"=",""),!1}),n},getAffiliationsSelectedItems:function(e){var i=[];if(e){var n=e.split(t.affilationsSplitter);$.each(n,function(e,t){var n=t.split("|");"text"==n[0]?i.push({label:n[1],value:n[1]}):i.push({label:n[2],value:n[1]})})}return i},getAffiliationsTypes:function(e){var t="";return e.find(".affiliations__hidden-inputs input").each(function(e){$(this).val().indexOf("|")>=0&&"text"!=$(this).val().split("|")[0]&&(t+=$(this).val().split("|")[1]+"="+$(this).val().split("|")[0]+",")}),""!=t&&(t=t.slice(0,-1)),t},on:{doSuggest:function(){var e=t.$modal.find(".aff-magicsuggest");t.affilationMagicSuggest=e.magicSuggest({data:t.$affiliationsAjaxLink.val(),method:"GET",valueField:"value",autoSelect:!1,allowFreeEntries:!1,mode:"remote",displayField:"label",hideTrigger:"true",useCommaKey:!1})},beforeValidate:function(){$(".error").text(""),$(".not-valid").removeClass("not-valid")},validate:function(){var e=!0;return $(".error").text(""),$(".not-valid").removeClass("not-valid"),""==t.$modalinput2.val()&&(t.$modalinput2.addClass("not-valid"),t.$modalinput2err.text(t.errText),e=!1),""==t.$modalinput3.val()&&(t.$modalinput3.addClass("not-valid"),t.$modalinput3err.text(t.errText),e=!1),""!=t.$modalinput5.val()&&/[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}/gim.test(t.$modalinput5.val())||(t.$modalinput5.addClass("not-valid"),t.$modalinput5err.text(t.errEmailText),e=!1),e}}};UX.submissionAuthors=t}(),function(){var e=$("body"),t={posterMeetingName:null,typeName:null,container:null,$additionalInformation:null,$submittedInput:null,init:function(){this.posterMeetingName=".basic-metadata__meeting-name",this.$additionalInformation=$(".meeting-additional-information"),this.typeName="[name='basic-metadata.type']",this.container=".basic-metadata",this.$submittedInput=$("[name='basic-metadata.preprint-submitted-to']"),t.on.build(),$(t.posterMeetingName).length>0&&(t.controller(),t.on.handleAdditional())},on:{build:function(){var e=$(t.container).find(".ux3-autocomplete");e.autocomplete({source:function(t,i){$.ajax({url:e.data("url"),dataType:"json",data:{query:t.term},success:function(e){i($.map(e,function(e){return{label:e.label,value:e.label,id:e.value}}))}})},open:function(){$(".ui-menu.ui-autocomplete").width($(this).innerWidth())},minLength:2,select:function(e,i){t.$submittedInput.val(i.item.id)}})},handleAdditional:function(){var e=$(t.posterMeetingName);if($(".meeting-additional-information__location").text(""),$(".meeting-additional-information__date").text(""),""!=e.val()){var i=e[0].selectedOptions[0].attributes["data-meeting-location"];i&&$(".meeting-additional-information__location").text(i.value);var n=e[0].selectedOptions[0].attributes["data-meeting-date"];n&&$(".meeting-additional-information__date").text(n.value),t.$additionalInformation.removeClass("hidden")}else t.$additionalInformation.addClass("hidden")}},controller:function(){e.on("click",t.typeName,function(e){"poster"==$(this).val()?($(".poster").show(),$(".preprint").hide()):($(".poster").hide(),$(".preprint").show())}),e.on("change",t.posterMeetingName,t.on.handleAdditional)}};UX.basicMetadata=t}(),function(){var e=$("body"),t={magicSuggestData:null,$modal:null,$modalName:null,$modalValidationMessage:null,$modalNumber:null,$modalRecipient:null,$funderAjaxLink:null,td1:null,td2:null,td3:null,$table:null,$templateRow:null,$modalTitle:null,magicSuggest:null,fundersValues:null,$funderInputTemplate:null,init:function(){this.$modal=$("#funders-modal"),this.$funderAjaxLink=$("#funderAjaxLink"),this.$modalName=$("#funder-name"),this.$modalNumber=$("#funder-grant-number"),this.$modalRecipient=$("#funder-recipient"),this.td1=".funder-td",this.td2=".grant-number-td",this.td3=".recipient-funder-td",this.$modalValidationMessage=$(".modal-validation-message"),this.$table=$(".funders__table"),this.$templateRow=$(".funders .rowTemplate tr"),this.$modalTitle=$("#funders-modal .modal__header"),this.fundersValues=".td-funders-val",this.$funderInputTemplate=$(".funderInputTemplate"),t.controller(),t.on.doSuggest()},fillAuthors:function(){if(UX.submissionAuthors.list&&t.$modalRecipient){t.$modalRecipient.find("option").remove();var e=UX.submissionAuthors.list;t.$modalRecipient.append('<option value="Other">Other</option>');for(var i=0;i<e.length;i++)t.$modalRecipient.append('<option value="'+e[i]+'">'+e[i]+"</option>");$(t.$modalRecipient).length>0&&($(t.$modalRecipient)[0].selectedIndex=0)}},controller:function(){e.on("click","#saveFunder",function(e){if(e.preventDefault(),""==t.$modalNumber.val()||""==t.$modalRecipient.val())t.$modalValidationMessage.text("Please fill all fields ");else{var i="",n="",s=$('[name="funder-name[]"]'),o=$("#funder-name .ms-sel-item"),a=t.$modal.find(".row-num").val(),r="";if(s.each(function(e){i+=$(this).val(),e!=s.length-1&&(i+=","),r+=t.$funderInputTemplate.html().replace(/\{\{0\}\}/gi,$(this).val()).replace(/\{\{1\}\}/gi,a).replace(/fakedinput/gi,"input")}),o.each(function(e){n+=$(this).text(),e!=o.length-1&&(n+=",")}),"add"==t.$modal.find(".mode").val()){var l=t.$templateRow[0].outerHTML;l=l.replace(/\{\{0\}\}/gi,n).replace(/\{\{0_val\}\}/gi,i).replace(/\{\{0_inputs\}\}/gi,r).replace(/\{\{1\}\}/gi,t.$modalNumber.val()).replace(/\{\{2\}\}/gi,t.$modalRecipient.val()).replace(/\{\{3\}\}/gi,a).replace(/fakedinput/gi,"input"),t.$table.find("tbody").append(l)}else{var c=t.$table.find("tr[data-row-num="+a+"]"),d=c.find(t.td1);d.find(".td-text").text(n),d.find(".funder__hidden-inputs").html(r),d.find(t.fundersValues).html(i);var h=c.find(t.td2);h.find(".td-text").text(t.$modalNumber.val()),h.find("input").val(t.$modalNumber.val());var u=c.find(t.td3);u.find(".td-text").text(t.$modalRecipient.val()),u.find("input").val(t.$modalRecipient.val())}t.$modal.modal("toggle")}}),e.on("click","#addGrant",function(e){e.preventDefault(),t.$modal.find(".mode").val("add"),t.$modal.find(".row-num").val(t.$table.find("tbody tr").length),t.magicSuggest.clear(),t.$modalNumber.val(""),$(t.$modalRecipient)[0].selectedIndex=0,t.$modalValidationMessage.text(""),t.$modalTitle.text("Add Funder"),t.$modal.modal({backdrop:"static",keyboard:!1},"toggle")}),e.on("click",".funders .delete",function(e){e.preventDefault(),$(this).closest("tr").addClass("deleted hidden"),$(this).closest("tr").html("")}),e.on("click",".funders .edit",function(e){e.preventDefault();var i=$(this).closest("tr").data("row-num");t.$modal.find(".mode").val("edit"),t.$modal.find(".row-num").val(i),t.$modalValidationMessage.text(" "),t.$modalNumber.val($(this).closest("tr").find(t.td2+" .td-text").html());var n=$(this).closest("tr").find(t.fundersValues).html().split(",");t.magicSuggest.clear(),""!=n&&t.magicSuggest.setValue(n);var s=$(this).closest("tr").find(t.td3+" .td-text").html(),o=$(t.$modalRecipient).find("option");$(t.$modalRecipient)[0].selectedIndex=0,o.each(function(e,i){$(i).val()==s&&($(t.$modalRecipient)[0].selectedIndex=e)}),t.$modalTitle.text("Edit Funder"),t.$modal.modal({backdrop:"static",keyboard:!1},"toggle")})},on:{doSuggest:function(){t.$modal.find(".magicsuggest").each(function(){null==t.magicSuggestData&&(t.magicSuggestData=t.$funderAjaxLink.val()),t.magicSuggest=$(this).magicSuggest({data:t.magicSuggestData,method:"GET",valueField:"value",autoSelect:!1,allowFreeEntries:!1,displayField:"label",hideTrigger:"true",useCommaKey:!1,mode:"remote"})})}}};UX.funders=t}(),function(){var e=$("body"),t={$form:$("#draftForm"),btnSubmit:"#draftForm [data-action]",btnRedirect:"#draftForm [data-redirect]",$notValid:$(".not-valid"),init:function(){t.controller()},controller:function(){t.$form.on("keyup keypress",function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1}),e.on("click",t.btnSubmit,function(e){e.preventDefault();var i=e.target;"BUTTON"===i.tagName&&(t.$form.attr("action",$(i).attr("data-action")),"draft-form__submit"==i.id?t.validate():t.$form.submit())}),e.on("click",t.btnRedirect,function(e){e.preventDefault();var t=e.target;"BUTTON"===t.tagName&&(window.location=$(t).attr("data-redirect"))}),$('[name="basic-metadata.type"]').on("change",function(e){$('[data-related-field="basic-metadata.type"]').addClass("hidden")})},validate:function(){var e=$('[name="basic-metadata.type"]:checked').val(),i=[],n=!0;switch($(".metadata-form__message").addClass("hidden"),i.push("basic-metadata.title"),i.push("basic-metadata.abstract"),i.push("basic-metadata.license"),i.push("editorial-category.uri"),i.push("search-categories.uris"),i.push("pdf.path__validator"),e){case"poster":i.push("basic-metadata.poster-meeting"),i.push("basic-metadata.poster-first-presented-date-ui");break;case"preprint":break;default:$('[data-related-field="basic-metadata.type"]').removeClass("hidden"),n=!1}if(i.forEach(function(e){var t=$('[name="'+e+'"]'),i="[data-related-field='"+e+"']";$(t).removeClass("not-valid"),t.val()&&t.val().length&&0!=t.val()||(n=!1,$(i).removeClass("hidden"),$(t).addClass("not-valid"))}),!0!==n){var s=$(".metadata-form__message:not(.hidden)")[0];return $(document).scrollTop($(s).parent().offset().top-$("header").height()),$.each($(".not-valid"),function(){$(this).on("focus",function(e){$(this).removeClass("not-valid"),$("[data-related-field='"+$(this).attr("name")+"']").addClass("hidden"),$(this).off("focus")})}),!1}t.$form.submit()}};UX.draftForm=t}(),function(){$("body");var e={init:function(){},controller:function(){},on:{add:function(e){var t=e.getAll("files");$(".pd-pdf__table").removeClass("hidden"),$(".pd-pdf__output").text(t[0].name)}}};UX.pdPdf=e}(),function(){$("body");var e={selector:null,init:function(){this.elSelect=".categories-widget select",e.controller()},controller:function(){$(e.elSelect).on("change",function(e){var t=$(this).find("optgroup"),i=jcf.getInstance(this);$(t).each(function(e){var t=$(this).attr("data-parent-id"),n=$("#"+t)[0].selected;$(this).find("option:selected").length>0&&(n||($("#"+t)[0].selected=!0,i.refresh()))})})}};UX.pdSearchCategories=e}(),function(){var e=$("body"),t={submissionList:null,$submissionList:null,submissionListItem:null,$submissionListItem:null,selector:null,$selector:null,doi:null,widgets:[],init:function(){this.submissionList=".submission-list",this.submissionListItem=".submission-list-item",this.selector=".submission__select",this.$submissionList=$(this.submissionList),this.$submissionListItems=$(this.submissionListItem),this.$selector=$(this.selector),this.widgets.push({class:".pdActionBar",url:"/pb/widgets/preprint/submissionActionBar"}),this.widgets.push({class:".pbArticleView",url:"/pb/widgets/preprint/submissionContent"}),t.controller(),t.on.change(t.$selector[0])},controller:function(){e.on("change",t.selector,function(e){e.preventDefault(),t.on.change(this)}),t.$submissionList.on("click",t.submissionListItem,function(e){e.preventDefault(),t.on.click(this)})},on:{change:function(e){t.$submissionListItems.hide(),""==e.value?t.$submissionListItems.show():$("[data-category='"+e.options[e.selectedIndex].text+"']").show()},click:function(e){t.$submissionListItems.removeClass("selected"),$(e).addClass("selected"),t.doi=$(e).data("doi"),t.on.load()},load:function(){t.widgets.forEach(function(e){var i=$(e.class),n=$("[name='pbContext']").attr("content");$.ajax({type:"GET",url:e.url,dataType:"html",data:{doi:t.doi,widgetId:i.data("widget-id"),pbContext:n},success:function(e){i.replaceWith(e),"pdActionBar"==i[0].className&&(UX.pdActionBar.init(),UX.charCounter.init()),"pbArticleView"==i[0].className&&UX.accordion.init()},error:function(){i.replaceWith('<div class="warning-text-color">Oops. Something went wrong!</div>')}})})}}};UX.submissionList=t}(),function(){var e=$("body"),t={$modal:null,$modalDesc:null,$modalValidationMessage:null,$modalPath:null,tdDesc:null,tdPath:null,$table:null,$templateRow:null,$modalTitle:null,init:function(){this.$modal=$("#supplemental-files-modal"),this.$modalDesc=$("#supp-file-description"),this.tdDesc=".description-td",this.tdPath=".path-td",this.$modalValidationMessage=$(".modal-validation-message"),this.$table=$(".supplemental-files__table"),this.$templateRow=$(".supplemental-files .rowTemplate tr"),this.$modalTitle=$("#supplemental-files-modal .modal__header"),t.controller()},controller:function(){e.on("click","#saveSuppFile",function(e){e.preventDefault(),""==t.$modalDesc.val()?t.$modalValidationMessage.text("Please fill all fields "):t.on.edit(),t.$modal.modal("toggle")}),e.on("click",".supplemental-files .delete",function(e){e.preventDefault(),$(this).closest("tr").addClass("deleted hidden"),$(this).closest("tr").html("")}),e.on("click",".supplemental-files .edit",function(e){e.preventDefault();var i=$(this).closest("tr").data("row-num");t.$modal.find(".mode").val("edit"),t.$modal.find(".row-num").val(i),t.$modalValidationMessage.text(" "),t.$modalDesc.val($(this).closest("tr").find(t.tdDesc+" .td-text").html()),t.$modalTitle.text("Edit Supplemental Link"),t.$modal.modal("toggle")})},on:{add:function(e){var i=e.getAll("files"),n=t.$table.find("tbody tr").length;Array.prototype.forEach.call(i,function(e){var i=t.$templateRow[0].outerHTML;i=(i=i.replace(/fakedinput/gi,"input")).replace(/\{\{0\}\}/gi,e.name).replace(/\{\{1\}\}/gi,e.name).replace(/\{\{3\}\}/gi,n++),t.$table.find("tbody").append(i);var s=t.$table.find(".future-jcf");s.removeClass(".future-jcf"),s.addClass(".jcf"),jcf.replace(s),UX.editInPlace&&UX.editInPlace.init()})},edit:function(){var e=t.$modal.find(".row-num").val(),i=t.$table.find("tr[data-row-num="+e+"]").find(t.tdDesc);i.find(".td-text").text(t.$modalDesc.val()),i.find("input").val(t.$modalDesc.val())}}};UX.supplementalFiles=t}(),function(){var e=$("body"),t={$modal:null,$modalDesc:null,$modalValidationMessage:null,$modalUrl:null,$modalType:null,tdDesc:null,tdUrl:null,tdType:null,$table:null,$templateRow:null,$modalTitle:null,init:function(){this.$modal=$("#supplemental-links-modal"),this.$modalDesc=$("#supp-link-description"),this.$modalUrl=$("#supp-link-url"),this.$modalType=$("#supp-link-type"),this.tdDesc=".description-td",this.tdUrl=".url-doi-td",this.tdType=".content-type-td",this.$modalValidationMessage=$(".modal-validation-message"),this.$table=$(".supplemental-links__table"),this.$templateRow=$(".supplemental-links .rowTemplate tr"),this.$modalTitle=$("#supplemental-links-modal .modal__header"),t.controller()},controller:function(){e.on("click","#saveSuppLink",function(e){if(e.preventDefault(),""==t.$modalDesc.val()||""==t.$modalUrl.val()||""==t.$modalType.val())t.$modalValidationMessage.text("Please fill all fields ");else{if("add"==t.$modal.find(".mode").val()){var i=t.$templateRow[0].outerHTML;i=i.replace(/\{\{0\}\}/gi,t.$modalDesc.val()).replace(/\{\{1\}\}/gi,t.$modalUrl.val()).replace(/\{\{2\}\}/gi,t.$modalType.val()).replace(/\{\{2_type\}\}/gi,t.$modalType.find("option:selected").text()).replace(/\{\{3\}\}/gi,t.$modal.find(".row-num").val()).replace(/fakedinput/gi,"input"),t.$table.find("tbody").append(i)}else{var n=t.$modal.find(".row-num").val(),s=t.$table.find("tr[data-row-num="+n+"]"),o=s.find(t.tdDesc);o.find(".td-text").text(t.$modalDesc.val()),o.find("input").val(t.$modalDesc.val());var a=s.find(t.tdUrl);a.find(".td-text").text(t.$modalUrl.val()),a.find("input").val(t.$modalUrl.val());var r=s.find(t.tdType);r.find(".td-text").text(t.$modalType.find("option:selected").text()),r.find("input").val(t.$modalType.val())}t.$modal.modal("toggle")}}),e.on("click","#addSuppLink",function(e){e.preventDefault(),t.$modal.find(".mode").val("add"),t.$modal.find(".row-num").val(t.$table.find("tbody tr").length),t.$modalDesc.val(""),t.$modalUrl.val(""),t.$modalType.val(""),t.$modal.find(".jcf-select-submission__select >.jcf-select-text >span").html("--Select--"),t.$modalValidationMessage.text(""),t.$modalTitle.text("Add Supplemental Link"),t.$modal.modal({backdrop:"static",keyboard:!1},"toggle")}),e.on("click",".supplemental-links .delete",function(e){e.preventDefault(),$(this).closest("tr").addClass("deleted hidden"),$(this).closest("tr").html("")}),e.on("click",".supplemental-links .edit",function(e){e.preventDefault();var i=$(this).closest("tr").data("row-num");t.$modal.find(".mode").val("edit"),t.$modal.find(".row-num").val(i),t.$modalValidationMessage.text(" "),t.$modalDesc.val($(this).closest("tr").find(t.tdDesc+" .td-text").html()),t.$modalUrl.val($(this).closest("tr").find(t.tdUrl+" .td-text").html()),t.$modalType.val($(this).closest("tr").find(t.tdType+" input").val()),t.$modal.find(".jcf-select-submission__select >.jcf-select-text >span").html($(this).closest("tr").find(t.tdType+" .td-text").html()),t.$modalTitle.text("Edit Supplemental Link"),t.$modal.modal({backdrop:"static",keyboard:!1},"toggle")})}};UX.supplementalLinks=t}(),function(){$(window);var e=$("body"),t=!1,i={$target:null,$toggle:null,$ul:null,$li:null,vPort:"screen-sm",init:function(){i.$target=$(".profile-menu"),i.on.build(),i.control()},control:function(){e.on("click",".profile-menu--res a",function(e){i.on.select.dropdown($(this))}),$(document).on(i.vPort+"-on",function(){t=!0,$(".profile-menu").addClass("profile-menu--res"),i.on.build()}),$(document).on(i.vPort+"-off",function(){t=!1,$(".profile-menu").removeClass("profile-menu--res"),i.on.build()})},on:{select:{dropdown:function(e){("dropdown"===e.closest("ul").data("mobile-toggle")||e.closest("ul").hasClass("dropblock--tab"))&&e.closest(".dropBlock").children("a").find("span").text(e.text())}},dropdownBuild:function(e){UX.dropBlock.init(),e.wrap('<div class="profile-menu--dropBlock" data-db-parent-of="dbTab-profile-menu"></div>');var t=e.closest(".profile-menu--dropBlock"),i=e.find("a.active");t.prepend('<a href="#" data-db-target-for="dbTab-profile-menu"><span>'+i.text()+'</span><i class="icon-arrow_d_n pull-right" aria-hidden="true"></i></a>'),e.attr("data-db-target-of","dbTab-profile-menu")},dropdownDestroy:function(e){e.closest(".profile-menu--dropBlock").children("a").remove(),e.removeAttr("data-db-target-of").removeClass("js--open").removeAttr("style").unwrap(".profile-menu--dropBlock")},build:function(){t?i.on.dropdownBuild(i.$target):i.on.dropdownDestroy(i.$target)}}};UX.dropblockUl=i}(),function(){var e={$modal:$("#emailDomainsConfirmationDialog"),init:function(){"true"==$(".showConfirmation").text().trim()&&e.$modal.modal({backdrop:"static",keyboard:!1},"toggle")}};UX.remoteAccessEmail=e}(),function(){var e={$body:$("body"),$examCertificateMessage:$(".exam-certificate-message"),printCertificate:function(){e.$body.empty(),e.$body.append(e.$examCertificateMessage),window.print()}};UX.examCertificate=e}(),function(){var e=$("body"),t={vPort:"screen-sm",isMobile:!1,$menuContainer:$(".responsive-menu-container"),leftSectionWidth:null,rightSectionWidth:null,maxMenuItemWidth:135,$moreDropsown:$(".responsive-menu-nav .menubar > .dropdown-more"),$menu:$(".responsive-menu-nav >.drawer__nav"),$menuWrapper:$(".responsive-menu-nav"),init:function(){t.responsive(),t.control(),t.on.build()},responsive:function(){$(document).on(t.vPort+"-on",function(){t.isMobile=!0}),$(document).on(t.vPort+"-off",function(){t.isMobile=!1})},control:function(){$(window).on("resize",function(){t.modifyMenu()}),e.on("touchend",".dropdown-more >a, .dropdown.menu-parent>a ",function(){$(this).parents(".dropdown-more").length>0&&!$(this).parent().hasClass(".dropdown-more")?$(".responsive-menu-nav .js--opened:not(.dropdown-more)").not($(this).parent()).removeClass("js--opened"):$(".responsive-menu-nav .js--opened").not($(this).parent()).removeClass("js--opened"),$(this).parent().toggleClass("js--opened"),$(this).parent().hasClass("js--opened")?$(this).parent().removeClass("js--forceClose"):$(this).parent().addClass("js--forceClose")}),e.click(function(){$(".responsive-menu-nav .js--opened").removeClass("js--opened")})},on:{build:function(){t.$menuWrapper.show(),t.modifyMenu(),setTimeout(function(){t.modifyMenu()},800)}},modifyMenu:function(){if(t.leftSectionWidth=$(".responsive-menu-container >.left-section").width(),t.rightSectionWidth=$(".responsive-menu-container >.right-section").width(),0==t.isMobile){var e=t.$menuContainer.width()-(t.leftSectionWidth+t.rightSectionWidth+35),i=t.$menu.width();if(e>0&&i>0)if(i>e)for(;i>e;){var n=$('.responsive-menu-nav .menubar > [role="menuitem"]:not(.dropdown-more)').last();if(!(n.length>0))break;t.$moreDropsown.removeClass("hidden"),t.$moreDropsown.find(">.dropdown__menu").prepend(n[0].outerHTML),n.remove(),i=t.$menu.width()}else if(e>i+t.maxMenuItemWidth&&!t.$moreDropsown.hasClass("hidden")){var s=t.$moreDropsown.find('>.dropdown__menu [role="menuitem"]'),o=s.first();o.length>0&&(t.$moreDropsown.before(o[0].outerHTML),s.length<=1&&t.$moreDropsown.addClass("hidden"),o.remove(),(i=t.$menu.width())>e&&t.modifyMenu())}}else t.$moreDropsown.hasClass("hidden")||(t.$moreDropsown.addClass("hidden"),t.$moreDropsown.before(t.$moreDropsown.find(".dropdown__menu").html()),t.$moreDropsown.find(".dropdown__menu").empty())}};UX.reponsiveMenu=t}(),$(document).ready(function(){setMinContentHeight(),$(window).resize(setMinContentHeight)}),function(){function e(){$(".new-address").toggle(),$(".user-addresses").toggle()}$(document).on("click",".add-new-address,.cancle-new-address",function(){e()})}(),function(){var e={init:function(){UX.controller.enabled=!0,enquire.register("screen and (max-width:"+(parseInt(UX.grid.screenXs)-1)+"px)",{match:function(){$(document).trigger("screen-xs-on"),$(document).trigger("smartResize")},unmatch:function(){$(document).trigger("screen-xs-off"),$(document).trigger("smartResize")}}).register("screen and (max-width:"+(parseInt(UX.grid.screenSm)-1)+"px)",{match:function(){$(document).trigger("screen-sm-on"),$(document).trigger("smartResize")},unmatch:function(){$(document).trigger("screen-sm-off"),$(document).trigger("smartResize")}}).register("screen and (max-width:"+(parseInt(UX.grid.screenMd)-1)+"px)",{match:function(){$(document).trigger("screen-md-on"),$(document).trigger("smartResize")},unmatch:function(){$(document).trigger("screen-md-off"),$(document).trigger("smartResize")}}).register("screen and (max-width:"+(parseInt(UX.grid.screenLg)-1)+"px)",{match:function(){$(document).trigger("screen-lg-on"),$(document).trigger("smartResize")},unmatch:function(){$(document).trigger("screen-lg-off"),$(document).trigger("smartResize")}}).register("screen and (min-width:"+UX.grid.screenLg+"px)",{match:function(){$(document).trigger("screen-xlg-on"),$(document).trigger("smartResize")}})}};UX.enquireIt=e}(),$(document).ready(function(){UX.controller.init(),!$(".source_example").length&&$(".sticko , .sticko__md, .sticko__sm").length&&UX.sticko.init(),$('[data-toggle="nav"]').length&&UX.menu.init(),$(".datepicker").length&&UX.datepicker.init(),$(".w-slide__btn").length&&UX.slide.init(),$("[data-db-target-for]").length&&UX.dropBlock.init(),$('[data-toggle="modal"]').length&&UX.modal.init(),$("table").length&&UX.toggleTable.init(),$(".facet").length&&UX.toggle.init(),UX.facetDate.init(),$(".accordion").length&&UX.accordion.init(),$(".coolBar").length&&UX.coolbar.init(),$(".stickybar").length&&UX.stickybar.init(),$("article").length&&UX.loader.init(),$(".back-to-top").length&&UX.backToTop.init(),($(".refineSearch").length||$(".advanced-search").length)&&UX.refine.init(),$(".advanced-search").length&&UX.searchFieldsCtrl.init(),($(".table-fn").length||$(".ref.fn").length||$(".scroll-to-target").length)&&UX.scrollo.init(),$("figure").length&&UX.figureViewer.init(),$(".tab").length&&UX.tab.init(),$(".owl-carousel").length&&UX.slider.init(),$(".loi__banner").length&&UX.loi.init(),$(".quick-search").length&&UX.quickSearch.init(),UX.fieldsCtrl.init(),$('[data-toggle="transplant"]').length&&UX.transplant.init(),$(".js__toggleAdForm").length&&UX.adplaceholder.init(),$(".trusted-proxy-form").length&&UX.trustedPoxy.init(),$(".search__filters__ctrl__reset").length&&UX.appliedFacets.init(),UX.alerts.init(),$("#institutionList").length&&UX.profileMain.init(),UX.dropblockUl.init(),UX.searchResult.init(),$(".favoriteShortlist").length&&UX.favorites.init(),$(".expandable-list").length&&UX.list.init(),$(".basic-metadata").length&&UX.basicMetadata.init(),$(".supplemental-links").length&&UX.supplementalLinks.init(),$(".funders").length&&UX.funders.init(),$(".uploader").length&&UX.fileUploader.init(),$(".author-index").length&&UX.authorIndex.init(),$(".sortable-table").length&&UX.sortableTableRow.init(),$(".submission-authors").length&&UX.submissionAuthors.init(),$("#institutionUsageReport").length&&UX.reports.init(),$(".cookiePolicy-popup").length&&UX.cookiePolicyPopupWidget.init(),$(".supplemental-files").length&&UX.supplementalFiles.init(),$(".js-editable").length&&UX.editInPlace.init(),$(".submission-list").length&&UX.submissionList.init(),$(".pd-action-bar").length&&UX.pdActionBar.init(),$(".js-counter").length&&UX.charCounter.init(),$("#draftForm").length&&UX.draftForm.init(),$(".pairing-management").length&&UX.pairingManagment.init(),$(".device-pairing").length&&UX.devicePairing.init(),$(".scrollThenFix").length&&UX.headerScrollFix.init(),$(".categories-widget").length&&UX.pdSearchCategories.init(),$(".client-pagination").length&&UX.clientPagination.init(),$(".remote-access-email-domains").length&&UX.remoteAccessEmail.init(),$(".js__removeAdmins").length&&UX.administrators.init(),$(".responsive-menu-nav").length&&UX.reponsiveMenu.init(),$(".js__removeAdmins").length&&UX.administrators.init(),$(".multi-search").length&&UX.multiSearch.init(),$(".sections-block").length&&UX.sidebarSections.init(),$(".auto-hide-primary-bar").length&&UX.autoHideBar.init(),$("main.content").length&&UX.pageBody.init(),UX.enquireIt.init()})}();
//# sourceMappingURL=main.bundle.js.map
